define("common:widget/ui/jquery/jquery.js",function(e,t,n){!function(e,t){function n(e){var t=ht[e]={};return K.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(mt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:gt.test(r)?K.parseJSON(r):r}catch(o){}K.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!K.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,K.isFunction(t))return K.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return K.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=K.grep(e,function(e){return 1===e.nodeType});if(qt.test(t))return K.filter(t,r,!n);t=K.filter(t,r)}return K.grep(e,function(e){return K.inArray(e,t)>=0===n})}function c(e){var t=Wt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e,t){if(1===t.nodeType&&K.hasData(e)){var n,r,i,o=K._data(e),a=K._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)K.event.add(t,n,s[n][r])}a.data&&(a.data=K.extend({},a.data))}}function d(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),K.support.html5Clone&&e.innerHTML&&!K.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Qt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(K.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Qt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=vn.length;i--;)if(t=vn[i]+n,t in e)return t;return r}function y(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(i[o]=K._data(n,"olddisplay"),t?(i[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&y(n)&&(i[o]=K._data(n,"olddisplay",T(n.nodeName)))):(r=nn(n,"display"),i[o]||"none"===r||K._data(n,"olddisplay",r)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function b(e,t,n){var r=fn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function x(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>i;i+=2)"margin"===n&&(o+=K.css(e,n+yn[i],!0)),r?("content"===n&&(o-=parseFloat(nn(e,"padding"+yn[i]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+yn[i]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+yn[i]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+yn[i]+"Width"))||0));return o}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=K.support.boxSizing&&"border-box"===K.css(e,"boxSizing");if(0>=r||null==r){if(r=nn(e,t),(0>r||null==r)&&(r=e.style[t]),pn.test(r))return r;i=o&&(K.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+x(e,t,n||(o?"border":"content"),i)+"px"}function T(e){if(hn[e])return hn[e];var t=K("<"+e+">").appendTo(R.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=R.body.appendChild(rn||K.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),R.body.removeChild(rn)),hn[e]=n,n}function N(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||wn.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)N(e+"["+i+"]",t[i],n,r)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,o,a=t.toLowerCase().split(tt),s=0,l=a.length;if(K.isFunction(n))for(;l>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function k(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,f=e===_n;c>u&&(f||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=k(e,n,r,i,s,a)));return!f&&s||a["*"]||(s=k(e,n,r,i,"*",a)),s}function E(e,n){var r,i,o=K.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&K.extend(!0,e,i)}function S(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):void 0}function A(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;i=a[++u];)if("*"!==i){if("*"!==s&&s!==i){if(n=l[s+" "+i]||l["* "+i],!n)for(r in l)if(o=r.split(" "),o[1]===i&&(n=l[s+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[r]:l[r]!==!0&&(i=o[0],a.splice(u--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(t){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Jn=t},0),Jn=K.now()}function H(e,t){K.each(t,function(t,n){for(var r=(er[t]||[]).concat(er["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function F(e,t,n){var r,i=0,o=Zn.length,a=K.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Jn||L(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),i=0,o=l.tweens.length;o>i;i++)l.tweens[i].run(r);return a.notifyWith(e,[l,r,n]),1>r&&o?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=K.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var n=0,r=t?l.tweens.length:0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),u=l.props;for(M(u,l.opts.specialEasing);o>i;i++)if(r=Zn[i].call(l,e,u,l.opts))return r;return H(l,u),K.isFunction(l.opts.start)&&l.opts.start.call(e,l),K.fx.timer(K.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o,a,s,l,u,c,f=this,p=e.style,d={},h=[],g=e.nodeType&&y(e);n.queue||(u=K._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,K.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===K.css(e,"display")&&"none"===K.css(e,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",K.support.shrinkWrapBlocks||f.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Vn.exec(o)){if(delete t[r],o===(g?"hide":"show"))continue;h.push(r)}if(a=h.length)for(s=K._data(e,"fxshow")||K._data(e,"fxshow",{}),g?K(e).show():f.done(function(){K(e).hide()}),f.done(function(){var t;K.removeData(e,"fxshow",!0);for(t in d)K.style(e,t,d[t])}),r=0;a>r;r++)i=h[r],l=f.createTween(i,g?s[i]:0),d[i]=s[i]||K.style(e,i),i in s||(s[i]=l.start,g&&(l.end=l.start,l.start="width"===i||"height"===i?1:0))}function q(e,t,n,r,i){return new q.prototype.init(e,t,n,r,i)}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=yn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e){return K.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,P,R=e.document,$=e.location,I=e.navigator,z=e.jQuery,X=e.$,U=Array.prototype.push,Y=Array.prototype.slice,J=Array.prototype.indexOf,Q=Object.prototype.toString,V=Object.prototype.hasOwnProperty,G=String.prototype.trim,K=function(e,t){return new K.fn.init(e,t,W)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,ft=function(e,t){return(t+"").toUpperCase()},pt=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",pt,!1),K.ready()):"complete"===R.readyState&&(R.detachEvent("onreadystatechange",pt),K.ready())},dt={};K.fn=K.prototype={constructor:K,init:function(e,n,r){var i,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:rt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof K?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:R,e=K.parseHTML(i[1],a,!0),it.test(i[1])&&K.isPlainObject(n)&&this.attr.call(e,n,!0),K.merge(this,e);if(o=R.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=R,this.selector=e,this}return K.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=K.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return K.each(this,e,t)},ready:function(e){return K.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},K.fn.init.prototype=K.fn,K.extend=K.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||K.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(K.isPlainObject(i)||(o=K.isArray(i)))?(o?(o=!1,a=r&&K.isArray(r)?r:[]):a=r&&K.isPlainObject(r)?r:{},s[n]=K.extend(c,a,i)):i!==t&&(s[n]=i));return s},K.extend({noConflict:function(t){return e.$===K&&(e.$=X),t&&e.jQuery===K&&(e.jQuery=z),K},isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){if(e===!0?!--K.readyWait:!K.isReady){if(!R.body)return setTimeout(K.ready,1);K.isReady=!0,e!==!0&&--K.readyWait>0||(P.resolveWith(R,[K]),K.fn.trigger&&K(R).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray||function(e){return"array"===K.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):dt[Q.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==K.type(e)||e.nodeType||K.isWindow(e))return!1;try{if(e.constructor&&!V.call(e,"constructor")&&!V.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||V.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||R,(r=it.exec(e))?[t.createElement(r[1])]:(r=K.buildFragment([e],t,n?null:[]),K.merge([],(r.cacheable?K.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=K.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(st,"@").replace(lt,"]").replace(at,""))?new Function("return "+t)():void K.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,ft)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,o=0,a=e.length,s=a===t||K.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:G&&!G.call("﻿ ")?function(e){return null==e?"":G.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=K.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||K.isWindow(e)?U.call(r,e):K.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],s=0,l=e.length,u=e instanceof K||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||K.isArray(e));if(u)for(;l>s;s++)i=n(e[s],s,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),K.isFunction(e)?(i=Y.call(arguments,2),o=function(){return e.apply(n,i.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||K.guid++,o):t},access:function(e,n,r,i,o,a,s){var l,u=null==r,c=0,f=e.length;if(r&&"object"==typeof r){for(c in r)K.access(e,n,c,r[c],1,a,i);o=1}else if(i!==t){if(l=s===t&&K.isFunction(i),u&&(l?(l=n,n=function(e,t,n){return l.call(K(e),n)}):(n.call(e,i),n=null)),n)for(;f>c;c++)n(e[c],r,l?i.call(e[c],c,n(e[c],r)):i,s);o=1}return o?e:u?n.call(e):f?n(e[0],r):a},now:function(){return(new Date).getTime()}}),K.ready.promise=function(t){if(!P)if(P=K.Deferred(),"complete"===R.readyState)setTimeout(K.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",pt,!1),e.addEventListener("load",K.ready,!1);else{R.attachEvent("onreadystatechange",pt),e.attachEvent("onload",K.ready);var n=!1;try{n=null==e.frameElement&&R.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!K.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}K.ready()}}()}return P.promise(t)},K.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){dt["[object "+t+"]"]=t.toLowerCase()}),W=K(R);var ht={};K.Callbacks=function(e){e="string"==typeof e?ht[e]||n(e):K.extend({},e);var r,i,o,a,s,l,u=[],c=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,l=a||0,a=0,s=u.length,o=!0;u&&s>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,u&&(c?c.length&&f(c.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;!function n(t){K.each(t,function(t,r){var i=K.type(r);"function"!==i||e.unique&&p.has(r)?r&&r.length&&"string"!==i&&n(r):u.push(r)})}(arguments),o?s=u.length:r&&(a=t,f(r))}return this},remove:function(){return u&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,u,n))>-1;)u.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return K.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!c||(o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,r){var o=r[0],a=e[t];i[r[1]](K.isFunction(a)?function(){var e=a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=a.fire,i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,l=1===s?e:K.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),K.support=function(){var t,n,r,i,o,a,s,l,u,c,f,p=R.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length)return{};i=R.createElement("select"),o=i.appendChild(R.createElement("option")),a=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!R.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===R.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",f)),a=R.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=R.createDocumentFragment(),s.appendChild(p.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in p,c||(p.setAttribute(l,"return;"),c="function"==typeof p[l]),t[u+"Bubbles"]=c;return K(function(){var n,r,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=R.getElementsByTagName("body")[0];s&&(n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,o=R.createElement("div"),o.style.cssText=r.style.cssText=a,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=o=null)}),s.removeChild(p),n=r=i=o=a=s=p=null,t}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;K.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?K.cache[e[K.expando]]:e[K.expando],!!e&&!i(e)},data:function(e,n,r,i){if(K.acceptData(e)){var o,a,s=K.expando,l="string"==typeof n,u=e.nodeType,c=u?K.cache:e,f=u?e[s]:e[s]&&s;if(f&&c[f]&&(i||c[f].data)||!l||r!==t)return f||(u?e[s]=f=K.deletedIds.pop()||K.guid++:f=s),c[f]||(c[f]={},u||(c[f].toJSON=K.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[f]=K.extend(c[f],n):c[f].data=K.extend(c[f].data,n)),o=c[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[K.camelCase(n)]=r),l?(a=o[n],null==a&&(a=o[K.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(K.acceptData(e)){var r,o,a,s=e.nodeType,l=s?K.cache:e,u=s?e[K.expando]:K.expando;if(l[u]){if(t&&(r=n?l[u]:l[u].data)){K.isArray(t)||(t in r?t=[t]:(t=K.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete r[t[o]];if(!(n?i:K.isEmptyObject)(r))return}(n||(delete l[u].data,i(l[u])))&&(s?K.cleanData([e],!0):K.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return K.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&K.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),K.fn.extend({data:function(e,n){var i,o,a,s,l,u=this[0],c=0,f=null;if(e===t){if(this.length&&(f=K.data(u),1===u.nodeType&&!K._data(u,"parsedAttrs"))){for(a=u.attributes,l=a.length;l>c;c++)s=a[c].name,s.indexOf("data-")||(s=K.camelCase(s.substring(5)),r(u,s,f[s]));K._data(u,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){K.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",o=i[1]+"!",K.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[i[0]]),f===t&&u&&(f=K.data(u,e),f=r(u,e,f)),f===t&&i[1]?this.data(i[0]):f):(i[1]=n,void this.each(function(){var t=K(this);t.triggerHandler("setData"+o,i),K.data(this,e,n),t.triggerHandler("changeData"+o,i)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){K.removeData(this,e)})}}),K.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=K._data(e,t),n&&(!r||K.isArray(n)?r=K._data(e,t,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K._data(e,n)||K._data(e,n,{empty:K.Callbacks("once memory").add(function(){K.removeData(e,t+"queue",!0),K.removeData(e,n,!0)})})}}),K.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?K.queue(this[0],e):n===t?this:this.each(function(){var t=K.queue(this,e,n);K._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},delay:function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=K.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=K._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var yt,vt,bt,xt=/[\t\r\n]/g,wt=/\r/g,Tt=/^(?:button|input)$/i,Nt=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,kt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Et=K.support.getSetAttribute;K.fn.extend({attr:function(e,t){return K.access(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})},prop:function(e,t){return K.access(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return e=K.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");i.className=K.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,l=this.length;l>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(xt," "),o=0,a=n.length;a>o;o++)for(;r.indexOf(" "+n[o]+" ")>=0;)r=r.replace(" "+n[o]+" "," ");i.className=e?K.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(K.isFunction(e)?function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,o=0,a=K(this),s=t,l=e.split(tt);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||e===!1?"":K._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=K.isFunction(e),this.each(function(r){var o,a=K(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":K.isArray(o)&&(o=K.map(o,function(e){return null==e?"":e+""})),n=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=K.valHooks[o.type]||K.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(wt,""):null==r?"":r)}}}),K.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,r=l?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(K.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&K.nodeName(i.parentNode,"optgroup"))){if(t=K(i).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?K(s[o]).val():a},set:function(e,t){var n=K.makeArray(t);return K(e).find("option").each(function(){this.selected=K.inArray(K(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&K.isFunction(K.fn[n])?K(e)[n](r):"undefined"==typeof e.getAttribute?K.prop(e,n,r):(s=1!==l||!K.isXMLDoc(e),s&&(n=n.toLowerCase(),a=K.attrHooks[n]||(kt.test(n)?vt:yt)),r!==t?null===r?void K.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(tt);a<r.length;a++)i=r[a],i&&(n=K.propFix[i]||i,o=kt.test(i),o||K.attr(e,i,""),e.removeAttribute(Et?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Tt.test(e.nodeName)&&e.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return yt&&K.nodeName(e,"button")?yt.get(e,t):t in e?e.value:null},set:function(e,t,n){return yt&&K.nodeName(e,"button")?yt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!K.isXMLDoc(e),a&&(n=K.propFix[n]||n,o=K.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Nt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),vt={get:function(e,n){var r,i=K.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?K.removeAttr(e,n):(r=K.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Et||(bt={name:!0,id:!0,coords:!0},yt=K.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},K.each(["width","height"],function(e,t){K.attrHooks[t]=K.extend(K.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0
}})}),K.attrHooks.contenteditable={get:yt.get,set:function(e,t,n){""===t&&(t="false"),yt.set(e,t,n)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(e,n){K.attrHooks[n]=K.extend(K.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),K.support.style||(K.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}})});var St=/^(?:textarea|input|select)$/i,At=/^([^\.]*|)(?:\.(.+)|)$/,jt=/(?:^|\s)hover(\.\S+|)\b/,Dt=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Ft=function(e){return K.event.special.hover?e:e.replace(jt,"mouseenter$1 mouseleave$1")};K.event={add:function(e,n,r,i,o){var a,s,l,u,c,f,p,d,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=K._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=K.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof K||e&&K.event.triggered===e.type?t:K.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=K.trim(Ft(n)).split(" "),u=0;u<n.length;u++)c=At.exec(n[u])||[],f=c[1],p=(c[2]||"").split(".").sort(),m=K.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=K.event.special[f]||{},d=K.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&K.expr.match.needsContext.test(o),namespace:p.join(".")},h),g=l[f],g||(g=l[f]=[],g.delegateCount=0,m.setup&&m.setup.call(e,i,p,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),m.add&&(m.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),K.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,p,d,h,g,m=K.hasData(e)&&K._data(e);if(m&&(p=m.events)){for(t=K.trim(Ft(t||"")).split(" "),o=0;o<t.length;o++)if(a=At.exec(t[o])||[],s=l=a[1],u=a[2],s){for(d=K.event.special[s]||{},s=(r?d.delegateType:d.bindType)||s,h=p[s]||[],c=h.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],!i&&l!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(h.splice(f--,1),g.selector&&h.delegateCount--,d.remove&&d.remove.call(e,g));0===h.length&&c!==h.length&&(d.teardown&&d.teardown.call(e,u,m.handle)!==!1||K.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)K.event.remove(e,s+t[o],n,r,!0);K.isEmptyObject(p)&&(delete m.handle,K.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,f,p,d,h,g,m=n.type||n,y=[];if(!Ht.test(m+K.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(y=m.split("."),m=y.shift(),y.sort()),i&&!K.event.customEvent[m]||K.event.global[m]))if(n="object"==typeof n?n[K.expando]?n:new K.Event(m,n):new K.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?K.makeArray(r):[],r.unshift(n),p=K.event.special[m]||{},!p.trigger||p.trigger.apply(i,r)!==!1){if(h=[[i,p.bindType||m]],!o&&!p.noBubble&&!K.isWindow(i)){for(g=p.delegateType||m,u=Ht.test(g+m)?i:i.parentNode,c=i;u;u=u.parentNode)h.push([u,g]),c=u;c===(i.ownerDocument||R)&&h.push([c.defaultView||c.parentWindow||e,g])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)u=h[l][0],n.type=h[l][1],d=(K._data(u,"events")||{})[n.type]&&K._data(u,"handle"),d&&d.apply(u,r),d=f&&u[f],d&&K.acceptData(u)&&d.apply&&d.apply(u,r)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===m&&K.nodeName(i,"a")||!K.acceptData(i)||f&&i[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!K.isWindow(i)&&(c=i[f],c&&(i[f]=null),K.event.triggered=m,i[m](),K.event.triggered=t,c&&(i[f]=c)),n.result}}else{a=K.cache;for(l in a)a[l].events&&a[l].events[m]&&K.event.trigger(n,r,a[l].handle.elem,!0)}}},dispatch:function(n){n=K.event.fix(n||e.event);var r,i,o,a,s,l,u,c,f,p=(K._data(this,"events")||{})[n.type]||[],d=p.delegateCount,h=Y.call(arguments),g=!n.exclusive&&!n.namespace,m=K.event.special[n.type]||{},y=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},u=[],r=0;d>r;r++)c=p[r],f=c.selector,s[f]===t&&(s[f]=c.needsContext?K(f,this).index(o)>=0:K.find(f,this,null,[o]).length),s[f]&&u.push(c);u.length&&y.push({elem:o,matches:u})}for(p.length>d&&y.push({elem:this,matches:p.slice(d)}),r=0;r<y.length&&!n.isPropagationStopped();r++)for(l=y[r],n.currentTarget=l.elem,i=0;i<l.matches.length&&!n.isImmediatePropagationStopped();i++)c=l.matches[i],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((K.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||R,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r=e,i=K.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=K.Event(r),t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){K.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector}return(!i||i!==r&&!K.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:void K.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=K.nodeName(n,"input")||K.nodeName(n,"button")?n.form:t;r&&!K._data(r,"_submit_attached")&&(K.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),K._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&K.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return K.nodeName(this,"form")?!1:void K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return St.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),K.event.simulate("change",this,e,!0)})),!1):void K.event.add(this,"beforeactivate._change",function(e){var t=e.target;St.test(t.nodeName)&&!K._data(t,"_change_attached")&&(K.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||K.event.simulate("change",this.parentNode,e,!0)}),K._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),!St.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){0===n++&&R.addEventListener(e,r,!0)},teardown:function(){0===--n&&R.removeEventListener(e,r,!0)}}}),K.fn.extend({on:function(e,n,r,i,a){var s,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=o;else if(!i)return this;return 1===a&&(s=i,i=function(e){return K().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=K.guid++)),this.each(function(){K.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,K(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=o),this.each(function(){K.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return K(this.context).on(e,this.selector,t,n),this},die:function(e,t){return K(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?K.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||K.guid++,r=0,i=function(n){var i=(K._data(this,"lastToggle"+e.guid)||0)%r;return K._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Dt.test(t)&&(K.event.fixHooks[t]=K.event.keyHooks),Lt.test(t)&&(K.event.fixHooks[t]=K.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||L;var i,o,a,s,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(a=w(t),!a&&!r&&(i=nt.exec(e)))if(s=i[1]){if(9===l){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&T(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return q.apply(n,_.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&pt&&t.getElementsByClassName)return q.apply(n,_.call(t.getElementsByClassName(s),0)),n}return g(e.replace(G,"$1"),t,n,r,a)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return W(function(t){return t=+t,W(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function a(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function s(e,t){var r,i,o,a,s,l,u,c=$[j][e];if(c)return t?0:c.slice(0);for(s=e,l=[],u=b.preFilter;s;){(!r||(i=Z.exec(s)))&&(i&&(s=s.slice(i[0].length)),l.push(o=[])),r=!1,(i=et.exec(s))&&(o.push(r=new D(i.shift())),s=s.slice(r.length),r.type=i[0].replace(G," "));for(a in b.filter)!(i=st[a].exec(s))||u[a]&&!(i=u[a](i,L,!0))||(o.push(r=new D(i.shift())),s=s.slice(r.length),r.type=a,r.matches=i);if(!r)break}return t?s.length:s?n.error(e):$(e,l).slice(0)}function l(e,t,n){var r=t.dir,i=n&&"parentNode"===t.dir,o=M++;return t.first?function(t,n,o){for(;t=t[r];)if(i||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[r];)if((i||1===t.nodeType)&&e(t,n,a))return t}else for(var s,l=F+" "+o+" ",u=l+y;t=t[r];)if(i||1===t.nodeType){if((s=t[j])===u)return t.sizset;if("string"==typeof s&&0===s.indexOf(l)){if(t.sizset)return t}else{if(t[j]=u,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function c(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function f(e,t,n,r,i,o){return r&&!r[j]&&(r=f(r)),i&&!i[j]&&(i=f(i,o)),W(function(o,a,s,l){if(!o||!i){var u,f,p,d=[],g=[],m=a.length,y=o||h(t||"*",s.nodeType?[s]:s,[],o),v=!e||!o&&t?y:c(y,d,e,s,l),b=n?i||(o?e:m||r)?[]:a:v;if(n&&n(v,b,s,l),r)for(p=c(b,g),r(p,[],s,l),u=p.length;u--;)(f=p[u])&&(b[g[u]]=!(v[g[u]]=f));if(o)for(u=e&&b.length;u--;)(f=b[u])&&(o[d[u]]=!(a[d[u]]=f));else b=c(b===a?b.splice(m,b.length):b),i?i(null,a,b,l):q.apply(a,b)}})}function p(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,c=l(function(e){return e===t},a,!0),d=l(function(e){return B.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==E)||((t=n).nodeType?c(e,n,r):d(e,n,r))}];i>s;s++)if(n=b.relative[e[s].type])h=[l(u(h),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;i>r&&!b.relative[e[r].type];r++);return f(s>1&&u(h),s>1&&e.slice(0,s-1).join("").replace(G,"$1"),n,r>s&&p(e.slice(s,r)),i>r&&p(e=e.slice(r)),i>r&&e.join(""))}h.push(n)}return u(h)}function d(e,t){var r=t.length>0,i=e.length>0,o=function(a,s,l,u,f){var p,d,h,g=[],m=0,v="0",x=a&&[],w=null!=f,T=E,N=a||i&&b.find.TAG("*",f&&s.parentNode||s),C=F+=null==T?1:Math.E;for(w&&(E=s!==L&&s,y=o.el);null!=(p=N[v]);v++){if(i&&p){for(d=0;h=e[d];d++)if(h(p,s,l)){u.push(p);break}w&&(F=C,y=++o.el)}r&&((p=!h&&p)&&m--,a&&x.push(p))}if(m+=v,r&&v!==m){for(d=0;h=t[d];d++)h(x,g,s,l);if(a){if(m>0)for(;v--;)x[v]||g[v]||(g[v]=O.call(u));g=c(g)}q.apply(u,g),w&&!a&&g.length>0&&m+t.length>1&&n.uniqueSort(u)}return w&&(F=C,E=T),x};return o.el=0,r?W(o):o}function h(e,t,r,i){for(var o=0,a=t.length;a>o;o++)n(e,t[o],r,i);return r}function g(e,t,n,r,i){{var o,a,l,u,c,f=s(e);f.length}if(!r&&1===f.length){if(a=f[0]=f[0].slice(0),a.length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!i&&b.relative[a[1].type]){if(t=b.find.ID(l.matches[0].replace(at,""),t,i)[0],!t)return n;e=e.slice(a.shift().length)}for(o=st.POS.test(e)?-1:a.length-1;o>=0&&(l=a[o],!b.relative[u=l.type]);o--)if((c=b.find[u])&&(r=c(l.matches[0].replace(at,""),rt.test(a[0].type)&&t.parentNode||t,i))){if(a.splice(o,1),e=r.length&&a.join(""),!e)return q.apply(n,_.call(r,0)),n;break}}return N(e,f)(r,t,i,n,rt.test(e)),n}function m(){}var y,v,b,x,w,T,N,C,k,E,S=!0,A="undefined",j=("sizcache"+Math.random()).replace(".",""),D=String,L=e.document,H=L.documentElement,F=0,M=0,O=[].pop,q=[].push,_=[].slice,B=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},W=function(e,t){return e[j]=null==t||t,e},P=function(){var e={},t=[];return W(function(n,r){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n]=r},e)},R=P(),$=P(),I=P(),z="[\\x20\\t\\r\\n\\f]",X="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=X.replace("w","w#"),Y="([*^$|!~]?=)",J="\\["+z+"*("+X+")"+z+"*(?:"+Y+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+z+"*\\]",Q=":("+X+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+J+")|[^:]|\\\\.)*|.*))\\)|)",V=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)",G=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),Z=new RegExp("^"+z+"*,"+z+"*"),et=new RegExp("^"+z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*"),tt=new RegExp(Q),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rt=/[\x20\t\r\n\f]*[+~]/,it=/h\d/i,ot=/input|select|textarea|button/i,at=/\\(?!\\)/g,st={ID:new RegExp("^#("+X+")"),CLASS:new RegExp("^\\.("+X+")"),NAME:new RegExp("^\\[name=['\"]?("+X+")['\"]?\\]"),TAG:new RegExp("^("+X.replace("w","w*")+")"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Q),POS:new RegExp(V,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),needsContext:new RegExp("^"+z+"*[>+~]|"+V,"i")},lt=function(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),ct=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")}),ft=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),pt=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),dt=lt(function(e){e.id=j+0,e.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",H.insertBefore(e,H.firstChild);var t=L.getElementsByName&&L.getElementsByName(j).length===2+L.getElementsByName(j+0).length;return v=!L.getElementById(j),H.removeChild(e),t});try{_.call(H.childNodes,0)[0].nodeType}catch(ht){_=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},x=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=x(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=n.contains=H.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:H.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=w(e);return r||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):r||ft?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:W,match:st,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==A&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==A&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==A&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==A?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i}return n},NAME:dt&&function(e,t){return typeof t.getElementsByName!==A?t.getElementsByName(name):void 0},CLASS:pt&&function(e,t,n){return typeof t.getElementsByClassName===A||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(at,""),e[3]=(e[4]||e[5]||"").replace(at,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return st.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:v?function(e){return e=e.replace(at,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(at,""),function(t){var n=typeof t.getAttributeNode!==A&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(at,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=R[j][e];return t||(t=R(e,new RegExp("(^|"+z+")"+e+"("+z+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:t?(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.substr(o.length-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t?o===r||o.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r){return"nth"===e?function(e){var t,i,o=e.parentNode;if(1===n&&0===r)return!0;if(o)for(i=0,t=o.firstChild;t&&(1!==t.nodeType||(i++,e!==t));t=t.nextSibling);return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var r,i=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[j]?i(t):i.length>1?(r=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?W(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=B.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:W(function(e){var t=[],n=[],r=N(e.replace(G,"$1"));return r[j]?W(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:W(function(e){return function(t){return n(e,t).length>0}}),contains:W(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return it.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:o(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},C=H.compareDocumentPosition?function(e,t){return e===t?(k=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return k=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],s=e.parentNode,l=t.parentNode,u=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==o[c])return a(i[c],o[c]);return c===n?a(e,o[c],-1):a(i[c],t,1)},[0,0].sort(C),S=!k,n.uniqueSort=function(e){var t,n=1;if(k=S,e.sort(C),k)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},N=n.compile=function(e,t){var n,r=[],i=[],o=I[j][e];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=p(t[n]),o[j]?r.push(o):i.push(o);o=I(e,d(i,r))}return o},L.querySelectorAll&&!function(){var e,t=g,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active",":focus"],l=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||H.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+z+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,i,a,l){if(!(a||l||o&&o.test(e))){var u,c,f=!0,p=j,d=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=s(e),(f=n.getAttribute("id"))?p=f.replace(r,"\\$&"):n.setAttribute("id",p),p="[id='"+p+"'] ",c=u.length;c--;)u[c]=p+u[c].join("");d=rt.test(e)&&n.parentNode||n,h=u.join(",")}if(h)try{return q.apply(i,_.call(d.querySelectorAll(h),0)),i}catch(g){}finally{f||n.removeAttribute("id")}}return t(e,n,i,a,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),a.push("!=",Q)}catch(n){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!(w(t)||a.test(r)||o&&o.test(r)))try{var s=l.call(t,r);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(u){}return n(r,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=K.attr,K.find=n,K.expr=n.selectors,K.expr[":"]=K.expr.pseudos,K.unique=n.uniqueSort,K.text=n.getText,K.isXMLDoc=n.isXML,K.contains=n.contains}(e);var Mt=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,qt=/^.[^:#\[\.,]*$/,_t=K.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return K(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(K.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=a.length,K.find(e,this[t],a),t>0)for(i=r;i<a.length;i++)for(o=0;r>o;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=K(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(K.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?_t.test(e)?K(e,this.context).index(this[0])>=0:K.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=_t.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:K.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?K.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?K.inArray(this[0],K(e)):K.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?K(e,t):K.makeArray(e&&e.nodeType?[e]:e),r=K.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:K.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.fn.andSelf=K.fn.addBack,K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return K.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return Mt.test(e)||(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),i=this.length>1&&!Bt[e]?K.unique(i):i,this.length>1&&Ot.test(e)&&(i=i.reverse()),this.pushStack(i,e,Y.call(arguments).join(","))}}),K.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?K.find.matchesSelector(t[0],e)?[t[0]]:[]:K.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!K(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,Rt=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,zt=/<tbody/i,Xt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Yt=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),Qt=/^(?:checkbox|radio)$/,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/\/(java|ecma)script/i,Kt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(R),tn=en.appendChild(R.createElement("div"));
Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,K.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),K.fn.extend({text:function(e){return K.access(this,function(e){return e===t?K.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapAll(e.call(this,t))});if(this[0]){var t=K(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(K.isFunction(e)?function(t){K(this).wrapInner(e.call(this,t))}:function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||K.filter(e,[n]).length)&&(t||1!==n.nodeType||(K.cleanData(n.getElementsByTagName("*")),K.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&K.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return K.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Pt,""):t;if(!("string"!=typeof e||Ut.test(e)||!K.support.htmlSerialize&&Jt.test(e)||!K.support.leadingWhitespace&&Rt.test(e)||Zt[(It.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(K.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(K(K.isFunction(e)?e():e),"replaceWith",e):this:K.isFunction(e)?this.each(function(t){var n=K(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=K(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;K(this).remove(),t?K(t).before(e):K(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,o,a,s,l=0,u=e[0],c=[],p=this.length;if(!K.support.checkClone&&p>1&&"string"==typeof u&&Vt.test(u))return this.each(function(){K(this).domManip(e,n,r)});if(K.isFunction(u))return this.each(function(i){var o=K(this);e[0]=u.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(i=K.buildFragment(e,this,c),a=i.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&K.nodeName(o,"tr"),s=i.cacheable||p-1;p>l;l++)r.call(n&&K.nodeName(this[l],"table")?f(this[l],"tbody"):this[l],l===s?a:K.clone(a,!0,!0));a=o=null,c.length&&K.each(c,function(e,t){t.src?K.ajax?K.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):K.error("no ajax"):K.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Kt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),K.buildFragment=function(e,n,r){var i,o,a,s=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===R&&"<"===s.charAt(0))||Yt.test(s)||!K.support.checkClone&&Vt.test(s)||!K.support.html5Clone&&Jt.test(s)||(o=!0,i=K.fragments[s],a=i!==t),i||(i=n.createDocumentFragment(),K.clean(e,n,i,r),o&&(K.fragments[s]=a&&i)),{fragment:i,cacheable:o}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(n){var r,i=0,o=[],a=K(n),s=a.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),K(a[i])[t](r),o=o.concat(r);return this.pushStack(o,e,a.selector)}}),K.extend({clone:function(e,t,n){var r,i,o,a;if(K.support.html5Clone||K.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(a=tn.firstChild)),!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(d(e,a),r=h(e),i=h(a),o=0;r[o];++o)i[o]&&d(r[o],i[o]);if(t&&(p(e,a),n))for(r=h(e),i=h(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,l,u,f,p,d,h,m,y=t===R&&en,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=R),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Xt.test(a)){for(y=y||c(t),f=t.createElement("div"),y.appendChild(f),a=a.replace($t,"<$1></$2>"),s=(It.exec(a)||["",""])[1].toLowerCase(),l=Zt[s]||Zt._default,u=l[0],f.innerHTML=l[1]+a+l[2];u--;)f=f.lastChild;if(!K.support.tbody)for(p=zt.test(a),d="table"!==s||p?"<table>"!==l[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,o=d.length-1;o>=0;--o)K.nodeName(d[o],"tbody")&&!d[o].childNodes.length&&d[o].parentNode.removeChild(d[o]);!K.support.leadingWhitespace&&Rt.test(a)&&f.insertBefore(t.createTextNode(Rt.exec(a)[0]),f.firstChild),a=f.childNodes,f.parentNode.removeChild(f)}else a=t.createTextNode(a);a.nodeType?v.push(a):K.merge(v,a)}if(f&&(a=f=y=null),!K.support.appendChecked)for(i=0;null!=(a=v[i]);i++)K.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){return!e.type||Gt.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},i=0;null!=(a=v[i]);i++)K.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=K.grep(K.merge([],a.getElementsByTagName("script")),h),v.splice.apply(v,[i+1,0].concat(m)),i+=m.length));return v},cleanData:function(e,t){for(var n,r,i,o,a=0,s=K.expando,l=K.cache,u=K.support.deleteExpando,c=K.event.special;null!=(i=e[a]);a++)if((t||K.acceptData(i))&&(r=i[s],n=r&&l[r])){if(n.events)for(o in n.events)c[o]?K.event.remove(i,o):K.removeEvent(i,o,n.handle);l[r]&&(delete l[r],u?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,K.deletedIds.push(r))}}}),function(){var e,t;K.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=K.uaMatch(I.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),K.browser=t,K.sub=function(){function e(t,n){return new e.fn.init(t,n)}K.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof K&&!(r instanceof e)&&(r=e(r)),K.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nn,rn,on,an=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,fn=new RegExp("^("+Z+")(.*)$","i"),pn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),dn=new RegExp("^([-+])=("+Z+")","i"),hn={},gn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},yn=["Top","Right","Bottom","Left"],vn=["Webkit","O","Moz","ms"],bn=K.fn.toggle;K.fn.extend({css:function(e,n){return K.access(this,function(e,n,r){return r!==t?K.style(e,n,r):K.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return K.isFunction(e)&&K.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:y(this))?K(this).show():K(this).hide()})}}),K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=K.camelCase(n),u=e.style;if(n=K.cssProps[l]||(K.cssProps[l]=m(u,l)),s=K.cssHooks[n]||K.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=dn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(K.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||K.cssNumber[l]||(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=K.camelCase(n);return n=K.cssProps[l]||(K.cssProps[l]=m(e.style,l)),s=K.cssHooks[n]||K.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=nn(e,n)),"normal"===o&&n in mn&&(o=mn[n]),r||i!==t?(a=parseFloat(o),r||K.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,o,a,s=e.getComputedStyle(t,null),l=t.style;return s&&(r=s[n],""!==r||K.contains(t.ownerDocument,t)||(r=K.style(t,n)),pn.test(r)&&cn.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),r}:R.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),pn.test(i)&&!ln.test(t)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&un.test(nn(e,"display"))?K.swap(e,gn,function(){return w(e,t,r)}):w(e,t,r):void 0},set:function(e,n,r){return b(e,n,r?x(e,t,r,K.support.boxSizing&&"border-box"===K.css(e,"boxSizing")):0)}}}),K.support.opacity||(K.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=K.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===K.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(e,t){return K.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!K.support.pixelPosition&&K.fn.position&&K.each(["top","left"],function(e,t){K.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return pn.test(r)?K(e).position()[t]+"px":r}}}})}),K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!K.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;4>r;r++)o[e+yn[r]+t]=i[r]||i[r-2]||i[0];return o}},cn.test(e)||(K.cssHooks[e+t].set=b)});var xn=/%20/g,wn=/\[\]$/,Tn=/\r?\n/g,Nn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||Nn.test(this.type))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}}),K.param=function(e,n){var r,i=[],o=function(e,t){t=K.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){o(this.name,this.value)});else for(r in e)N(r,e[r],n,o);return i.join("&").replace(xn,"+")};var kn,En,Sn=/#.*$/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dn=/^(?:GET|HEAD)$/,Ln=/^\/\//,Hn=/\?/,Fn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Mn=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qn=K.fn.load,_n={},Bn={},Wn=["*/"]+["*"];try{En=$.href}catch(Pn){En=R.createElement("a"),En.href="",En=En.href}kn=On.exec(En.toLowerCase())||[],K.fn.load=function(e,n,r){if("string"!=typeof e&&qn)return qn.apply(this,arguments);if(!this.length)return this;var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),K.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),K.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(i?K("<div>").append(e.replace(Fn,"")).find(i):e)}),this},K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.each(["get","post"],function(e,n){K[n]=function(e,r,i,o){return K.isFunction(r)&&(o=o||i,i=r,r=t),K.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),K.extend({getScript:function(e,n){return K.get(e,t,n,"script")},getJSON:function(e,t,n){return K.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?E(e,K.ajaxSettings):(t=e,e=K.ajaxSettings),E(e,t),e},ajaxSettings:{url:En,isLocal:jn.test(kn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Wn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(_n),ajaxTransport:C(Bn),ajax:function(e,n){function r(e,n,r,a){var u,f,v,b,w,N=n;2!==x&&(x=2,l&&clearTimeout(l),s=t,o=a||"",T.readyState=e>0?4:0,r&&(b=S(p,T,r)),e>=200&&300>e||304===e?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=T.getResponseHeader("Etag"),w&&(K.etag[i]=w)),304===e?(N="notmodified",u=!0):(u=A(p,b),N=u.state,f=u.data,v=u.error,u=!v)):(v=N,(!N||e)&&(N="error",0>e&&(e=0))),T.status=e,T.statusText=(n||N)+"",u?g.resolveWith(d,[f,N,T]):g.rejectWith(d,[T,N,v]),T.statusCode(y),y=t,c&&h.trigger("ajax"+(u?"Success":"Error"),[T,p,u?f:v]),m.fireWith(d,[T,N]),c&&(h.trigger("ajaxComplete",[T,p]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,f,p=K.ajaxSetup({},n),d=p.context||p,h=d!==p&&(d.nodeType||d instanceof K)?K(d):K.event,g=K.Deferred(),m=K.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!a)for(a={};n=An.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(p.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(g.promise(T),T.success=T.done,T.error=T.fail,T.complete=m.add,T.statusCode=function(e){if(e){var t;if(2>x)for(t in e)y[t]=[y[t],e[t]];else t=e[T.status],T.always(t)}return this},p.url=((e||p.url)+"").replace(Sn,"").replace(Ln,kn[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(tt),null==p.crossDomain&&(u=On.exec(p.url.toLowerCase())||!1,p.crossDomain=u&&u.join(":")+(u[3]?"":"http:"===u[1]?80:443)!==kn.join(":")+(kn[3]?"":"http:"===kn[1]?80:443)),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),k(_n,p,n,T),2===x)return T;if(c=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Dn.test(p.type),c&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Hn.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var N=K.now(),C=p.url.replace(Mn,"$1_="+N);p.url=C+(C===p.url?(Hn.test(p.url)?"&":"?")+"_="+N:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,K.lastModified[i]&&T.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&T.setRequestHeader("If-None-Match",K.etag[i])),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wn+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===x))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(s=k(Bn,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,s.send(v,r)}catch(E){if(!(2>x))throw E;r(-1,E)}}else r(-1,"No Transport");return T},active:0,lastModified:{},etag:{}});var Rn=[],$n=/\?/,In=/(=)\?(?=&|$)|\?\?/,zn=K.now();K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||K.expando+"_"+zn++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.data,u=n.url,c=n.jsonp!==!1,f=c&&In.test(u),p=c&&!f&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(l);return"jsonp"===n.dataTypes[0]||f||p?(o=n.jsonpCallback=K.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],f?n.url=u.replace(In,"$1"+o):p?n.data=l.replace(In,"$1"+o):c&&(n.url+=($n.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||K.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Rn.push(o)),s&&K.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),K.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,o){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Xn,Un=e.ActiveXObject?function(){for(var e in Xn)Xn[e](0,1)}:!1,Yn=0;K.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||D()}:j,function(e){K.extend(K.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(n){if(!n.crossDomain||K.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,f,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=K.noop,Un&&delete Xn[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),f={},p=l.responseXML,p&&p.documentElement&&(f.xml=p);try{f.text=l.responseText}catch(e){}try{u=l.statusText}catch(d){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(h){i||o(-1,h)}f&&o(s,u,f,c)},n.async?4===l.readyState?setTimeout(r,0):(a=++Yn,Un&&(Xn||(Xn={},K(e).unload(Un)),Xn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Qn,Vn=/^(?:toggle|show|hide)$/,Gn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Kn=/queueHooks$/,Zn=[O],er={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Gn.exec(t),a=i.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],r=o[3]||(K.cssNumber[e]?"":"px"),"px"!==r&&s){s=K.css(i.elem,e,!0)||n||1;do l=l||".5",s/=l,K.style(i.elem,e,s+r);while(l!==(l=i.cur()/a)&&1!==l&&--u)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};K.Animation=K.extend(F,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),K.Tween=q,q.prototype={constructor:q,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,n=q.propHooks[this.prop];return this.pos=t=this.options.duration?K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(r,i,o){return null==r||"boolean"==typeof r||!e&&K.isFunction(r)&&K.isFunction(i)?n.apply(this,arguments):this.animate(_(t,!0),r,i,o)}}),K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=F(this,K.extend({},e),o);i&&t.stop(!0)};return i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=K.timers,a=K._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Kn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&K.dequeue(this,e)})}}),K.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.timers=[],K.fx=q.prototype.init,K.fx.tick=function(){for(var e,t=K.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||K.fx.stop()},K.fx.timer=function(e){e()&&K.timers.push(e)&&!Qn&&(Qn=setInterval(K.fx.tick,K.fx.interval))},K.fx.interval=13,K.fx.stop=function(){clearInterval(Qn),Qn=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fx.step={},K.expr&&K.expr.filters&&(K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;K.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){K.offset.setOffset(this,e,t)});var n,r,i,o,a,s,l,u={top:0,left:0},c=this[0],f=c&&c.ownerDocument;if(f)return(r=f.body)===c?K.offset.bodyOffset(c):(n=f.documentElement,K.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),i=B(f),o=n.clientTop||r.clientTop||0,a=n.clientLeft||r.clientLeft||0,s=i.pageYOffset||n.scrollTop,l=i.pageXOffset||n.scrollLeft,{top:u.top+s-o,left:u.left+l-a}):u)},K.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(K.css(e,"marginTop"))||0,n+=parseFloat(K.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=K.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=K(e),s=a.offset(),l=K.css(e,"top"),u=K.css(e,"left"),c=("absolute"===r||"fixed"===r)&&K.inArray("auto",[l,u])>-1,f={},p={};c?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},K.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(K.css(e,"marginTop"))||0,n.left-=parseFloat(K.css(e,"marginLeft"))||0,r.top+=parseFloat(K.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(K.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||R.body;e&&!tr.test(e.nodeName)&&"static"===K.css(e,"position");)e=e.offsetParent;return e||R.body})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);K.fn[e]=function(i){return K.access(this,function(e,i,o){var a=B(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(r?K(a).scrollLeft():o,r?o:K(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),K.each({Height:"height",Width:"width"},function(e,n){K.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){K.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return K.access(this,function(n,r,i){var o;return K.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?K.css(n,r,i,s):K.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})}(window),n.exports=jQuery,window.jQuery=window.$=null});
;define("common:widget/ui/pblog/pblog.js",function(t,i,e){var n=t("common:widget/ui/jquery/jquery.js"),a={UNKNOWN:0,PC_WEB:1,WAP_COMMON:2,WAP_SMART:3,PAD_WEB:4,PAD_APP:5,PC_CLIENT:6,MOBILE_APP:7,SDK:8,API:9},o={init:function(t){this.client=t.client,this.pagePath=t.pagePath,this.logUrl="http://lvyou.baidu.com/click.gif",this.defaultParams={lbs_lvyou_model:t.pagePath[0],da_trd:"lvyou",da_src:t.pagePath.slice(2).join("/")+"Pg",da_act:"",client_type:"ipad"==t.client?a.PAD_WEB:a.PC_WEB},this.pvLog(),this.bindEvent()},imageReq:function(t,i){var e="pblog_"+(new Date).getTime(),n=window[e]=new Image;n.onload=n.onerror=function(){window[e]=null,i&&i()},n.src=t,n=null},pvLog:function(t){var i=this,e=n.extend(i.defaultParams,{da_act:"pv",lbs_lvyou_pv:"ipad"==i.client?a.PAD_WEB:a.PC_WEB,t:(new Date).getTime()},t);i.imageReq(i.logUrl+"?"+n.param(e))},clickLog:function(t){var i=this,e=n.extend(i.defaultParams,{da_act:"click"},t);n.get(i.logUrl,e)},_clickHandle:function(t){var i=this,e=3,n=0,a=function(){e>0&&("A"==t[0].nodeName||t.hasClass("PB-click")?(n=1,e=3):(t=t.parent(),e--),a(),i.clickLog())};a()},showLog:function(){},bindEvent:function(){}};e.exports=o});
;define("common:widget/ui/subcookie/subcookie.js",function(e,t,n){var o=e("common:widget/lib/tangram/base/base.js");n.exports={get:function(e,t){var n=this.getAll(e);return n?n[t]:null},getAll:function(e){var t=o.cookie.getRaw(e),n={};if(t){for(var i=t.split("&"),l=0,r=i.length;r>l;l++){var s=i[l].split("=");n[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return n}return null},set:function(e,t,n,o){var i=this.getAll(e)||{};i[t]=n,this.setAll(e,i,o)},setAll:function(e,t,n){var i=new Date,l=i.getFullYear();i.setFullYear(l+1);var r={expires:i,path:"/",domain:"lvyou.baidu.com",secure:!1};o.object.extend(r,n||{}),r.domain=r.domain.split(":")[0];var s=encodeURIComponent(e)+"=",a=[];for(var u in t)u.length>0&&t.hasOwnProperty(u)&&a.push(encodeURIComponent(u)+"="+encodeURIComponent(t[u]));a.length>0?(s+=a.join("&"),r.expires instanceof Date&&(s+=";expires="+r.expires.toUTCString()),s+=";path="+r.path,s+=";domain="+r.domain,r.secure&&(s+=";secure")):s+=";expires="+new Date(0).toUTCString(),document.cookie=s},unset:function(e,t,n){var o=this.getAll(e);o&&(delete o[t],this.setAll(e,o,n))},unsetAll:function(e,t){var n=t||{};n.expires=new Date(0),this.setAll(e,null,n)}}});
;define("common:widget/ui/nslog/nslog.js",function(e,n,t){var o=e("common:widget/lib/tangram/base/base.js"),a=function(e,n,t,o){var l=(new Date).getTime(),i=["http://nsclick.baidu.com/v.gif?pid="+a.pid,"url="+encodeURIComponent(e),"type="+n,"t="+l];for(var r in t)i.push(r+"="+t[r]);for(var r in a.globalParams)i.push(r+"="+a.globalParams[r]);a.imageReq(i.join("&"),o)};a.pid=308,a.globalParams={},a.set=function(e,n){a.globalParams[e]=n},a.imageReq=function(e,n){var t="iknowlog_"+(new Date).getTime(),o=window[t]=new Image;o.onload=o.onerror=function(){window[t]=null,n&&n()},o.src=e,o=null};var l=function(){o.on(document,"mousedown",function(e){for(var n=o.event.get(e),t=n.target,l=3,i=!1,r=null,s=!0,g=window.location.href;t;){if(1==t.nodeType){if(l>0){if(g=t.href&&t.href.length>2?t.href:window.location.href,s&&o.lang.isString(t.className)&&o.dom.hasClass(t,"nslog")){var p={x:n.pageX,y:n.pageY},d=o.json.parse(o.dom.getAttr(t,"data-nslog"));if(type=0,d){type=d.type||0,d.type=null;try{delete d.type}catch(e){}p=o.extend(p,d),a(g,type,p),s=!1}p=null,d=null,type=null}!i&&t.href&&(i=!0,r=g)}if(i&&o.lang.isString(t.className)&&o.dom.hasClass(t,"nslog-area")){var p={x:n.pageX,y:n.pageY},d=o.json.parse(o.dom.getAttr(t,"data-nslog"));if(type=0,d){type=d.type||0,d.type=null;try{delete d.type}catch(e){}p=o.extend(p,d),a(g,type,p)}p=null,d=null,type=null}}l--,t=t.parentNode}t=null}),o.each(o.dom.query(".nslog-show"),function(e){if("none"!=o.dom.getStyle(e,"display")){var n=o.json.parse(o.dom.getAttr(e,"data-nslog")),t=0,l=e.href&&e.href.length>2?e.href:window.location.href;if(n){t=n.type||0,n.type=null;try{delete n.type}catch(i){}n.cmd="show",a(l,t,n)}}})};t.exports={init:l,nslog:a}});
;define("common:widget/ui/suggestion/suggestion.js",function(a,t,n){var e=a("common:widget/lib/tangram/base/base.js"),i=a("common:widget/lib/tangram/ui/Suggestion/Suggestion.js");a("common:widget/lib/tangram/ui/Suggestion/Suggestion_data/Suggestion_data.js"),a("common:widget/lib/tangram/ui/Suggestion/Suggestion_coverable/Suggestion_coverable.js"),a("common:widget/lib/tangram/ui/Suggestion/Suggestion_fixWidth/Suggestion_fixWidth.js"),a("common:widget/lib/tangram/ui/Suggestion/Suggestion_input/Suggestion_input.js");var s=e.lang.createClass(function(a){this.index=0,e.object.extend(this,a);var t=this;this.callbackName=this.callbackName?this.callbackName+t.index:"gloableSug"+t.index,this.options={getData:function(a){var n=/[a-zA-Z]/;1==a.length&&n.test(a)||(t.ifJsonp?e.sio.callByServer("http://nssug.baidu.com/su?wd="+encodeURIComponent(a)+"&pre="+t.callbackName+"&cb="+t.callbackName+"&ie=utf-8&prod="+t.prob):e.ajax.get("/destination/ajax/sug?wd="+encodeURIComponent(a)+"&prod="+(t.prob||"lvyou_new")+"&su_num=20",function(a,n){var i=e.json.parse(n);if(i&&0==i.errno){var s=i.data&&i.data.sug;e.lang.isString(s)&&(s=e.json.parse(s)),window[t.callbackName](s||{})}}))},onhide:function(){t.sugData=t.formatCurrentData(t.sugUi.currentData)},onbeforepick:function(){t.sugData=t.formatCurrentData(t.sugUi.currentData)},appendHTML:"<div id='J-noresults' class='noresults-notes-filter' style='display:none'>没有这个目的地</div>"},this.sugData=[]}).extend({init:function(a){var t=this;e.object.extend(t.options,a),t.sugUi=new i(t.options),t.bindCallback(),t.sugUi.render(t.ele)},formatCurrentData:function(a){var t=[];return e.array.each(a,function(a){var n="",e=a.item.split("$$"),i=e[0],s=e[2],o=e[9],u=e[1].split(","),r=e[5],g=e[6],l=u.length;n='<span class="parent-sug">'+u[l-1]+"</span>"+e[0],t.push({sname:i,name:i,sid:s,xid:s,surl:o,itemName:n,map_x:r,map_y:g,parent:u})}),t},formatData:function(a){for(var t={},n=a.s,i=[],s=[],o=[],u=[],r=0;r<n.length;r++){var g=n[r].indexOf("}");-1==n[r].indexOf("__1")?o.push(n[r].slice(g+3)):u.push(n[r].slice(g+6))}if(n=o.concat(u),e.array.each(n,function(a){var t="",n=a.split("$$"),e=n[0],o=n[2],u=n[9],r=n[1].split(","),g=n[5],l=n[6],c=r.length;t='<span class="parent-sug">'+r[c-1]+"</span>"+n[0],s.push({sname:e,name:e,sid:o,xid:o,surl:u,itemName:t,map_x:g,map_y:l,parent:r}),i.push({content:t,value:n[0],sname:n[0],sid:o,surl:u,item:a})}),i=e.array.unique(i),i.length>1)for(var l=0;l<i.length-1;l++)for(var c=l+1;c<i.length;c++)if(i[l].sid==i[c].sid){if(-1==i[c].value.indexOf("___")){var d;d=i[l],i[l]=i[c],i[c]=d}i.splice(c,1),c--}for(var m=0;m<i.length;m++)-1!=i[m].value.indexOf("___")&&(i[m].content=i[m].content.slice(0,i[m].content.length-3),i[m].value=i[m].value.slice(0,i[m].value.length-3));return i.length>10&&(i=i.slice(0,10)),t={data:i,sugBuffer:s}},bindCallback:function(){var a=this,t=function(t){var n=a.formatData(t),e=n.data;a.sugData=n.sugBuffer,0!==e.length?a.sugUi.setData(t.q,e):a.sugUi.show(t.q,"",!0)};window[a.callbackName]=a.callbackFun||t}});n.exports=s});
;define("common:widget/ui/url/url.js",function(o,n,e){n.selfDomain=function(o){o=(""+o).toLowerCase();var n=window.location,e=[n.protocol,"//",n.host,"/"],r=e.join(""),t="/";return 0==o.indexOf(r)||0==o.indexOf(t)?o:t};var r=o("common:widget/lib/tangram/base/base.js");e.exports.getJumpbackQuery=function(o){var n=r.url.queryToJson(o||""),e={};e.u=top.location.href;var t=r.url.getQueryValue(top.location.href,"invitation");t&&(e.invitation=t);for(var i in n)e[i]=decodeURIComponent(n[i]);return r.url.jsonToQuery(e,encodeURIComponent)}});
;define("common:widget/ui/dialog/dialog.js",function(t,e,n){var o=t("common:widget/lib/tangram/base/base.js"),i=t("common:widget/lib/tangram/ui/Dialog/Dialog.js");t("common:widget/lib/tangram/ui/Dialog/Dialog_button/Dialog_button.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_modal/Dialog_modal.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_draggable/Dialog_draggable.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_autoDispose/Dialog_autoDispose.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_iframe/Dialog_iframe.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_coverable/Dialog_coverable.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_keyboard/Dialog_keyboard.js"),t("common:widget/lib/tangram/ui/Dialog/Dialog_closeButton/Dialog_closeButton.js");var a=function(){t("user").SINGLE_POP=null},c=function(){if(t("user").SINGLE_POP){try{t("user").SINGLE_POP.close()}catch(e){}t("user").SINGLE_POP=null}},l=function(e){t("user").SINGLE_POP=e};n.exports={_options:{zIndex:1e4,classPrefix:"tangram-dialog",modal:!0,modalOpacity:.2,modalColor:"#000000",draggable:!1,resizable:!1,closeButton:!0,closeText:"关闭",coverable:!0,enableKeyboard:!1,closeOnEscape:!0,autoRender:!1,autoDispose:!0,width:280,titleText:"提示",footerAlign:"center",footerSize:12,iconStyle:"",classWrapper:""},getOptions:function(t){var e={},n=0;return o.extend(e,this._options),o.lang.isString(t)?(e.contentText=t,n=t.length):o.lang.isElement(t)&&(e.content=t,n=o.dom.getText(t).length),n>26&&(e.width=360),e},extendOptions:function(t,e){return o.extend(t,e),"alert"==e.iconStyle?t.contentText='<div class="dialog-content-icon dialog-icon-alert"></div><div class="dialog-content-text">'+t.contentText+"</div>":"success"==e.iconStyle?t.contentText='<div class="dialog-content-icon dialog-icon-success"></div><div class="dialog-content-text">'+t.contentText+"</div>":"happy"==e.iconStyle?t.contentText='<div class="dialog-content-icon dialog-icon-happy"></div><div class="dialog-content-text">'+t.contentText+"</div>":"sad"==e.iconStyle&&(t.contentText='<div class="dialog-content-icon dialog-icon-sad"></div><div class="dialog-content-text">'+t.contentText+"</div>"),t},create:function(t,e){var n=this.extendOptions(t,e),a=new i(n);return a.render(),"right"==n.footerAlign&&o.dom.addClass(a.getFooter(),"dialog-footer-right"),""!=n.classWrapper&&o.dom.addClass(a.getMain(),n.classWrapper),a},alert:function(t,e){e=e||{};var e=e||{};e.noClose||c();var n=null,i=14==e.footerSize?"m-btn":"",s=this.getOptions(t);return o.extend(s,{buttons:{accept:{content:'<button class="btn '+i+'"><em><em>'+(e.acceptText||"确定")+"</em></em></button>",onclick:function(){n.dispatchEvent("onaccept")&&n.close()}}}}),n=this.create(s,e),l(n),n.addEventListener("onclose",function(){a()}),n.open(),n},confirm:function(t,e){e=e||{},e.noClose||c();var n=null,i=14==e.footerSize?"m-btn":"",s=14==e.footerSize?"m-cancel-btn":"",r=this.getOptions(t);return o.extend(r,{buttons:{accept:{content:'<button class="btn '+i+'"><em><em>'+(e.acceptText||"确定")+"</em></em></button>",onclick:function(){n.dispatchEvent("onaccept")&&n.close()}},cancel:{content:'<button class="btn cancel-btn '+s+'"><em><em>'+(e.cancelText||"取消")+"</em></em></button>",onclick:function(){n.dispatchEvent("oncancel")&&n.close()}}}}),n=this.create(r,e),l(n),n.addEventListener("onclose",function(){a()}),n.open(),n},content:function(t,e){c(),e=e||{};var n=null,o=this.getOptions(t);return n=this.create(o,e),l(n),n.addEventListener("onclose",function(){a()}),n.open(),n},iframe:function(t,e){c(),e=e||{};var n=null,i=14==e.footerSize?"m-btn":"",s=14==e.footerSize?"m-cancel-btn":"",r={};return o.extend(r,this._options),"alert"==e.type&&o.extend(r,{buttons:{accept:{content:'<button class="btn '+i+'"><em><em>'+(e.acceptText||"确定")+"</em></em></button>",onclick:function(){n.dispatchEvent("onaccept")&&n.close()}}}}),"confirm"==e.type&&o.extend(r,{buttons:{accept:{content:'<button class="btn '+i+'"><em><em>'+(e.acceptText||"确定")+"</em></em></button>",onclick:function(){n.dispatchEvent("onaccept")&&n.close()}},cancel:{content:'<button class="btn cancel-btn '+s+'"><em><em>'+(e.cancelText||"取消")+"</em></em></button>",onclick:function(){n.dispatchEvent("oncancel")&&n.close()}}}}),e.type="iframe",e.iframeSrc=t,n=this.create(r,e),l(n),n.addEventListener("onclose",function(){a()}),n.open(),n},splash:function(t,e){e=e||{};var n=null,i=this.getOptions(t);if(o.extend(i,{titleText:"",autoCloseTime:1200}),o.lang.isBoolean(t)){if(t)switch(e.kind){case"pic":i.contentText="恭喜您，<br/>创造了一条有境界的评论";break;case"notes":i.contentText="恭喜您，成功以德服人!";break;default:i.contentText="恭喜您，操作成功"}else i.contentText="很遗憾，您的操作失败了";e.iconStyle=t?"happy":"sad"}return e.modal=!1,n=this.create(i,e),o.dom.addClass(n.getTitle(),i.classPrefix+"-title-splash"),o.dom.addClass(n.getContent(),i.classPrefix+"-content-splash"),n.open(),setTimeout(function(){n.disposed||n.close()},i.autoCloseTime),n}}});
;define("common:widget/ui/fillinusername/fillinusername.js",function(i,e,o){var t=(i("common:widget/lib/tangram/base/base.js"),i("common:widget/ui/dialog/dialog.js")),n=i("common:widget/ui/subcookie/subcookie.js"),a=function(i){var e="/static/common/html/super_user_fillinUsername.html?t=2013062717",o={titleText:"你还没有名字呢，先起个喜爱的名字吧！",width:410,height:200,classWrapper:"edit-nousername"};i&&(window.reloadUrl="http://"+location.host+i),window.Dialog=t.iframe(e,o);var a="BDLVDAY",s="LV_NOUSERNAME_LOGIN";n.set(a,s,0)};o.exports=a});
;define("common:widget/ui/login/login.js",function(e,n,i){var t=e("common:widget/lib/tangram/base/base.js"),o=e("common:widget/ui/fillinusername/fillinusername.js"),a=e("common:widget/ui/subcookie/subcookie.js"),s=t.lang.createSingle({check:function(n,i){var t=e("user"),s=function(){var e="BDLVDAY",n="LV_NOUSERNAME_LOGIN";a.set(e,n,1)};return n=n||s||function(){},1==t.is_login?i&&1==i.type&&0==t.has_uname?(o(window.location.href),!1):(n.call(null),!0):(this._showLoginDialog(n,i),!1)},_fetchUserInfo:function(e){t.ajax.get("/user/ajax/getuser?t="+(new Date).getTime(),function(n,i){var o=t.json.parse(i);0==o.errno&&(e(o.data.user),define("user",o.data.user))})},_showLoginDialog:function(e,n){var i=this;if(this.instance)return void this.instance.show();if(n&&n.noAutoReload)var o=function(n){i._fetchUserInfo(e),n.returnValue=!1};else var o=function(){e()};t.sio.callByBrowser("http://passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){i.instance=passport.pop.init({apiOpt:{staticPage:"http://"+location.host+"/static/common/html/v3Jump.html",product:"lv",u:t.string.encodeHTML(location.href).replace(/&amp;/g,"&").replace(/#.*$/g,""),memberPass:!0,safeFlag:0},cache:!1,authsite:["tsina","qzone","renren"],authsiteCfg:{tpl:"lv",u:t.string.encodeHTML(location.href).replace(/&amp;/g,"&").replace(/#.*$/g,""),display:"popup",act:"implicit"},tangram:!0,img:"http://lvyou4.bdimg.com/static/common/widget/ui/login/welcome_59e0b35.jpg",onLoginSuccess:o}),i.instance.show()})}});i.exports=s});
;define("common:widget/ui/errno/errno.js",function(e,a,r){var c=e("common:widget/ui/dialog/dialog.js"),o=function(e){var a=e.errno,r="";switch(!0){case 1==a:r="对不起，系统出了点小错，请稍后再试。";break;case 2==a:r="提交错误: 用户已经退出登录。";break;case 3==a:r="对不起，提交失败，请检查表单内容。";break;case 4==a:r="对不起，您的帐号可能已经更换，无权限提交当前内容，请检查。";break;case 5==a:r="提交错误: 验证码错误。";break;case 6==a:r="提交错误: 用户旅游帐号未激活。";break;case 7==a:r="对不起，提交失败，请检查表单内容。";break;case 8==a||11==a:r="对不起，您所编辑的内容包含不适合展现的内容，请检查。";break;case 9==a:r="您的动作太快了，休息一下再回来吧。";break;case 16==a:r="您可能更换了账号，请检查。";break;default:r="提交错误: 未知错误"}c.alert(r,{iconStyle:"alert"})};r.exports.check=o,r.exports.onSuccess=function(e,a){0==e.errno?a.call(null,e):o(e)}});
;define("common:widget/ui/inputprompt/inputprompt.js",function(e,t,s){var a=e("common:widget/lib/tangram/base/base.js"),l=function(e,t,s){if(e){var l=e,o={styleDefault:"prompt-default",styleFocus:"prompt-focus"};a.object.extend(o,s),""===a.string.trim(l.value)&&(l.value=t,a.dom.hasClass(l,o.styleDefault)||a.dom.addClass(l,o.styleDefault)),a.event.on(l,"focus",function(){a.dom.removeClass(l,o.styleDefault),a.dom.hasClass(l,o.styleFocus)||a.dom.addClass(l,o.styleFocus);var e=l.value,s=a.dom.create("textarea");s.value=t,a.string.trim(e)===s.value&&(l.value="")}),a.event.on(l,"blur",function(){var e=l.value;""===a.string.trim(e)?(l.value=t,a.dom.removeClass(l,o.styleFocus),a.dom.hasClass(l,o.styleDefault)||a.dom.addClass(l,o.styleDefault)):a.dom.removeClass(l,o.styleDefault)}),this.isEmpty=function(e){return 0==e.value.length||e.value==t}}};s.exports={create:l,isEmpty:l.isEmpty}});
;define("common:widget/ui/ajaxform/ajaxform.js",function(e,t,a){var r=e("common:widget/lib/tangram/base/base.js"),n=function(e,t){function a(e,t){x.push(e+"="+t)}t=t||{};var n,o,s,c,i,u,d,m,l,f=e.elements,b=f.length,h=(e.getAttribute("method"),e.getAttribute("action")),g=t.replacer||function(e){return e},p={},x=[];for(n in t)t.hasOwnProperty(n)&&(p[n]=t[n]);for(n=0;b>n;n++)if(o=f[n],c=o.name,!o.disabled&&c)switch(s=o.type,i=o.value,s){case"radio":case"checkbox":if(!o.checked)break;case"textarea":case"text":case"number":case"password":case"hidden":case"select-one":a(c,g(i,c));break;case"select-multiple":for(u=o.options,m=u.length,d=0;m>d;d++)l=u[d],l.selected&&a(c,g(l.value,c))}return p.data=x.join("&"),p.method=e.getAttribute("method")||"GET",r.ajax.request(h,p)};a.exports=n});
;define("common:widget/ui/advise/advise.js",function(t,e,n){var i=t("common:widget/lib/tangram/base/base.js"),a=t("common:widget/ui/errno/errno.js"),o=t("common:widget/ui/dialog/dialog.js"),s=t("common:widget/ui/inputprompt/inputprompt.js"),r=t("common:widget/ui/login/login.js"),d=t("common:widget/ui/ajaxform/ajaxform.js");e.advise=function(t){var e=i.lang.isString(t)?i.dom.g(t):t,n="描述一下问题（500字以内）。";e&&i.on(e,"click",function(){var t=["<div class='advise-content'>","<form action='/main/advise/save' id='J-advise-form' method='post' onsubmit='return false;'>","<p><select name='type'>","<option value='其他'>-请选择意见类型-</option>","<option value='找不到目的地'>找不到目的地</option>","<option value='目的地不正确'>目的地不正确</option>","<option value='其他'>其他</option>","</select></p>","<p><textarea class='text' id='J-advise-content' name='content'></textarea></p>","</form>","</div>"];o.confirm(t.join(""),{titleText:"意见反馈",onaccept:function(){var t=i.dom.g("J-advise-form");if(i.string.getByteLength(t.content.value)<=1e3){if(t.content.value==n)return;d(t,{onsuccess:function(t,e){var n=i.json.parse(e);0==n.errno?o.splash(!0):a.check(n)}})}else o.splash("问题描述字数超出限制!",{iconStyle:"alert"})}});var e=i.dom.g("J-advise-content");e&&s.create(e,n)})},n.exports.feedback=function(){var e=i.lang.createClass(function(t){this.options=t,this.init()}).extend({init:function(){this.createUi(),this.bindEvt()},createUi:function(){this.uiWrap=i.dom.create("div",{id:"lv-ui-feedback","class":"lv-fb-wrapper",style:"width:"+this.options.minWidth+"px","z-index":1e3});var t=['<div id="feedback-expand-con" class="lv-fb-bd" style="display:none">','<form method="post" action="../js-core/lv-ui"  id="lv-ui-feedback-form">','<textarea name="content" defaultValue="填写您的意见或建议" class="J-needCheck" id="lv-ui-editor-feedback"></textarea>','<div class="fb-action">','<a class="fb-btn" href="###" id="lv-ui-feedback-submitbtn">发送反馈</a>','<div class="fb-tips"></div>',"</div>","</form>","</div>",'<div class="lv-fb-handle" id="feedback-expand-btn"><span>意见反馈</span><i></i></div>'],e=this.options.create_ui_template()||t.join("");this.uiWrap.innerHTML=e,document.body.appendChild(this.uiWrap),6==i.browser.ie?this.uiWrap.style.setExpression("top","eval((document.body.scrollTop || document.documentElement.scrollTop) + "+this.options.top+") + 'px'"):this.uiWrap.style.top=this.options.top+"px","function"==typeof this.options.onStart&&this.options.onStart(s)},bindEvt:function(){this.expandBtn=i.g("feedback-expand-btn"),this.expandCon=i.g("feedback-expand-con");var t=i.dom.query(".fb-tips",this.uiWrap)[0];this.submitBtn=i.g("lv-ui-feedback-submitbtn");var e=this.expandBtn,n=this;e&&i.on(e,"click",function(e){var a=i.event.getTarget(e);r.check(function(){i.dom.toggleClass(a,"lv-fb-handle-expand"),n.handleTips(t,"");var e=n.uiWrap.offsetWidth<n.options.maxWidth?n.options.maxWidth:n.options.minWidth;i.dom.setStyle(n.uiWrap,"width",e),n.expandCon&&i.dom.toggle(n.expandCon)})}),this.submitBtn&&i.on(this.submitBtn,"click",function(){var e=n.checkForm(),i=e.flag,a=e.params;switch(i){case 0:n.handleTips(t,"反馈内容不能为空");break;case 1:n.handleTips(t,"字数不能超过"+n.options.maxLength);break;default:n.submitData(a)}})},submitData:function(e){var n=i.dom.query(".fb-tips",this.uiWrap)[0],a=this;"function"==typeof this.options.concatPostParams&&(e=this.options.concatPostParams(e)),i.ajax.post(this.options.action+"?format=ajax&t="+(new Date).getTime(),e+"&bdstoken="+(t("user").bdstoken||0),function(t,e){var e=i.json.parse(e);0==e.errno?(a.emptyTextarea(),a.handleTips(n,"已成功反馈，谢谢！","success")):a.handleTips(n,"发生错误，请检查")})},emptyTextarea:function(){var t=i.dom.query(".J-needCheck",this.uiWrap);if(t.length)for(var e=t.length,n=0;e>n;n++){var a=t[n];a.value=""}},checkForm:function(){var e=i.dom.query(".J-needCheck",this.uiWrap),n=!0,a=this,o="";if(e.length)for(var s=e.length,r=0;s>r;r++){var d=e[r],c=d.value,p=i.dom.getAttr(d,"defaultValue"),u=i.dom.getAttr(d,"maxLength"),l=u||a.options.maxLength,m=i.dom.create("textarea");if(m.value=p,0==c.length||c==m.value){n=0;break}if(c.length>l){n=1;break}"content"==d.name&&(c+="——浏览器信息:"+navigator.userAgent,t("notes").nid&&(c+="(——游记的id为：)"+t("notes").nid)),"QQ号/邮箱/手机"==c&&(c=""),o+=d.name+"="+encodeURIComponent(c),s-1>r&&(o+="&")}return{flag:n,params:o}},handleTips:function(t,e,n){i.dom.removeClass(t,"fb-tip-suc"),"success"==n&&i.dom.addClass(t,"fb-tip-suc"),t.innerHTML=e}});return function(t){var n={tooltip:"填写您的意见或建议",top:200,maxLength:1e3,minWidth:35,maxWidth:225,action:"/notes/ajax/bugfeedback",create_ui_template:function(){return!1}};return i.extend(n,t),new e(n)}}()});
;define("common:widget/ui/validator/validator.js",function(e,t,a){var i=e("common:widget/lib/tangram/base/base.js"),r=e("common:widget/ui/ajaxform/ajaxform.js"),n=i.lang.createClass(function(e,t){var a={rules:{},errors:{},tips:{},classPrefix:"lv-valid",highlight:"highlight",defaultprompt:"prompt-default",button:null,success:function(){return!0},ignore:function(){return!1},ajaxsubmit:!0,ajaxaction:"",ajaxmethod:"post",onbeforesubmit:null,onsubmit:null,callback:function(){}};i.object.extend(a,t||{}),this.submitflag=!1;var n=[],s=this;if("form"==e.nodeName.toLowerCase())n=i.array.filter(e.elements,function(e){return/input|select|textarea|button/i.test(e.nodeName)&&!/submit|reset|image/i.test(e.type)&&1!=e.disabled}),a.ajaxsubmit?(""!==a.ajaxaction&&(e.action=a.ajaxaction,e.method=a.ajaxmethod),a.onsubmit=function(){return s.submitflag?!1:(s.submitflag=!0,void r(e,{replacer:function(t,r){var n=e.elements[r];return n&&!n.length&&i.dom.hasClass(n,a.defaultprompt)?"":encodeURIComponent(t)},onsuccess:function(e,t){s.submitflag=!1;var r=i.json.parse(t);a.callback(r)}}))}):a.onsubmit=function(){var t=i.dom.q(a.defaultprompt,e);i.array.each(t,function(e){e.value="",i.dom.removeClass(e,a.defaultprompt)}),e.submit()};else if(n[0]=e,a.ajaxsubmit&&""!==a.ajaxaction){var o=a.ajaxaction.split(","),l=o.length>1?"&"+o[1]:"";a.onsubmit="post"==a.ajaxmethod?function(){return s.submitflag?!1:(s.submitflag=!0,void i.ajax.post(a.ajaxaction[0]+"?format=ajax&t="+(new Date).getTime(),e.name+"="+encodeURIComponent(i.string.trim(e.value))+l,function(e,t){s.submitflag=!1;var r=i.json.parse(t);a.callback(r)}))}:function(){return s.submitflag?!1:(s.submitflag=!0,void i.ajax.get(a.ajaxaction[0]+"?format=ajax&t="+(new Date).getTime()+"&"+e.name+"="+encodeURIComponent(i.string.trim(e.value))+l,function(e,t){s.submitflag=!1;var r=i.json.parse(t);a.callback(r)}))}}t&&t.onsubmit&&i.lang.isFunction(t.onsubmit)&&(a.onsubmit=t.onsubmit);var u={},d=this.valid_regex;i.each(n,function(e){if(""!=e.name){if(u[e.name])return;u[e.name]={};var t=i.dom.getAttr(e,"data-valid-rule")||"{}",a=i.dom.getAttr(e,"data-valid-error")||"{}",r=i.dom.getAttr(e,"data-valid-tip")||"";u[e.name].rule=i.json.parse(t),u[e.name].error=i.json.parse(a),u[e.name].tip=r}}),i.object.each(a.rules,function(e,t){u[t]&&i.object.extend(u[t].rule,e)}),i.object.each(u,function(e){i.object.each(e.rule,function(t,a){d[a]&&(e.rule.regex=d[a])})}),i.object.each(a.errors,function(e,t){u[t]&&i.object.extend(u[t].error,e)}),i.object.each(a.tips,function(e,t){u[t]&&(u[t].tip=e)}),this.el=e,this.validJSON=u,this.success=function(e){return i.dom.hasClass(e,"success-ignore")?!1:a.success.call(null,e)},this.classPrefix=a.classPrefix,this.highlight=a.highlight,this.defaultprompt=a.defaultprompt,this.button=a.button,this.onbeforesubmit=a.onbeforesubmit,this.ignore=function(e){return i.dom.hasClass(e,"valid-ignore")?!0:a.ignore.call(null,e)},this.onsubmit=a.onsubmit}).extend({constructor:n,error_dft:{required:"必填项",minlen:"字数太少，请重新输入",maxlen:"字数超出限制，请重新输入",username:"用户名不符合规范，请重新输入",password:"密码不符合规范，请重新输入",number:"请输入数字",digits:"请输入整数",email:"请输入正确的电子邮件",date:"请输入正确的日期，格式为yyyy-mm-dd",mobile:"请输入正确的手机号码",telephone:"请输入正确的电话号码，格式为010-12345678",chinese:"请输入汉字",idcard:"请输入正确的身份证号码",url:"请输入正确的网址",func:"不符合要求，请重新输入",ajax:"不符合要求，请重新输入"},valid_regex:{username:/^[a-zA-Z\u4E00-\u9FA5]{1}[0-9a-zA-Z\_\u4E00-\u9FA5\(\)]{1,17}$/,password:/^[0-9a-zA-Z\_`!~@#$%^*+=,.?;'":)(}{/\\\|]+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,digits:/^\d+$/,email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,date:/^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))$|^((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)$/,mobile:/^(13|14|15|18)[0-9]{9}$/,telephone:/^\d{3,4}-\d{7,9}$/,chinese:/^[\u4E00-\u9FA5]+$/,idcard:/(^\d{15}$)|(^\d{17}([0-9]|X|x)$)/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},valid:function(e,t){var a=this,r=!0,n=i.string.trim(e.value),s=e.name,o=this.validJSON[s],l=o.rule;if(a.ignore(e)===!0)return void a.clear(e);var u={required:!1,minlen:0,maxlen:0,regex:"",func:null,ajax:null},d=i.object.clone(this.error_dft);i.object.extend(u,l||{}),i.object.extend(d,o.error||{});var c=i.object.keys(this.valid_regex);if(!o.rule)return!0;for(var m=c.length-1;m>=0;m--)if(o.rule[c[m]]){d.regex=d[c[m]];break}if(u.required!==!1){if(i.dom.hasClass(e,a.defaultprompt))return this.showTip(e,d.required,"err"),!1;if(/select|checkbox|radio/i.test(e.type)){if(/select/i.test(e.type))r=0==n?!1:!0;else if(/checkbox/i.test(e.type))r=e.checked?!0:!1;else if(/radio/i.test(e.type)){for(var f=this.el[s],h=!1,m=0,F=f.length;F>m;m++)if(f[m].checked){h=!0;break}r=h}}else r=""===n?!1:!0;if(r!==!0)return this.showTip(e,d.required,"err"),!1}if(""!==n){if(i.dom.hasClass(e,a.defaultprompt))return!0;if(u.minlen&&(r=i.string.getByteLength(n)<u.minlen?!1:!0,r!==!0))return this.showTip(e,d.minlen,"err"),!1;if(u.maxlen&&(r=i.string.getByteLength(n)>u.maxlen?!1:!0,r!==!0))return this.showTip(e,d.maxlen,"err"),!1;if(u.regex){var p=new RegExp(u.regex);if(r=p.test(n),r!==!0)return this.showTip(e,d.regex,"err"),!1}if(u.func&&(r=u.func(n),r!==!0))return this.showTip(e,d.func,"err"),!1;if(u.ajax&&"all"!=t){a.clear(e);var v=u.ajax.split(",");return i.ajax.get(v[0]+"?"+Math.random()+"&"+v[1]+"="+encodeURIComponent(i.string.trim(n)),function(t,r){var n=i.json.parse(r);0==n.status?a.showTip(e,"","suc"):a.showTip(e,n.res,"err")}),!1}}return r===!0?(this.showTip(e,"","clear"),!0):void 0},validAll:function(e){if("form"==this.el.nodeName.toLowerCase()){var t=this,a=this.el,r=!0;return i.object.each(this.validJSON,function(n,s){var o=t._getFormItem(a,s)||document.getElementsByName(s);if(o&&0!=o.length)if(!o.length||/select/i.test(o.type)){if(t.ignore(o)===!0)return;r=t.valid(o,"all")&&r}else if(e=1)i.array.each(o,function(e){r=t.valid(e,"all")&&r});else{if(t.ignore(o[0])===!0)return;r=t.valid(o[0],"all")&&r}}),r}return this.valid(this.el,"all")},createTip:function(e){var t,a,r,n,s,o=e.name,l=i.G(o+"_Valid");return r=document.createElement("span"),l&&i.dom.hasClass(l.parentNode,this.classPrefix+"-label")?t=l.parentNode:(l?n=i.dom.next(l):(l=document.createElement("em"),l.id=o+"_Valid"),t=document.createElement("label"),t.className=this.classPrefix+"-label",a=document.createElement("span"),a.className=this.classPrefix+"-arrow",t.appendChild(a),t.appendChild(l)),s=i.dom.getText(l),""===i.string.trim(s)?i.hide(t):(l.innerHTML="",r.innerHTML=s),l.appendChild(r),i.show(l),n?i.dom.insertBefore(t,n):e.parentNode.appendChild(t),i.dom.hasClass(l,"error")&&(i.addClass(l.parentNode,this.classPrefix+"-error"),i.dom.removeClass(l,"error")),i.dom.setAttr(e,"isvalid","0"),l},showTip:function(e,t,a){var r=e.name,n=i.G(r+"_Valid");n||(n=this.createTip(e));var s=this;"err"==a?(i.dom.setAttr(e,"isvalid","-1"),i.dom.hasClass(e,"err")||i.addClass(e,"err"),i.removeClass(n.parentNode,this.classPrefix+"-success"),i.dom.hasClass(n.parentNode,this.classPrefix+"-error")||i.addClass(n.parentNode,this.classPrefix+"-error"),n.getElementsByTagName("span")[0].innerHTML=t,i.dom.setStyle(n.parentNode,"z-index",1),i.show(n.parentNode),s.dispatchEvent("onshowError",{element:e})):"suc"==a?(i.dom.setAttr(e,"isvalid","1"),i.removeClass(e,"err"),i.dom.setStyle(n.parentNode,"z-index",1),setTimeout(function(){if(""==i.string.trim(e.value)||i.dom.hasClass(e,this.defaultprompt)||s.success(e)===!1)i.hide(n.parentNode);else if(!i.dom.hasClass(n.parentNode,s.classPrefix+"-success")){i.addClass(n.parentNode,s.classPrefix+"-success");var t=n.getElementsByTagName("span")[0];t.textContent=" ",t.innerText=" ",i.show(n.parentNode)}},80)):"tip"==a?(i.removeClass(e,"err"),i.removeClass(n.parentNode,this.classPrefix+"-error"),i.removeClass(n.parentNode,this.classPrefix+"-success"),n.getElementsByTagName("span")[0].innerHTML=t,i.dom.setStyle(n.parentNode,"z-index",2),setTimeout(function(){i.show(n.parentNode)},80)):"clear"==a&&(i.dom.setAttr(e,"isvalid","1"),i.removeClass(e,"err"),i.removeClass(n.parentNode,this.classPrefix+"-error"),i.removeClass(n.parentNode,this.classPrefix+"-success"),i.hide(n.parentNode))},clear:function(e){var t=e.name,a=i.G(t+"_Valid");i.dom.setAttr(e,"isvalid","0"),i.removeClass(e,"err"),i.removeClass(a.parentNode,this.classPrefix+"-error"),i.removeClass(a.parentNode,this.classPrefix+"-success"),i.hide(a.parentNode)},append:function(e,t,a,r){var n=e.name,s=this,o=i.dom.getAttr(e,"data-valid-rule")||"{}",l=i.dom.getAttr(e,"data-valid-error")||"{}",u=i.dom.getAttr(e,"data-valid-tip")||"";if(this.validJSON[n]={},this.validJSON[n].rule=i.json.parse(o),i.object.extend(this.validJSON[n].rule,t),this.validJSON[n].error=i.json.parse(l),i.object.extend(this.validJSON[n].error,a),this.validJSON[n].tip=r||u,i.object.each(this.validJSON[n].rule,function(e,t){s.valid_regex[t]&&(s.validJSON[n].rule.regex=s.valid_regex[t])}),!e.length||/select/i.test(e.type)){if(s.createTip(e),!/select|checkbox|radio/i.test(e.type)&&s.validJSON[n].rule)if("hidden"!=e.type)i.event.on(e,"blur",function(){i.dom.removeClass(e,s.highlight),s.valid(e)});else{var d=i.dom.getAttr(e,"proxy");d&&i.G(d)&&i.event.on(i.G(d),"blur",function(){s.valid(e)})}else/select/i.test(e.type)&&i.event.on(e,"change",function(){setTimeout(function(){s.valid(e)},80)});i.event.on(e,"focus",function(){i.dom.addClass(e,s.highlight),s.validJSON[n].tip&&s.showTip(e,s.validJSON[n].tip,"tip")})}else s.createTip(e[e.length-1]),s.validJSON[n].rule&&i.each(e,function(e){i.event.on(e,"click",function(){s.valid(e)})})},submitEvent:function(){var e=this,t=this.validAll();if(t===!0)setTimeout(function(){var t=i.q("err",e.el);0===t.length&&(i.lang.isFunction(e.onbeforesubmit)?e.onbeforesubmit()&&e.onsubmit():e.onsubmit())},0);else{var a=i.q(this.classPrefix+"-error",e.el,"label");if(a.length>0){var r=i.dom.getPosition(a[0]).top;r=100>r?0:r-100,window.scrollTo(0,r-100)}}},_getFormItem:function(e,t){var a=e[t],i=e.elements;if(!a)for(var r=0,n=i.length;n>r;r++)if(i[r].name==t){a=i[r];break}return a},init:function(){var e=this.el,t=this;i.object.each(this.validJSON,function(a,r){var n;if(n="form"==e.nodeName.toLowerCase()?t._getFormItem(e,r):e,!n.length||/select/i.test(n.type)){if(t.createTip(n),!/select|checkbox|radio/i.test(n.type)&&a.rule)if("hidden"!=n.type)i.event.on(n,"blur",function(){i.dom.removeClass(n,t.highlight),t.valid(n)});else{var s=i.dom.getAttr(n,"proxy");s&&i.G(s)&&i.event.on(i.G(s),"blur",function(){t.valid(n)})}else/select/i.test(n.type)&&i.event.on(n,"change",function(){setTimeout(function(){t.valid(n)},80)});i.event.on(n,"focus",function(){i.dom.addClass(n,t.highlight),a.tip&&t.showTip(n,a.tip,"tip")})}else t.createTip(n[n.length-1]),a.rule&&i.each(n,function(e){i.event.on(e,"click",function(){t.valid(e)})})}),i.lang.isElement(t.button)?i.event.on(t.button,"click",function(){t.submitEvent()}):"form"==e.nodeName.toLowerCase()&&i.event.on(e,"submit",function(e){var e=e||window.event;i.event.preventDefault(e),t.submitEvent()})}});a.exports.create=function(e,t){var a=new n(e,t);return a.init(),a}});
;define("common:widget/ui/albumAdder/albumAdder.js",function(e,t,i){function n(e,t,i){return new l(e,t,i)}var a=e("common:widget/lib/tangram/base/base.js"),d=e("common:widget/ui/errno/errno.js"),s=e("common:widget/ui/validator/validator.js"),o={ON_ALBUM_CREATED:"onalbumcreated",ON_ALBUM_SELECTED:"onalbumselected",ON_ALBUM_READY:"onalbumready",ON_ALBUM_FILLED:"onalbumfilled"},l=a.lang.createClass(function(e,t,i){this._module=e,this._extendData=t,this._albumsSelect=i.albumsSelect,this._showAddBtn=i.showAddBtn,this._hideAddBtn=i.hideAddBtn,this._addContainer=i.addContainer,this._selectContainer=i.selectContainer,this.is_addOn=!1}).extend({init:function(){var e=this;this._showAddBtn&&a.event.on(this._showAddBtn,"click",function(t){e.is_addOn=!0,e._addOn(),a.event.stop(t)}),this._hideAddBtn&&a.event.on(this._hideAddBtn,"click",function(t){e.is_addOn=!1,e._addOff(),a.event.stop(t)}),a.event.on(this._albumsSelect,"change",function(){e.dispatchEvent(o.ON_ALBUM_SELECTED,this.options[this.selectedIndex].value)}),this.albumInput=a.dom.query("input.album-name",this._addContainer)[0],this.albumInput&&(this.validator=s.create(this.albumInput,{success:function(){return!1}}))},action:function(){var e=this;if(this._getUnfolding()){if(!e.validator.valid(e.albumInput))return;var t=a.string.trim(this.albumInput.value);e.addAlbum(t,function(t,i){e.is_addOn=!1,e._addOff(),e.dispatchEvent(o.ON_ALBUM_READY,t,i)})}else{var i=e._albumsSelect.options[e._albumsSelect.selectedIndex];e.dispatchEvent(o.ON_ALBUM_READY,i.value,i.text)}},hide:function(){this._selectContainer&&a.dom.hide(this._selectContainer),this._addContainer&&a.dom.hide(this._addContainer)},show:function(){this._selectContainer&&a.dom.show(this._selectContainer),this._addContainer&&a.dom.show(this._addContainer),this._addOff()},_getUnfolding:function(){return this.is_addOn},_addOn:function(){this._addContainer&&a.dom.show(this._addContainer),this._selectContainer&&a.dom.hide(this._selectContainer)},_addOff:function(){this._addContainer&&a.dom.hide(this._addContainer),this._selectContainer&&a.dom.show(this._selectContainer)},addAlbum:function(t,i){if("string"!=typeof t)return void this._addAlbum(t);var n=this,s={title:t,desc:"",bdstoken:e("user").bdstoken||0};a.extend(s,n._extendData),a.ajax.post("/"+this._module+"/album/save?format=ajax",a.url.jsonToQuery(s),function(e){var s=a.json.parse(e.responseText);0===s.errno?(n._addAlbum({title:t,aid:s.data.aid},!0),i&&i(s.data.aid,t)):d.check(s)})},_addAlbum:function(e,t){var i=this;if(a.browser.ie){var n=document.createElement("OPTION");n.text=e.title,n.value=e.aid,n.selected="selected",i._albumsSelect.add(n)}else i._albumsSelect.innerHTML+="<option selected='selected' value='"+e.aid+"'>"+e.title+"</option>";i.setSelection(e),t&&i.dispatchEvent(o.ON_ALBUM_CREATED,e.aid,e)},setAlbums:function(e){var t=this,i=new Array;a.array.each(e,function(e,n){if(a.browser.ie){var d=document.createElement("OPTION");d.text=e.title,d.value=e.aid,0===n&&(d.selected="selected",t.aid=e.aid),t._albumsSelect.add(d)}else{var s='<option #{selected} value="#{value}">#{title}</option>',o={value:e.aid,title:e.title};0===n&&(o.selected='selected="selected"',t.aid=e.aid),i.push(a.string.format(s,o))}}),a.browser.ie||(this._albumsSelect.innerHTML=i.join("")),this.dispatchEvent(o.ON_ALBUM_FILLED)},setSelection:function(e){for(var t=0,i=this._albumsSelect.options.length;i>t;t++){var n=this._albumsSelect.options[t];if(n.value==e.aid){n.selected="selected";break}}},disable:function(){this._albumsSelect.disabled="disabled"},enable:function(){this._albumsSelect.disabled=""}});i.exports={create:n,EVENTS:o}});
;define("common:widget/ui/angular-1.2.14/angular-source.js",function(t){!function(e,n,r){"use strict";function i(t){return function(){var e,n,r=arguments[0],i="["+(t?t+":":"")+r+"] ",o=arguments[1],s=arguments,a=function(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t};for(e=i+o.replace(/\{\d+\}/g,function(t){var e,n=+t.slice(1,-1);return n+2<s.length?(e=s[n+2],"function"==typeof e?e.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?L(e):e):t}),e=e+"\nhttp://errors.angularjs.org/1.2.14/"+(t?t+"/":"")+r,n=2;n<arguments.length;n++)e=e+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(a(arguments[n]));return new Error(e)}}function o(t){if(null==t||A(t))return!1;var e=t.length;return 1===t.nodeType&&e?!0:x(t)||C(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function s(t,e,n){var r;if(t)if(k(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r);else if(t.forEach&&t.forEach!==s)t.forEach(e,n);else if(o(t))for(r=0;r<t.length;r++)e.call(n,t[r],r);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r);return t}function a(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()}function u(t,e,n){for(var r=a(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function c(t){return function(e,n){t(n,e)}}function l(){for(var t,e=kr.length;e;){if(e--,t=kr[e].charCodeAt(0),57==t)return kr[e]="A",kr.join("");if(90!=t)return kr[e]=String.fromCharCode(t+1),kr.join("");kr[e]="0"}return kr.unshift("0"),kr.join("")}function f(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function h(t){var e=t.$$hashKey;return s(arguments,function(e){e!==t&&s(e,function(e,n){t[n]=e})}),f(t,e),t}function p(t){return parseInt(t,10)}function $(t,e){return h(new(h(function(){},{prototype:t})),e)}function d(){}function v(t){return t}function g(t){return function(){return t}}function m(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function w(t){return null!=t&&"object"==typeof t}function x(t){return"string"==typeof t}function b(t){return"number"==typeof t}function S(t){return"[object Date]"===br.call(t)}function C(t){return"[object Array]"===br.call(t)}function k(t){return"function"==typeof t}function E(t){return"[object RegExp]"===br.call(t)}function A(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function O(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===br.call(t)}function M(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function j(t,e,n){var r=[];return s(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r}function P(t,e){return-1!=N(t,e)}function N(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function D(t,e){var n=N(t,e);return n>=0&&t.splice(n,1),e}function R(t,e){if(A(t)||O(t))throw Sr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw Sr("cpi","Can't copy! Source and destination are identical.");if(C(t)){e.length=0;for(var n=0;n<t.length;n++)e.push(R(t[n]))}else{var r=e.$$hashKey;s(e,function(t,n){delete e[n]});for(var i in t)e[i]=R(t[i]);f(e,r)}}else e=t,t&&(C(t)?e=R(t,[]):S(t)?e=new Date(t.getTime()):E(t)?e=new RegExp(t.source):w(t)&&(e=R(t,{})));return e}function q(t,e){e=e||{};for(var n in t)!t.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e}function V(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,o,s=typeof t,a=typeof e;if(s==a&&"object"==s){if(!C(t)){if(S(t))return S(e)&&t.getTime()==e.getTime();if(E(t)&&E(e))return t.toString()==e.toString();if(O(t)||O(e)||A(t)||A(e)||C(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!k(t[i])){if(!V(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==r&&!k(e[i]))return!1;return!0}if(!C(e))return!1;if((n=t.length)==e.length){for(i=0;n>i;i++)if(!V(t[i],e[i]))return!1;return!0}}return!1}function I(){return n.securityPolicy&&n.securityPolicy.isActive||n.querySelector&&!(!n.querySelector("[ng-csp]")&&!n.querySelector("[data-ng-csp]"))}function U(t,e,n){return t.concat(wr.call(e,n))}function _(t,e){return wr.call(t,e||0)}function F(t,e){var n=arguments.length>2?_(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(wr.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,e){var i=e;return"string"==typeof t&&"$"===t.charAt(0)?i=r:A(e)?i="$WINDOW":e&&n===e?i="$DOCUMENT":O(e)&&(i="$SCOPE"),i}function L(t,e){return"undefined"==typeof t?r:JSON.stringify(t,H,e?"  ":null)}function B(t){return x(t)?JSON.parse(t):t}function z(t){if("function"==typeof t)t=!0;else if(t&&0!==t.length){var e=lr(""+t);t=!("f"==e||"0"==e||"false"==e||"no"==e||"n"==e||"[]"==e)}else t=!1;return t}function W(t){t=vr(t).clone();try{t.empty()}catch(e){}var n=3,r=vr("<div>").append(t).html();try{return t[0].nodeType===n?lr(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+lr(e)})}catch(e){return lr(r)}}function Q(t){try{return decodeURIComponent(t)}catch(e){}}function J(t){var e,n,r={};return s((t||"").split("&"),function(t){if(t&&(e=t.split("="),n=Q(e[0]),y(n))){var i=y(e[1])?Q(e[1]):!0;r[n]?C(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function X(t){var e=[];return s(t,function(t,n){C(t)?s(t,function(t){e.push(G(n,!0)+(t===!0?"":"="+G(t,!0)))}):e.push(G(n,!0)+(t===!0?"":"="+G(t,!0)))}),e.length?e.join("&"):""}function Y(t){return G(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function K(t,e){function r(t){t&&a.push(t)}var i,o,a=[t],u=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;s(u,function(e){u[e]=!0,r(n.getElementById(e)),e=e.replace(":","\\:"),t.querySelectorAll&&(s(t.querySelectorAll("."+e),r),s(t.querySelectorAll("."+e+"\\:"),r),s(t.querySelectorAll("["+e+"]"),r))}),s(a,function(t){if(!i){var e=" "+t.className+" ",n=c.exec(e);n?(i=t,o=(n[2]||"").replace(/\s+/g,",")):s(t.attributes,function(e){!i&&u[e.name]&&(i=t,o=e.value)})}}),i&&e(i,o?[o]:[])}function Z(t,r){var i=function(){if(t=vr(t),t.injector()){var e=t[0]===n?"document":W(t);throw Sr("btstrpd","App Already Bootstrapped with this Element '{0}'",e)}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.unshift("ng");var i=je(r);return i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),i},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?i():(e.name=e.name.replace(o,""),void(Cr.resumeBootstrap=function(t){s(t,function(t){r.push(t)}),i()}))}function te(t,e){return e=e||"_",t.replace(Ar,function(t,n){return(n?e:"")+t.toLowerCase()})}function ee(){gr=e.jQuery,gr?(vr=gr,h(gr.fn,{scope:Vr.scope,isolateScope:Vr.isolateScope,controller:Vr.controller,injector:Vr.injector,inheritedData:Vr.inheritedData}),fe("remove",!0,!0,!1),fe("empty",!1,!1,!1),fe("html",!1,!1,!0)):vr=he,Cr.element=vr}function ne(t,e,n){if(!t)throw Sr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function re(t,e,n){return n&&C(t)&&(t=t[t.length-1]),ne(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ie(t,e){if("hasOwnProperty"===t)throw Sr("badname","hasOwnProperty is not a valid {0} name",e)}function oe(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,s=i.length,a=0;s>a;a++)r=i[a],t&&(t=(o=t)[r]);return!n&&k(t)?F(o,t):t}function se(t){var e=t[0],n=t[t.length-1];if(e===n)return vr(e);var r=e,i=[r];do{if(r=r.nextSibling,!r)break;i.push(r)}while(r!==n);return vr(i)}function ae(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||i,e(o,"module",function(){var t={};return function(i,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return a(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,n,r){return function(){return e[r||"push"]([t,n,arguments]),u}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],a=t("$injector","invoke"),u={_invokeQueue:e,_runBlocks:r,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:a,run:function(t){return r.push(t),this}};return s&&a(s),u})}})}function ue(t){h(t,{bootstrap:Z,copy:R,extend:h,equals:V,element:vr,forEach:s,injector:je,noop:d,bind:F,toJson:L,fromJson:B,identity:v,isUndefined:m,isDefined:y,isString:x,isFunction:k,isObject:w,isNumber:b,isElement:M,isArray:C,version:Or,isDate:S,lowercase:lr,uppercase:hr,callbacks:{counter:0},$$minErr:i,$$csp:I}),mr=ae(e);try{mr("ngLocale")}catch(n){mr("ngLocale",[]).provider("$locale",tn)}mr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:On}),t.provider("$compile",Ie).directive({a:gi,input:Ai,textarea:Ai,form:xi,script:uo,select:fo,style:po,option:ho,ngBind:Ui,ngBindHtml:Fi,ngBindTemplate:_i,ngClass:Hi,ngClassEven:Bi,ngClassOdd:Li,ngCloak:zi,ngController:Wi,ngForm:bi,ngHide:no,ngIf:Ji,ngInclude:Xi,ngInit:Gi,ngNonBindable:Ki,ngPluralize:Zi,ngRepeat:to,ngShow:eo,ngStyle:ro,ngSwitch:io,ngSwitchWhen:oo,ngSwitchDefault:so,ngOptions:lo,ngTransclude:ao,ngModel:Ni,ngList:qi,ngChange:Di,required:Ri,ngRequired:Ri,ngValue:Ii}).directive({ngInclude:Yi}).directive(mi).directive(Qi),t.provider({$anchorScroll:Pe,$animate:Wr,$browser:Re,$cacheFactory:qe,$controller:Fe,$document:He,$exceptionHandler:Le,$filter:Un,$interpolate:Ke,$interval:Ze,$http:Je,$httpBackend:Ye,$location:$n,$log:dn,$parse:Sn,$rootScope:An,$q:Cn,$sce:Nn,$sceDelegate:Pn,$sniffer:Dn,$templateCache:Ve,$timeout:Rn,$window:In,$$rAF:En,$$asyncCallback:Ne})}])}function ce(){return++jr}function le(t){return t.replace(Dr,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Rr,"Moz$1")}function fe(t,e,n,r){function i(t){var i,s,a,u,c,l,f,h=n&&t?[this.filter(t)]:[this],p=e;if(!r||null!=t)for(;h.length;)for(i=h.shift(),s=0,a=i.length;a>s;s++)for(u=vr(i[s]),p?u.triggerHandler("$destroy"):p=!p,c=0,l=(f=u.children()).length;l>c;c++)h.push(gr(f[c]));return o.apply(this,arguments)}var o=gr.fn[t];o=o.$original||o,i.$original=o,gr.fn[t]=i}function he(t){if(t instanceof he)return t;if(x(t)&&(t=Er(t)),!(this instanceof he)){if(x(t)&&"<"!=t.charAt(0))throw qr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new he(t)}if(x(t)){var e=n.createElement("div");e.innerHTML="<div>&#160;</div>"+t,e.removeChild(e.firstChild),be(this,e.childNodes);var r=vr(n.createDocumentFragment());r.append(this)}else be(this,t)}function pe(t){return t.cloneNode(!0)}function $e(t){ve(t);for(var e=0,n=t.childNodes||[];e<n.length;e++)$e(n[e])}function de(t,e,n,r){if(y(r))throw qr("offargs","jqLite#off() does not support the `selector` argument");var i=ge(t,"events"),o=ge(t,"handle");o&&(m(e)?s(i,function(e,n){Nr(t,n,e),delete i[n]}):s(e.split(" "),function(e){m(n)?(Nr(t,e,i[e]),delete i[e]):D(i[e]||[],n)}))}function ve(t,e){var n=t[Mr],i=Tr[n];if(i){if(e)return void delete Tr[n].data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),de(t)),delete Tr[n],t[Mr]=r}}function ge(t,e,n){var r=t[Mr],i=Tr[r||-1];return y(n)?(i||(t[Mr]=r=ce(),i=Tr[r]={}),void(i[e]=n)):i&&i[e]}function me(t,e,n){var r=ge(t,"data"),i=y(n),o=!i&&y(e),s=o&&!w(e);if(r||s||ge(t,"data",r={}),i)r[e]=n;else{if(!o)return r;if(s)return r&&r[e];h(r,e)}}function ye(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function we(t,e){e&&t.setAttribute&&s(e.split(" "),function(e){t.setAttribute("class",Er((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Er(e)+" "," ")))})}function xe(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");s(e.split(" "),function(t){t=Er(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Er(n))}}function be(t,e){if(e){e=e.nodeName||!y(e.length)||A(e)?[e]:e;for(var n=0;n<e.length;n++)t.push(e[n])}}function Se(t,e){return Ce(t,"$"+(e||"ngController")+"Controller")}function Ce(t,e,n){t=vr(t),9==t[0].nodeType&&(t=t.find("html"));for(var i=C(e)?e:[e];t.length;){for(var o=0,s=i.length;s>o;o++)if((n=t.data(i[o]))!==r)return n;t=t.parent()}}function ke(t){for(var e=0,n=t.childNodes;e<n.length;e++)$e(n[e]);for(;t.firstChild;)t.removeChild(t.firstChild)}function Ee(t,e){var n=Ir[e.toLowerCase()];return n&&Ur[t.nodeName]&&n}function Ae(t,e){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||n),m(r.defaultPrevented)){var o=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,o.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1};var a=q(e[i||r.type]||[]);s(a,function(e){e.call(t,r)}),8>=dr?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=t,r}function Oe(t){var e,n=typeof t;return"object"==n&&null!==t?"function"==typeof(e=t.$$hashKey)?e=t.$$hashKey():e===r&&(e=t.$$hashKey=l()):e=t,n+":"+e}function Te(t){s(t,this.put,this)}function Me(t){var e,n,r,i;return"function"==typeof t?(e=t.$inject)||(e=[],t.length&&(n=t.toString().replace(Lr,""),r=n.match(_r),s(r[1].split(Fr),function(t){t.replace(Hr,function(t,n,r){e.push(r)})})),t.$inject=e):C(t)?(i=t.length-1,re(t[i],"fn"),e=t.slice(0,i)):re(t,"fn",!0),e}function je(t){function e(t){return function(e,n){return w(e)?void s(e,c(t)):t(e,n)}}function n(t,e){if(ie(t,"service"),(k(e)||C(e))&&(e=y.instantiate(e)),!e.$get)throw Br("pget","Provider '{0}' must define $get factory method.",t);return m[t+p]=e}function r(t,e){return n(t,{$get:e})}function i(t,e){return r(t,["$injector",function(t){return t.instantiate(e)}])}function o(t,e){return r(t,g(e))}function a(t,e){ie(t,"constant"),m[t]=e,b[t]=e}function u(t,e){var n=y.get(t+p),r=n.$get;n.$get=function(){var t=S.invoke(r,n);return S.invoke(e,null,{$delegate:t})}}function l(t){var e,n,r,i,o=[];return s(t,function(t){if(!v.get(t)){v.put(t,!0);try{if(x(t))for(e=mr(t),o=o.concat(l(e.requires)).concat(e._runBlocks),n=e._invokeQueue,r=0,i=n.length;i>r;r++){var s=n[r],a=y.get(s[0]);a[s[1]].apply(a,s[2])}else k(t)?o.push(y.invoke(t)):C(t)?o.push(y.invoke(t)):re(t,"module")}catch(u){throw C(t)&&(t=t[t.length-1]),u.message&&u.stack&&-1==u.stack.indexOf(u.message)&&(u=u.message+"\n"+u.stack),Br("modulerr","Failed to instantiate module {0} due to:\n{1}",t,u.stack||u.message||u)}}}),o}function f(t,e){function n(n){if(t.hasOwnProperty(n)){if(t[n]===h)throw Br("cdep","Circular dependency found: {0}",$.join(" <- "));return t[n]}try{return $.unshift(n),t[n]=h,t[n]=e(n)}catch(r){throw t[n]===h&&delete t[n],r}finally{$.shift()}}function r(t,e,r){var i,o,s,a=[],u=Me(t);for(o=0,i=u.length;i>o;o++){if(s=u[o],"string"!=typeof s)throw Br("itkn","Incorrect injection token! Expected service name as string, got {0}",s);a.push(r&&r.hasOwnProperty(s)?r[s]:n(s))}return t.$inject||(t=t[i]),t.apply(e,a)}function i(t,e){var n,i,o=function(){};return o.prototype=(C(t)?t[t.length-1]:t).prototype,n=new o,i=r(t,n,e),w(i)||k(i)?i:n}return{invoke:r,instantiate:i,get:n,annotate:Me,has:function(e){return m.hasOwnProperty(e+p)||t.hasOwnProperty(e)}}}var h={},p="Provider",$=[],v=new Te,m={$provide:{provider:e(n),factory:e(r),service:e(i),value:e(o),constant:e(a),decorator:u}},y=m.$injector=f(m,function(){throw Br("unpr","Unknown provider: {0}",$.join(" <- "))}),b={},S=b.$injector=f(b,function(t){var e=y.get(t+p);return S.invoke(e.$get,e)});return s(l(t),function(t){S.invoke(t||d)}),S}function Pe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return s(t,function(t){e||"a"!==lr(t.nodeName)||(e=t)}),e}function o(){var t,r=n.hash();r?(t=a.getElementById(r))?t.scrollIntoView():(t=i(a.getElementsByName(r)))?t.scrollIntoView():"top"===r&&e.scrollTo(0,0):e.scrollTo(0,0)}var a=e.document;return t&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(o)}),o}]}function Ne(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function De(t,e,n,i){function o(t){try{t.apply(null,_(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(t,e){!function n(){s(b,function(t){t()}),w=e(n,t)}()}function u(){k=null,S!=c.url()&&(S=c.url(),s(E,function(t){t(c.url())}))}var c=this,l=e[0],f=t.location,h=t.history,p=t.setTimeout,$=t.clearTimeout,v={};c.isMock=!1;var g=0,y=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){g++},c.notifyWhenNoOutstandingRequests=function(t){s(b,function(t){t()}),0===g?t():y.push(t)};var w,b=[];c.addPollFn=function(t){return m(w)&&a(100,p),b.push(t),t};var S=f.href,C=e.find("base"),k=null;c.url=function(e,n){if(f!==t.location&&(f=t.location),h!==t.history&&(h=t.history),e){if(S==e)return;return S=e,i.history?n?h.replaceState(null,"",e):(h.pushState(null,"",e),C.attr("href",C.attr("href"))):(k=e,n?f.replace(e):f.href=e),c}return k||f.href.replace(/%27/g,"'")};var E=[],A=!1;c.onUrlChange=function(e){return A||(i.history&&vr(t).on("popstate",u),i.hashchange?vr(t).on("hashchange",u):c.addPollFn(u),A=!0),E.push(e),e},c.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var O={},T="",M=c.baseHref();c.cookies=function(t,e){var i,o,s,a,u;if(!t){if(l.cookie!==T)for(T=l.cookie,o=T.split("; "),O={},a=0;a<o.length;a++)s=o[a],u=s.indexOf("="),u>0&&(t=unescape(s.substring(0,u)),O[t]===r&&(O[t]=unescape(s.substring(u+1))));return O}e===r?l.cookie=escape(t)+"=;path="+M+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(e)&&(i=(l.cookie=escape(t)+"="+escape(e)+";path="+M).length+1,i>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},c.defer=function(t,e){var n;return g++,n=p(function(){delete v[n],o(t)},e||0),v[n]=!0,n},c.defer.cancel=function(t){return v[t]?(delete v[t],$(t),o(d),!0):!1}}function Re(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new De(t,r,e,n)}]}function qe(){this.$get=function(){function t(t,n){function r(t){t!=f&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=h({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},f=null,p=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});r(n)}if(!m(e))return t in u||s++,u[t]=e,s>c&&this.remove(p.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==f&&(f=e.p),e==p&&(p=e.n),o(e.n,e.p),delete l[t]}delete u[t],s--},removeAll:function(){u={},s=0,l={},f=p=null},destroy:function(){u=null,a=null,l=null,delete e[t]},info:function(){return h({},a,{size:s})}}}var e={};return t.info=function(){var t={};return s(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ve(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ie(t,e){var i={},o="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,u=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,l=/^<\s*(tr|th|td|tbody)(\s+[^>]*)?>/i,f=/^(on[a-z]+|formaction)$/;this.directive=function p(e,n){return ie(e,"directive"),x(e)?(ne(n,"directiveFactory"),i.hasOwnProperty(e)||(i[e]=[],t.factory(e+o,["$injector","$exceptionHandler",function(t,n){var r=[];return s(i[e],function(i,o){try{var s=t.invoke(i);k(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"A",r.push(s)}catch(a){n(a)}}),r}])),i[e].push(n)):s(e,c(p)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,e,c,p,d,m,y,b,S,E,A,O){function T(t,e,n,r,i){t instanceof vr||(t=vr(t)),s(t,function(e,n){3==e.nodeType&&e.nodeValue.match(/\S+/)&&(t[n]=e=vr(e).wrap("<span></span>").parent()[0])});var o=j(t,e,t,n,r,i);return M(t,"ng-scope"),function(e,n,r){ne(e,"scope");var i=n?Vr.clone.call(t):t;s(r,function(t,e){i.data("$"+e+"Controller",t)});for(var a=0,u=i.length;u>a;a++){var c=i[a],l=c.nodeType;(1===l||9===l)&&i.eq(a).data("$scope",e)}return n&&n(i,e),o&&o(e,i,i),i}}function M(t,e){try{t.addClass(e)}catch(n){}}function j(t,e,n,i,o,s){function a(t,n,i,o){var s,a,u,c,l,f,h,p,d,v=n.length,g=new Array(v);for(h=0;v>h;h++)g[h]=n[h];for(h=0,d=0,p=$.length;p>h;d++)u=g[d],s=$[h++],a=$[h++],c=vr(u),s?(s.scope?(l=t.$new(),c.data("$scope",l)):l=t,f=s.transclude,f||!o&&e?s(a,l,u,i,P(t,f||e)):s(a,l,u,i,o)):a&&a(t,u.childNodes,r,o)}for(var u,c,l,f,h,p,$=[],d=0;d<t.length;d++)u=new ee,c=N(t[d],[],u,0===d?i:r,o),l=c.length?I(c,t[d],u,e,n,null,[],[],s):null,l&&l.scope&&M(vr(t[d]),"ng-scope"),h=l&&l.terminal||!(f=t[d].childNodes)||!f.length?null:j(f,l?l.transclude:e),$.push(l,h),p=p||l||h,s=null;return p?a:null}function P(t,e){return function(n,r,i){var o=!1;n||(n=t.$new(),n.$$transcluded=!0,o=!0);var s=e(n,r,i);return o&&s.on("$destroy",F(n,n.$destroy)),s}}function N(t,e,n,r,i){var o,s,c=t.nodeType,l=n.$attr;switch(c){case 1:H(e,Ue(yr(t).toLowerCase()),"E",r,i);for(var f,h,p,$,d,v=t.attributes,g=0,m=v&&v.length;m>g;g++){var y=!1,w=!1;if(f=v[g],!dr||dr>=8||f.specified){h=f.name,$=Ue(h),se.test($)&&(h=te($.substr(6),"-"));var b=$.replace(/(Start|End)$/,"");$===b+"Start"&&(y=h,w=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Ue(h.toLowerCase()),l[p]=h,n[p]=d=Er(f.value),Ee(t,p)&&(n[p]=!0),G(t,e,d,p),H(e,p,"A",r,i,y,w)}}if(s=t.className,x(s)&&""!==s)for(;o=u.exec(s);)p=Ue(o[2]),H(e,p,"C",r,i)&&(n[p]=Er(o[3])),s=s.substr(o.index+o[0].length);break;case 3:X(e,t.nodeValue);break;case 8:try{o=a.exec(t.nodeValue),o&&(p=Ue(o[1]),H(e,p,"M",r,i)&&(n[p]=Er(o[2])))}catch(S){}}return e.sort(Q),e}function D(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Qr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);1==t.nodeType&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return vr(r)}function R(t,e,n){return function(r,i,o,s,a){return i=D(i[0],e,n),t(r,i,o,s,a)}}function I(t,i,o,a,u,l,f,h,p){function $(t,e,n,r){t&&(n&&(t=R(t,n,r)),t.require=b.require,(I===b||b.$$isolateScope)&&(t=Z(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=R(e,n,r)),e.require=b.require,(I===b||b.$$isolateScope)&&(e=Z(e,{isolateScope:!0})),h.push(e))}function d(t,e,n){var r,i="data",o=!1;if(x(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(i="inheritedData"),o=o||"?"==r;if(r=null,n&&"data"===i&&(r=n[t]),r=r||e[i]("$"+t+"Controller"),!r&&!o)throw Qr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,S);return r}return C(t)&&(r=[],s(t,function(t){r.push(d(t,e,n))})),r}function v(t,n,a,u,l){function p(t,e){var n;return arguments.length<2&&(e=t,t=r),X&&(n=k),l(t,e,n)}var $,v,g,w,x,b,S,C,k={};if($=i===a?o:q(o,new ee(vr(a),o.$attr)),v=$.$$element,I){var E=/^\s*([@=&])(\??)\s*(\w*)\s*$/,A=vr(a);S=n.$new(!0),F&&F===I.$$originalDirective?A.data("$isolateScope",S):A.data("$isolateScopeNoTemplate",S),M(A,"ng-isolate-scope"),s(I.scope,function(t,r){var i,o,s,a,u=t.match(E)||[],c=u[3]||r,l="?"==u[2],f=u[1];switch(S.$$isolateBindings[r]=f+c,f){case"@":$.$observe(c,function(t){S[r]=t}),$.$$observers[c].$$scope=n,$[c]&&(S[r]=e($[c])(n));break;case"=":if(l&&!$[c])return;o=m($[c]),a=o.literal?V:function(t,e){return t===e},s=o.assign||function(){throw i=S[r]=o(n),Qr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",$[c],I.name)},i=S[r]=o(n),S.$watch(function(){var t=o(n);return a(t,S[r])||(a(t,i)?s(n,t=S[r]):S[r]=t),i=t},null,o.literal);break;case"&":o=m($[c]),S[r]=function(t){return o(n,t)};break;default:throw Qr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",I.name,r,t)}})}for(C=l&&p,P&&s(P,function(t){var e,r={$scope:t===I||t.$$isolateScope?S:n,$element:v,$attrs:$,$transclude:C};b=t.controller,"@"==b&&(b=$[t.name]),e=y(b,r),k[t.name]=e,X||v.data("$"+t.name+"Controller",e),t.controllerAs&&(r.$scope[t.controllerAs]=e)}),g=0,w=f.length;w>g;g++)try{x=f[g],x(x.isolateScope?S:n,v,$,x.require&&d(x.require,v,k),C)}catch(O){c(O,W(v))}var T=n;for(I&&(I.template||null===I.templateUrl)&&(T=S),t&&t(T,a.childNodes,r,l),g=h.length-1;g>=0;g--)try{x=h[g],x(x.isolateScope?S:n,v,$,x.require&&d(x.require,v,k),C)}catch(O){c(O,W(v))}}p=p||{};for(var g,b,S,E,A,O,j=-Number.MAX_VALUE,P=p.controllerDirectives,I=p.newIsolateScopeDirective,F=p.templateDirective,H=p.nonTlbTranscludeDirective,Q=!1,X=p.hasElementTranscludeDirective,Y=o.$$element=vr(i),G=l,te=a,ne=0,re=t.length;re>ne;ne++){b=t[ne];var ie=b.$$start,se=b.$$end;if(ie&&(Y=D(i,ie,se)),E=r,j>b.priority)break;if((O=b.scope)&&(g=g||b,b.templateUrl||(J("new/isolated scope",I,b,Y),w(O)&&(I=b))),S=b.name,!b.templateUrl&&b.controller&&(O=b.controller,P=P||{},J("'"+S+"' controller",P[S],b,Y),P[S]=b),(O=b.transclude)&&(Q=!0,b.$$tlb||(J("transclusion",H,b,Y),H=b),"element"==O?(X=!0,j=b.priority,E=D(i,ie,se),Y=o.$$element=vr(n.createComment(" "+S+": "+o[S]+" ")),i=Y[0],K(u,vr(_(E)),i),te=T(E,a,j,G&&G.name,{nonTlbTranscludeDirective:H})):(E=vr(pe(i)).contents(),Y.empty(),te=T(E,a))),b.template)if(J("template",F,b,Y),F=b,O=k(b.template)?b.template(Y,o):b.template,O=oe(O),b.replace){if(G=b,E=B(O),i=E[0],1!=E.length||1!==i.nodeType)throw Qr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");K(u,Y,i);var ae={$attr:{}},ue=N(i,[],ae),ce=t.splice(ne+1,t.length-(ne+1));I&&U(ue),t=t.concat(ue).concat(ce),L(o,ae),re=t.length}else Y.html(O);if(b.templateUrl)J("template",F,b,Y),F=b,b.replace&&(G=b),v=z(t.splice(ne,t.length-ne),Y,o,u,te,f,h,{controllerDirectives:P,newIsolateScopeDirective:I,templateDirective:F,nonTlbTranscludeDirective:H}),re=t.length;else if(b.compile)try{A=b.compile(Y,o,te),k(A)?$(null,A,ie,se):A&&$(A.pre,A.post,ie,se)}catch(le){c(le,W(Y))}b.terminal&&(v.terminal=!0,j=Math.max(j,b.priority))}return v.scope=g&&g.scope===!0,v.transclude=Q&&te,p.hasElementTranscludeDirective=X,v}function U(t){for(var e=0,n=t.length;n>e;e++)t[e]=$(t[e],{$$isolateScope:!0})}function H(e,n,s,a,u,l,f){if(n===u)return null;var h=null;if(i.hasOwnProperty(n))for(var p,d=t.get(n+o),v=0,g=d.length;g>v;v++)try{p=d[v],(a===r||a>p.priority)&&-1!=p.restrict.indexOf(s)&&(l&&(p=$(p,{$$start:l,$$end:f})),e.push(p),h=p)}catch(m){c(m)}return h}function L(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;s(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),s(e,function(e,o){"class"==o?(M(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function B(t){var e;if(t=Er(t),e=l.exec(t)){e=e[1].toLowerCase();var n=vr("<table>"+t+"</table>"),r=n.children("tbody"),i=/(td|th)/.test(e)&&n.find("tr");return r.length&&"tbody"!==e&&(n=r),i&&i.length&&(n=i),n.contents()}return vr("<div>"+t+"</div>").contents()}function z(t,e,n,r,i,o,a,u){var c,l,f=[],$=e[0],v=t.shift(),g=h({},v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),m=k(v.templateUrl)?v.templateUrl(e,n):v.templateUrl;return e.empty(),p.get(E.getTrustedResourceUrl(m),{cache:d}).success(function(h){var p,d,y,x;if(h=oe(h),v.replace){if(y=B(h),p=y[0],1!=y.length||1!==p.nodeType)throw Qr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,m);d={$attr:{}},K(r,e,p);var b=N(p,[],d);w(v.scope)&&U(b),t=b.concat(t),L(n,d)}else p=$,e.html(h);for(t.unshift(g),c=I(t,p,n,i,e,v,o,a,u),s(r,function(t,n){t==p&&(r[n]=e[0])}),l=j(e[0].childNodes,i);f.length;){var S=f.shift(),C=f.shift(),k=f.shift(),E=f.shift(),A=e[0];if(C!==$){var O=C.className;u.hasElementTranscludeDirective&&v.replace||(A=pe(p)),K(k,vr(C),A),M(vr(A),O)}x=c.transclude?P(S,c.transclude):E,c(l,S,A,r,x)}f=null}).error(function(t,e,n,r){throw Qr("tpload","Failed to load template: {0}",r.url)}),function(t,e,n,r,i){f?(f.push(e),f.push(n),f.push(r),f.push(i)):c(l,e,n,r,i)}}function Q(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function J(t,e,n,r){if(e)throw Qr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,W(r))}function X(t,n){var r=e(n,!0);r&&t.push({priority:0,compile:g(function(t,e){var n=e.parent(),i=n.data("$binding")||[];i.push(r),M(n.data("$binding",i),"ng-binding"),t.$watch(r,function(t){e[0].nodeValue=t})})})}function Y(t,e){if("srcdoc"==e)return E.HTML;var n=yr(t);return"xlinkHref"==e||"FORM"==n&&"action"==e||"IMG"!=n&&("src"==e||"ngSrc"==e)?E.RESOURCE_URL:void 0}function G(t,n,r,i){var o=e(r,!0);if(o){if("multiple"===i&&"SELECT"===yr(t))throw Qr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(t));n.push({priority:100,compile:function(){return{pre:function(n,r,s){var a=s.$$observers||(s.$$observers={});if(f.test(i))throw Qr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");o=e(s[i],!0,Y(t,i)),o&&(s[i]=o(n),(a[i]||(a[i]=[])).$$inter=!0,(s.$$observers&&s.$$observers[i].$$scope||n).$watch(o,function(t,e){"class"===i&&t!=e?s.$updateClass(t,e):s.$set(i,t)}))}}}})}}function K(t,e,r){var i,o,s=e[0],a=e.length,u=s.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==s){t[i++]=r;for(var c=i,l=c+a-1,f=t.length;f>c;c++,l++)f>l?t[c]=t[l]:delete t[c];t.length-=a-1;break}u&&u.replaceChild(r,s);var h=n.createDocumentFragment();h.appendChild(s),r[vr.expando]=s[vr.expando];for(var p=1,$=e.length;$>p;p++){var d=e[p];vr(d).remove(),h.appendChild(d),delete e[p]}e[0]=r,e.length=1}function Z(t,e){return h(function(){return t.apply(null,arguments)},t,e)}var ee=function(t,e){this.$$element=t,this.$attr=e||{}};ee.prototype={$normalize:Ue,$addClass:function(t){t&&t.length>0&&A.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&A.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=_e(t,e),r=_e(e,t);0===n.length?A.removeClass(this.$$element,r):0===r.length?A.addClass(this.$$element,n):A.setClass(this.$$element,n,r)},$set:function(t,e,n,i){var o,a=Ee(this.$$element[0],t);a&&(this.$$element.prop(t,e),i=a),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t],i||(this.$attr[t]=i=te(t,"-"))),o=yr(this.$$element),("A"===o&&"href"===t||"IMG"===o&&"src"===t)&&(this[t]=e=O(e,"src"===t)),n!==!1&&(null===e||e===r?this.$$element.removeAttr(i):this.$$element.attr(i,e));var u=this.$$observers;
u&&s(u[t],function(t){try{t(e)}catch(n){c(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers={}),i=r[t]||(r[t]=[]);return i.push(e),b.$evalAsync(function(){i.$$inter||e(n[t])}),e}};var re=e.startSymbol(),ie=e.endSymbol(),oe="{{"==re||"}}"==ie?v:function(t){return t.replace(/\{\{/g,re).replace(/}}/g,ie)},se=/^ngAttr[A-Z]/;return T}]}function Ue(t){return le(t.replace(Jr,""))}function _e(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue t;n+=(n.length>0?" ":"")+s}return n}function Fe(){var t={},e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){ie(e,"controller"),w(e)?h(t,e):t[e]=n},this.$get=["$injector","$window",function(n,r){return function(o,s){var a,u,c,l;if(x(o)&&(u=o.match(e),c=u[1],l=u[3],o=t.hasOwnProperty(c)?t[c]:oe(s.$scope,c,!0)||oe(r,c,!0),re(o,c,!0)),a=n.instantiate(o,s),l){if(!s||"object"!=typeof s.$scope)throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",c||o.name,l);s.$scope[l]=a}return a}}]}function He(){this.$get=["$window",function(t){return vr(t.document)}]}function Le(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function Be(t){var e,n,r,i={};return t?(s(t.split("\n"),function(t){r=t.indexOf(":"),e=lr(Er(t.substr(0,r))),n=Er(t.substr(r+1)),e&&(i[e]?i[e]+=", "+n:i[e]=n)}),i):i}function ze(t){var e=w(t)?t:r;return function(n){return e||(e=Be(t)),n?e[lr(n)]||null:e}}function We(t,e,n){return k(n)?n(t,e):(s(n,function(n){t=n(t,e)}),t)}function Qe(t){return t>=200&&300>t}function Je(){var t=/^\s*(\[|\{[^\{])/,e=/[\}\]]\s*$/,n=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(r){return x(r)&&(r=r.replace(n,""),t.test(r)&&e.test(r)&&(r=B(r))),r}],transformRequest:[function(t){return w(t)&&!T(t)?L(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(i),put:R(i),patch:R(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(t,e,n,i,l,f){function p(t){function n(t){var e=h({},t,{data:We(t.data,t.headers,a.transformResponse)});return Qe(t.status)?e:l.reject(e)}function i(t){function e(t){var e;s(t,function(n,r){k(n)&&(e=n(),null!=e?t[r]=e:delete t[r])})}var n,r,i,a=o.headers,u=h({},t.headers);a=h({},a.common,a[lr(t.method)]),e(a),e(u);t:for(n in a){r=lr(n);for(i in u)if(lr(i)===r)continue t;u[n]=a[n]}return u}var a={method:"get",transformRequest:o.transformRequest,transformResponse:o.transformResponse},u=i(t);h(a,t),a.headers=u,a.method=hr(a.method);var c=Vn(a.url)?e.cookies()[a.xsrfCookieName||o.xsrfCookieName]:r;c&&(u[a.xsrfHeaderName||o.xsrfHeaderName]=c);var f=function(t){u=t.headers;var e=We(t.data,ze(u),t.transformRequest);return m(t.data)&&s(u,function(t,e){"content-type"===lr(e)&&delete u[e]}),m(t.withCredentials)&&!m(o.withCredentials)&&(t.withCredentials=o.withCredentials),v(t,e,u).then(n,n)},p=[f,r],$=l.when(a);for(s(S,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&p.push(t.response,t.responseError)});p.length;){var d=p.shift(),g=p.shift();$=$.then(d,g)}return $.success=function(t){return $.then(function(e){t(e.data,e.status,e.headers,a)}),$},$.error=function(t){return $.then(null,function(e){t(e.data,e.status,e.headers,a)}),$},$}function $(){s(arguments,function(t){p[t]=function(e,n){return p(h(n||{},{method:t,url:e}))}})}function d(){s(arguments,function(t){p[t]=function(e,n,r){return p(h(r||{},{method:t,url:e,data:n}))}})}function v(e,n,r){function s(t,e,n){c&&(Qe(t)?c.put(d,[t,e,Be(n)]):c.remove(d)),a(e,t,n),i.$$phase||i.$apply()}function a(t,n,r){n=Math.max(n,0),(Qe(n)?h.resolve:h.reject)({data:t,status:n,headers:ze(r),config:e})}function u(){var t=N(p.pendingRequests,e);-1!==t&&p.pendingRequests.splice(t,1)}var c,f,h=l.defer(),$=h.promise,d=g(e.url,e.params);if(p.pendingRequests.push(e),$.then(u,u),(e.cache||o.cache)&&e.cache!==!1&&"GET"==e.method&&(c=w(e.cache)?e.cache:w(o.cache)?o.cache:b),c)if(f=c.get(d),y(f)){if(f.then)return f.then(u,u),f;C(f)?a(f[1],f[0],R(f[2])):a(f,200,{})}else c.put(d,$);return m(f)&&t(e.method,d,n,s,r,e.timeout,e.withCredentials,e.responseType),$}function g(t,e){if(!e)return t;var n=[];return u(e,function(t,e){null===t||m(t)||(C(t)||(t=[t]),s(t,function(t){w(t)&&(t=L(t)),n.push(G(e)+"="+G(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var b=n("$http"),S=[];return s(a,function(t){S.unshift(x(t)?f.get(t):f.invoke(t))}),s(c,function(t,e){var n=x(t)?f.get(t):f.invoke(t);S.splice(e,0,{response:function(t){return n(l.when(t))},responseError:function(t){return n(l.reject(t))}})}),p.pendingRequests=[],$("get","delete","head","jsonp"),d("post","put"),p.defaults=o,p}]}function Xe(t){if(8>=dr&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw i("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Ye(){this.$get=["$browser","$window","$document",function(t,e,n){return Ge(t,Xe,t.defer,e.angular.callbacks,n[0])}]}function Ge(t,e,n,r,i){function o(t,e){var n=i.createElement("script"),r=function(){n.onreadystatechange=n.onload=n.onerror=null,i.body.removeChild(n),e&&e()};return n.type="text/javascript",n.src=t,dr&&8>=dr?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=function(){r()},i.body.appendChild(n),r}var a=-1;return function(i,u,c,l,f,h,p,$){function v(){m=a,x&&x(),b&&b.abort()}function g(e,r,i,o){C&&n.cancel(C),x=b=null,r=0===r?i?200:404:r,r=1223==r?204:r,e(r,i,o),t.$$completeOutstandingRequest(d)}var m;if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==lr(i)){var w="_"+(r.counter++).toString(36);r[w]=function(t){r[w].data=t};var x=o(u.replace("JSON_CALLBACK","angular.callbacks."+w),function(){r[w].data?g(l,200,r[w].data):g(l,m||-2),r[w]=Cr.noop})}else{var b=e(i);if(b.open(i,u,!0),s(f,function(t,e){y(t)&&b.setRequestHeader(e,t)}),b.onreadystatechange=function(){if(b&&4==b.readyState){var t=null,e=null;m!==a&&(t=b.getAllResponseHeaders(),e="response"in b?b.response:b.responseText),g(l,m||b.status,e,t)}},p&&(b.withCredentials=!0),$)try{b.responseType=$}catch(S){if("json"!==$)throw S}b.send(c||null)}if(h>0)var C=n(v,h);else h&&h.then&&h.then(v)}}function Ke(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(o,u,c){for(var l,f,h,p,$=0,d=[],v=o.length,g=!1,y=[];v>$;)-1!=(l=o.indexOf(t,$))&&-1!=(f=o.indexOf(e,l+s))?($!=l&&d.push(o.substring($,l)),d.push(h=n(p=o.substring(l+s,f))),h.exp=p,$=f+a,g=!0):($!=v&&d.push(o.substring($)),$=v);if((v=d.length)||(d.push(""),v=1),c&&d.length>1)throw Xr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);return!u||g?(y.length=v,h=function(t){try{for(var e,n=0,s=v;s>n;n++)"function"==typeof(e=d[n])&&(e=e(t),e=c?i.getTrusted(c,e):i.valueOf(e),null===e||m(e)?e="":"string"!=typeof e&&(e=L(e))),y[n]=e;return y.join("")}catch(a){var u=Xr("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(u)}},h.exp=o,h.parts=d,h):void 0}var s=t.length,a=e.length;return o.startSymbol=function(){return t},o.endSymbol=function(){return e},o}]}function Ze(){this.$get=["$rootScope","$window","$q",function(t,e,n){function r(r,o,s,a){var u=e.setInterval,c=e.clearInterval,l=n.defer(),f=l.promise,h=0,p=y(a)&&!a;return s=y(s)?s:0,f.then(null,null,r),f.$$intervalId=u(function(){l.notify(h++),s>0&&h>=s&&(l.resolve(h),c(f.$$intervalId),delete i[f.$$intervalId]),p||t.$apply()},o),i[f.$$intervalId]=l,f}var i={};return r.cancel=function(t){return t&&t.$$intervalId in i?(i[t.$$intervalId].reject("canceled"),clearInterval(t.$$intervalId),delete i[t.$$intervalId],!0):!1},r}]}function tn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function en(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Y(e[n]);return e.join("/")}function nn(t,e,n){var r=qn(t,n);e.$$protocol=r.protocol,e.$$host=r.hostname,e.$$port=p(r.port)||Gr[r.protocol]||null}function rn(t,e,n){var r="/"!==t.charAt(0);r&&(t="/"+t);var i=qn(t,n);e.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=J(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function on(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function sn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function an(t){return t.substr(0,sn(t).lastIndexOf("/")+1)}function un(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function cn(t,e){this.$$html5=!0,e=e||"";var n=an(t);nn(t,this,t),this.$$parse=function(e){var r=on(n,e);if(!x(r))throw Kr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,n);rn(r,this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=X(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=en(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=n+this.$$url.substr(1)},this.$$rewrite=function(i){var o,s;return(o=on(t,i))!==r?(s=o,(o=on(e,o))!==r?n+(on("/",o)||o):t+s):(o=on(n,i))!==r?n+o:n==i+"/"?n:void 0}}function ln(t,e){var n=an(t);nn(t,this,t),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/?.*?:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o=on(t,r)||on(n,r),s="#"==o.charAt(0)?on(e,o):this.$$html5?o:"";if(!x(s))throw Kr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,e);rn(s,this,t),this.$$path=i(this.$$path,s,t),this.$$compose()},this.$$compose=function(){var n=X(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=en(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$rewrite=function(e){return sn(t)==sn(e)?e:void 0}}function fn(t,e){this.$$html5=!0,ln.apply(this,arguments);var n=an(t);this.$$rewrite=function(r){var i;return t==sn(r)?r:(i=on(n,r))?t+e+i:n===r+"/"?n:void 0}}function hn(t){return function(){return this[t]}}function pn(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function $n(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return y(t)?(n=t,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,s){function a(t){r.$broadcast("$locationChangeSuccess",u.absUrl(),t)}var u,c,l,f=i.baseHref(),h=i.url();n?(l=un(h)+(f||"/"),c=o.history?cn:fn):(l=sn(h),c=ln),u=new c(l,"#"+t),u.$$parse(u.$$rewrite(h)),s.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=vr(t.target);"a"!==lr(n[0].nodeName);)if(n[0]===s[0]||!(n=n.parent())[0])return;var o=n.prop("href");w(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=qn(o.animVal).href);var a=u.$$rewrite(o);o&&!n.attr("target")&&a&&!t.isDefaultPrevented()&&(t.preventDefault(),a!=i.url()&&(u.$$parse(a),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),u.absUrl()!=h&&i.url(u.absUrl(),!0),i.onUrlChange(function(t){u.absUrl()!=t&&(r.$evalAsync(function(){var e=u.absUrl();u.$$parse(t),r.$broadcast("$locationChangeStart",t,e).defaultPrevented?(u.$$parse(e),i.url(e)):a(e)}),r.$$phase||r.$digest())});var p=0;return r.$watch(function(){var t=i.url(),e=u.$$replace;return p&&t==u.absUrl()||(p++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",u.absUrl(),t).defaultPrevented?u.$$parse(t):(i.url(u.absUrl(),e),a(t))})),u.$$replace=!1,p}),u}]}function dn(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||d,o=!1;try{o=!!i.apply}catch(a){}return o?function(){var t=[];return s(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function vn(t,e){if("constructor"===t)throw ti("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',e);return t}function gn(t,e){if(t){if(t.constructor===t)throw ti("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.document&&t.location&&t.alert&&t.setInterval)throw ti("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ti("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e)}return t}function mn(t,e,n,i,o){o=o||{};for(var s,a=e.split("."),u=0;a.length>1;u++){s=vn(a.shift(),i);var c=t[s];c||(c={},t[s]=c),t=c,t.then&&o.unwrapPromises&&(Zr(i),"$$v"in t||!function(t){t.then(function(e){t.$$v=e})}(t),t.$$v===r&&(t.$$v={}),t=t.$$v)}return s=vn(a.shift(),i),t[s]=n,n}function yn(t,e,n,i,o,s,a){return vn(t,s),vn(e,s),vn(n,s),vn(i,s),vn(o,s),a.unwrapPromises?function(a,u){var c,l=u&&u.hasOwnProperty(t)?u:a;return null==l?l:(l=l[t],l&&l.then&&(Zr(s),"$$v"in l||(c=l,c.$$v=r,c.then(function(t){c.$$v=t})),l=l.$$v),e?null==l?r:(l=l[e],l&&l.then&&(Zr(s),"$$v"in l||(c=l,c.$$v=r,c.then(function(t){c.$$v=t})),l=l.$$v),n?null==l?r:(l=l[n],l&&l.then&&(Zr(s),"$$v"in l||(c=l,c.$$v=r,c.then(function(t){c.$$v=t})),l=l.$$v),i?null==l?r:(l=l[i],l&&l.then&&(Zr(s),"$$v"in l||(c=l,c.$$v=r,c.then(function(t){c.$$v=t})),l=l.$$v),o?null==l?r:(l=l[o],l&&l.then&&(Zr(s),"$$v"in l||(c=l,c.$$v=r,c.then(function(t){c.$$v=t})),l=l.$$v),l):l):l):l):l)}:function(s,a){var u=a&&a.hasOwnProperty(t)?a:s;return null==u?u:(u=u[t],e?null==u?r:(u=u[e],n?null==u?r:(u=u[n],i?null==u?r:(u=u[i],o?null==u?r:u=u[o]:u):u):u):u)}}function wn(t,e){return vn(t,e),function(e,n){return null==e?r:(n&&n.hasOwnProperty(t)?n:e)[t]}}function xn(t,e,n){return vn(t,n),vn(e,n),function(n,i){return null==n?r:(n=(i&&i.hasOwnProperty(t)?i:n)[t],null==n?r:n[e])}}function bn(t,e,n){if(si.hasOwnProperty(t))return si[t];var i,o=t.split("."),a=o.length;if(e.unwrapPromises||1!==a)if(e.unwrapPromises||2!==a)if(e.csp)i=6>a?yn(o[0],o[1],o[2],o[3],o[4],n,e):function(t,i){var s,u=0;do s=yn(o[u++],o[u++],o[u++],o[u++],o[u++],n,e)(t,i),i=r,t=s;while(a>u);return s};else{var u="var p;\n";s(o,function(t,r){vn(t,n),u+="if(s == null) return undefined;\ns="+(r?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\n'+(e.unwrapPromises?'if (s && s.then) {\n pw("'+n.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),u+="return s;";var c=new Function("s","k","pw",u);c.toString=g(u),i=e.unwrapPromises?function(t,e){return c(t,e,Zr)}:c}else i=xn(o[0],o[1],n);else i=wn(o[0],n);return"hasOwnProperty"!==t&&(si[t]=i),i}function Sn(){var t={},e={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(t){return y(t)?(e.unwrapPromises=!!t,this):e.unwrapPromises},this.logPromiseWarnings=function(t){return y(t)?(e.logPromiseWarnings=t,this):e.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return e.csp=r.csp,Zr=function(t){e.logPromiseWarnings&&!ei.hasOwnProperty(t)&&(ei[t]=!0,i.warn("[$parse] Promise found in the expression `"+t+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":if(t.hasOwnProperty(r))return t[r];var o=new ii(e),s=new oi(o,n,e);return i=s.parse(r,!1),"hasOwnProperty"!==r&&(t[r]=i),i;case"function":return r;default:return d}}}]}function Cn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return kn(function(e){t.$evalAsync(e)},e)}]}function kn(t,e){function n(t){return t}function i(t){return c(t)}function o(t){var e=a(),n=0,r=C(t)?[]:{};return s(t,function(t,i){n++,u(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var a=function(){var o,s,c=[];return s={resolve:function(e){if(c){var n=c;c=r,o=u(e),n.length&&t(function(){for(var t,e=0,r=n.length;r>e;e++)t=n[e],o.then(t[0],t[1],t[2])})}},reject:function(t){s.resolve(l(t))},notify:function(e){if(c){var n=c;c.length&&t(function(){for(var t,r=0,i=n.length;i>r;r++)t=n[r],t[2](e)})}},promise:{then:function(t,r,s){var u=a(),l=function(r){try{u.resolve((k(t)?t:n)(r))}catch(i){u.reject(i),e(i)}},f=function(t){try{u.resolve((k(r)?r:i)(t))}catch(n){u.reject(n),e(n)}},h=function(t){try{u.notify((k(s)?s:n)(t))}catch(r){e(r)}};return c?c.push([l,f,h]):o.then(l,f,h),u.promise},"catch":function(t){return this.then(null,t)},"finally":function(t){function e(t,e){var n=a();return e?n.resolve(t):n.reject(t),n.promise}function r(r,i){var o=null;try{o=(t||n)()}catch(s){return e(s,!1)}return o&&k(o.then)?o.then(function(){return e(r,i)},function(t){return e(t,!1)}):e(r,i)}return this.then(function(t){return r(t,!0)},function(t){return r(t,!1)})}}}},u=function(e){return e&&k(e.then)?e:{then:function(n){var r=a();return t(function(){r.resolve(n(e))}),r.promise}}},c=function(t){var e=a();return e.reject(t),e.promise},l=function(n){return{then:function(r,o){var s=a();return t(function(){try{s.resolve((k(o)?o:i)(n))}catch(t){s.reject(t),e(t)}}),s.promise}}},f=function(r,o,s,l){var f,h=a(),p=function(t){try{return(k(o)?o:n)(t)}catch(r){return e(r),c(r)}},$=function(t){try{return(k(s)?s:i)(t)}catch(n){return e(n),c(n)}},d=function(t){try{return(k(l)?l:n)(t)}catch(r){e(r)}};return t(function(){u(r).then(function(t){f||(f=!0,h.resolve(u(t).then(p,$,d)))},function(t){f||(f=!0,h.resolve($(t)))},function(t){f||h.notify(d(t))})}),h.promise};return{defer:a,reject:c,when:f,all:o}}function En(){this.$get=["$window",function(t){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame,r=function(t){var r=e(t);return function(){n(r)}};return r.supported=!!e,r}]}function An(){var t=10,e=i("$rootScope"),n=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,i,a,u){function c(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function f(t){if(g.$$phase)throw e("inprog","{0} already in progress",g.$$phase);g.$$phase=t}function h(){g.$$phase=null}function p(t,e){var n=a(t);return re(n,e),n}function $(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function v(){}c.prototype={constructor:c,$new:function(t){var e,n;return t?(n=new c,n.$root=this.$root,n.$$asyncQueue=this.$$asyncQueue,n.$$postDigestQueue=this.$$postDigestQueue):(e=function(){},e.prototype=this,n=new e,n.$id=l()),n["this"]=n,n.$$listeners={},n.$$listenerCount={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(t,e,r){var i=this,o=p(t,"watch"),s=i.$$watchers,a={fn:e,last:v,get:o,exp:t,eq:!!r};if(n=null,!k(e)){var u=p(e||d,"listener");a.fn=function(t,e,n){u(n)}}if("string"==typeof t&&o.constant){var c=a.fn;a.fn=function(t,e,n){c.call(this,t,e,n),D(s,a)}}return s||(s=i.$$watchers=[]),s.unshift(a),function(){D(s,a),n=null}},$watchCollection:function(t,e){function n(){s=l(u);var t,e;if(w(s))if(o(s)){i!==f&&(i=f,p=i.length=0,c++),t=s.length,p!==t&&(c++,i.length=p=t);for(var n=0;t>n;n++)i[n]!==s[n]&&(c++,i[n]=s[n])}else{i!==h&&(i=h={},p=0,c++),t=0;for(e in s)s.hasOwnProperty(e)&&(t++,i.hasOwnProperty(e)?i[e]!==s[e]&&(c++,i[e]=s[e]):(p++,i[e]=s[e],c++));if(p>t){c++;for(e in i)i.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&(p--,delete i[e])}}else i!==s&&(i=s,c++);return c}function r(){e(s,i,u)}var i,s,u=this,c=0,l=a(t),f=[],h={},p=0;return this.$watch(n,r)},$digest:function(){var r,o,s,a,u,c,l,p,$,d,g,m=this.$$asyncQueue,y=this.$$postDigestQueue,w=t,x=this,b=[];f("$digest"),n=null;do{for(c=!1,p=x;m.length;){try{g=m.shift(),g.scope.$eval(g.expression)}catch(S){h(),i(S)}n=null}t:do{if(a=p.$$watchers)for(u=a.length;u--;)try{if(r=a[u])if((o=r.get(p))===(s=r.last)||(r.eq?V(o,s):"number"==typeof o&&"number"==typeof s&&isNaN(o)&&isNaN(s))){if(r===n){c=!1;break t}}else c=!0,n=r,r.last=r.eq?R(o):o,r.fn(o,s===v?o:s,p),5>w&&($=4-w,b[$]||(b[$]=[]),d=k(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,d+="; newVal: "+L(o)+"; oldVal: "+L(s),b[$].push(d))}catch(S){h(),i(S)}if(!(l=p.$$childHead||p!==x&&p.$$nextSibling))for(;p!==x&&!(l=p.$$nextSibling);)p=p.$parent}while(p=l);if((c||m.length)&&!w--)throw h(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,L(b))}while(c||m.length);for(h();y.length;)try{y.shift()()}catch(S){i(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==g&&(s(this.$$listenerCount,F(null,$,this)),t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t){g.$$phase||g.$$asyncQueue.length||u.defer(function(){g.$$asyncQueue.length&&g.$digest()}),this.$$asyncQueue.push({scope:this,expression:t})},$$postDigest:function(t){this.$$postDigestQueue.push(t)},$apply:function(t){try{return f("$apply"),this.$eval(t)}catch(e){i(e)}finally{h();try{g.$digest()}catch(e){throw i(e),e}}},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){n[N(n,e)]=null,$(i,1,t)}},$emit:function(t){var e,n,r,o=[],s=this,a=!1,u={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(e=s.$$listeners[t]||o,u.currentScope=s,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,c)}catch(l){i(l)}else e.splice(n,1),n--,r--;if(a)return u;s=s.$parent}while(s);return u},$broadcast:function(t){for(var e,n,r,o=this,s=o,a=o,u={name:t,targetScope:o,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);s=a;){for(u.currentScope=s,e=s.$$listeners[t]||[],n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,c)}catch(l){i(l)}else e.splice(n,1),n--,r--;if(!(a=s.$$listenerCount[t]&&s.$$childHead||s!==o&&s.$$nextSibling))for(;s!==o&&!(a=s.$$nextSibling);)s=s.$parent}return u}};var g=new c;return g}]}function On(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return dr&&!(dr>=8)||(i=qn(n).href,""===i||i.match(o))?n:"unsafe:"+i}}}function Tn(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Mn(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw ai("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Tn(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(E(t))return new RegExp("^"+t.source+"$");throw ai("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function jn(t){var e=[];return y(t)&&s(t,function(t){e.push(Mn(t))}),e}function Pn(){this.SCE_CONTEXTS=ui;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=jn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=jn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Vn(e):!!t.exec(e.href)}function o(n){var r,o,s=qn(n.toString()),a=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],s)){a=!0;break}if(a)for(r=0,o=e.length;o>r;r++)if(i(e[r],s)){a=!1;break}return a}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw ai("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===r||""===e)return e;if("string"!=typeof e)throw ai("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===r||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===ui.RESOURCE_URL){if(o(e))return e;throw ai("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===ui.HTML)return l(e);throw ai("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw ai("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var f=s(),h={};return h[ui.HTML]=s(f),h[ui.CSS]=s(f),h[ui.URL]=s(f),h[ui.JS]=s(f),h[ui.RESOURCE_URL]=s(h[ui.URL]),{trustAs:a,getTrusted:c,valueOf:u}}]}function Nn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sniffer","$sceDelegate",function(e,n,r){if(t&&n.msie&&n.msieDocumentMode<8)throw ai("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=R(ui);i.isEnabled=function(){return t},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=v),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:function(e,n){return i.getTrusted(t,r(e,n))}};var o=i.parseAs,a=i.getTrusted,u=i.trustAs;return s(ui,function(t,e){var n=lr(e);i[le("parse_as_"+n)]=function(e){return o(t,e)},i[le("get_trusted_"+n)]=function(e){return a(t,e)},i[le("trust_as_"+n)]=function(e){return u(t,e)}}),i}]}function Dn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=p((/android (\d+)/.exec(lr((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},u=a.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,l=a.body&&a.body.style,f=!1,h=!1;if(l){for(var $ in l)if(r=c.exec($)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),f=!!("transition"in l||n+"Transition"in l),h=!!("animation"in l||n+"Animation"in l),!o||f&&h||(f=x(a.body.style.webkitTransition),h=x(a.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||s),hashchange:"onhashchange"in t&&(!u||u>7),hasEvent:function(t){if("input"==t&&9==dr)return!1;if(m(i[t])){var e=a.createElement("div");i[t]="on"+t in e}return i[t]},csp:I(),vendorPrefix:n,transitions:f,animations:h,android:o,msie:dr,msieDocumentMode:u}}]}function Rn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(t,e,n,r){function i(i,s,a){var u,c=n.defer(),l=c.promise,f=y(a)&&!a;return u=e.defer(function(){try{c.resolve(i())}catch(e){c.reject(e),r(e)}finally{delete o[l.$$timeoutId]}f||t.$apply()},s),l.$$timeoutId=u,o[u]=c,l}var o={};return i.cancel=function(t){return t&&t.$$timeoutId in o?(o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},i}]}function qn(t){var e=t;return dr&&(ci.setAttribute("href",e),e=ci.href),ci.setAttribute("href",e),{href:ci.href,protocol:ci.protocol?ci.protocol.replace(/:$/,""):"",host:ci.host,search:ci.search?ci.search.replace(/^\?/,""):"",hash:ci.hash?ci.hash.replace(/^#/,""):"",hostname:ci.hostname,port:ci.port,pathname:"/"===ci.pathname.charAt(0)?ci.pathname:"/"+ci.pathname}}function Vn(t){var e=x(t)?qn(t):t;return e.protocol===li.protocol&&e.host===li.host}function In(){this.$get=g(e)}function Un(t){function e(r,i){if(w(r)){var o={};return s(r,function(t,n){o[n]=e(n,t)}),o}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Fn),e("date",Xn),e("filter",_n),e("json",Yn),e("limitTo",Gn),e("lowercase",di),e("number",Hn),e("orderBy",Kn),e("uppercase",vi)}function _n(){return function(t,e,n){if(!C(t))return t;var r=typeof n,i=[];i.check=function(t){for(var e=0;e<i.length;e++)if(!i[e](t))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(t,e){return Cr.equals(t,e)}:function(t,e){if(t&&e&&"object"==typeof t&&"object"==typeof e){for(var r in t)if("$"!==r.charAt(0)&&fr.call(t,r)&&n(t[r],e[r]))return!0;return!1}return e=(""+e).toLowerCase(),(""+t).toLowerCase().indexOf(e)>-1});var o=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!o(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return n(t,e);case"object":switch(typeof e){case"object":return n(t,e);default:for(var r in t)if("$"!==r.charAt(0)&&o(t[r],e))return!0}return!1;case"array":for(var i=0;i<t.length;i++)if(o(t[i],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var s in e)!function(t){"undefined"!=typeof e[t]&&i.push(function(n){return o("$"==t?n:n&&n[t],e[t])})}(s);break;case"function":i.push(e);break;default:return t}for(var a=[],u=0;u<t.length;u++){var c=t[u];i.check(c)&&a.push(c)}return a}}function Fn(t){var e=t.NUMBER_FORMATS;return function(t,n){return m(n)&&(n=e.CURRENCY_SYM),Ln(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Hn(t){var e=t.NUMBER_FORMATS;return function(t,n){return Ln(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Ln(t,e,n,r,i){if(null==t||!isFinite(t)||w(t))return"";var o=0>t;t=Math.abs(t);var s=t+"",a="",u=[],c=!1;if(-1!==s.indexOf("e")){var l=s.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?s="0":(a=s,c=!0)}if(c)i>0&&t>-1&&1>t&&(a=t.toFixed(i));else{var f=(s.split(fi)[1]||"").length;m(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac));var h=Math.pow(10,i);t=Math.round(t*h)/h;var p=(""+t).split(fi),$=p[0];p=p[1]||"";var d,v=0,g=e.lgSize,y=e.gSize;if($.length>=g+y)for(v=$.length-g,d=0;v>d;d++)(v-d)%y===0&&0!==d&&(a+=n),a+=$.charAt(d);
for(d=v;d<$.length;d++)($.length-d)%g===0&&0!==d&&(a+=n),a+=$.charAt(d);for(;p.length<i;)p+="0";i&&"0"!==i&&(a+=r+p.substr(0,i))}return u.push(o?e.negPre:e.posPre),u.push(a),u.push(o?e.negSuf:e.posSuf),u.join("")}function Bn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function zn(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Bn(o,e,r)}}function Wn(t,e){return function(n,r){var i=n["get"+t](),o=hr(e?"SHORT"+t:t);return r[o][i]}}function Qn(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=Bn(Math[e>0?"floor":"ceil"](e/60),2)+Bn(Math.abs(e%60),2)}function Jn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Xn(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,s=e[8]?r.setUTCFullYear:r.setFullYear,a=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),s.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,c=p(e[5]||0)-o,l=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,o,a="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,x(n)&&(n=$i.test(n)?p(n):e(n)),b(n)&&(n=new Date(n)),!S(n))return n;for(;r;)o=pi.exec(r),o?(u=U(u,o,1),r=u.pop()):(u.push(r),r=null);return s(u,function(e){i=hi[e],a+=i?i(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Yn(){return function(t){return L(t,!0)}}function Gn(){return function(t,e){if(!C(t)&&!x(t))return t;if(e=p(e),x(t))return e?e>=0?t.slice(0,e):t.slice(e,t.length):"";var n,r,i=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),e>0?(n=0,r=e):(n=t.length+e,r=t.length);r>n;n++)i.push(t[n]);return i}}function Kn(t){return function(e,n,r){function i(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function o(t,e){return z(e)?function(e,n){return t(n,e)}:t}function s(t,e){var n=typeof t,r=typeof e;return n==r?("string"==n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}if(!C(e))return e;if(!n)return e;n=C(n)?n:[n],n=j(n,function(e){var n=!1,r=e||v;return x(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),r=t(e)),o(function(t,e){return s(r(t),r(e))},n)});for(var a=[],u=0;u<e.length;u++)a.push(e[u]);return a.sort(o(i,r))}}function Zn(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function tr(t,e,n,r){function i(e,n){n=n?"-"+te(n,"-"):"",r.removeClass(t,(e?Ti:Oi)+n),r.addClass(t,(e?Oi:Ti)+n)}var o=this,a=t.parent().controller("form")||yi,u=0,c=o.$error={},l=[];o.$name=e.name||e.ngForm,o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,a.$addControl(o),t.addClass(Mi),i(!0),o.$addControl=function(t){ie(t.$name,"input"),l.push(t),t.$name&&(o[t.$name]=t)},o.$removeControl=function(t){t.$name&&o[t.$name]===t&&delete o[t.$name],s(c,function(e,n){o.$setValidity(n,!0,t)}),D(l,t)},o.$setValidity=function(t,e,n){var r=c[t];if(e)r&&(D(r,n),r.length||(u--,u||(i(e),o.$valid=!0,o.$invalid=!1),c[t]=!1,i(!0,t),a.$setValidity(t,!0,o)));else{if(u||i(e),r){if(P(r,n))return}else c[t]=r=[],u++,i(!1,t),a.$setValidity(t,!1,o);r.push(n),o.$valid=!1,o.$invalid=!0}},o.$setDirty=function(){r.removeClass(t,Mi),r.addClass(t,ji),o.$dirty=!0,o.$pristine=!1,a.$setDirty()},o.$setPristine=function(){r.removeClass(t,ji),r.addClass(t,Mi),o.$dirty=!1,o.$pristine=!0,s(l,function(t){t.$setPristine()})}}function er(t,e,n,i){return t.$setValidity(e,n),n?i:r}function nr(t,e,n){var r=n.prop("validity");if(w(r)){var i=function(n){return t.$error[e]||!(r.badInput||r.customError||r.typeMismatch)||r.valueMissing?n:void t.$setValidity(e,!1)};t.$parsers.push(i),t.$formatters.push(i)}}function rr(t,e,n,r,o,s){var a=e.prop("validity");if(!o.android){var u=!1;e.on("compositionstart",function(){u=!0}),e.on("compositionend",function(){u=!1,c()})}var c=function(){if(!u){var i=e.val();z(n.ngTrim||"T")&&(i=Er(i)),(r.$viewValue!==i||a&&""===i&&!a.valueMissing)&&(t.$$phase?r.$setViewValue(i):t.$apply(function(){r.$setViewValue(i)}))}};if(o.hasEvent("input"))e.on("input",c);else{var l,f=function(){l||(l=s.defer(function(){c(),l=null}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||f()}),o.hasEvent("paste")&&e.on("paste cut",f)}e.on("change",c),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)};var h,$,d=n.ngPattern;if(d){var v=function(t,e){return er(r,"pattern",r.$isEmpty(e)||t.test(e),e)};$=d.match(/^\/(.*)\/([gim]*)$/),$?(d=new RegExp($[1],$[2]),h=function(t){return v(d,t)}):h=function(n){var r=t.$eval(d);if(!r||!r.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",d,r,W(e));return v(r,n)},r.$formatters.push(h),r.$parsers.push(h)}if(n.ngMinlength){var g=p(n.ngMinlength),m=function(t){return er(r,"minlength",r.$isEmpty(t)||t.length>=g,t)};r.$parsers.push(m),r.$formatters.push(m)}if(n.ngMaxlength){var y=p(n.ngMaxlength),w=function(t){return er(r,"maxlength",r.$isEmpty(t)||t.length<=y,t)};r.$parsers.push(w),r.$formatters.push(w)}}function ir(t,e,n,i,o,s){if(rr(t,e,n,i,o,s),i.$parsers.push(function(t){var e=i.$isEmpty(t);return e||ki.test(t)?(i.$setValidity("number",!0),""===t?null:e?t:parseFloat(t)):(i.$setValidity("number",!1),r)}),nr(i,"number",e),i.$formatters.push(function(t){return i.$isEmpty(t)?"":""+t}),n.min){var a=function(t){var e=parseFloat(n.min);return er(i,"min",i.$isEmpty(t)||t>=e,t)};i.$parsers.push(a),i.$formatters.push(a)}if(n.max){var u=function(t){var e=parseFloat(n.max);return er(i,"max",i.$isEmpty(t)||e>=t,t)};i.$parsers.push(u),i.$formatters.push(u)}i.$formatters.push(function(t){return er(i,"number",i.$isEmpty(t)||b(t),t)})}function or(t,e,n,r,i,o){rr(t,e,n,r,i,o);var s=function(t){return er(r,"url",r.$isEmpty(t)||Si.test(t),t)};r.$formatters.push(s),r.$parsers.push(s)}function sr(t,e,n,r,i,o){rr(t,e,n,r,i,o);var s=function(t){return er(r,"email",r.$isEmpty(t)||Ci.test(t),t)};r.$formatters.push(s),r.$parsers.push(s)}function ar(t,e,n,r){m(n.name)&&e.attr("name",l()),e.on("click",function(){e[0].checked&&t.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function ur(t,e,n,r){var i=n.ngTrueValue,o=n.ngFalseValue;x(i)||(i=!0),x(o)||(o=!1),e.on("click",function(){t.$apply(function(){r.$setViewValue(e[0].checked)})}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t!==i},r.$formatters.push(function(t){return t===i}),r.$parsers.push(function(t){return t?i:o})}function cr(t,e){return t="ngClass"+t,function(){return{restrict:"AC",link:function(n,r,i){function o(t){if(e===!0||n.$index%2===e){var r=a(t||"");u?V(t,u)||i.$updateClass(r,a(u)):i.$addClass(r)}u=R(t)}function a(t){if(C(t))return t.join(" ");if(w(t)){var e=[];return s(t,function(t,n){t&&e.push(n)}),e.join(" ")}return t}var u;n.$watch(i[t],o,!0),i.$observe("class",function(){o(n.$eval(i[t]))}),"ngClass"!==t&&n.$watch("$index",function(r,o){var s=1&r;if(s!==o&1){var u=a(n.$eval(i[t]));s===e?i.$addClass(u):i.$removeClass(u)}})}}}}var lr=function(t){return x(t)?t.toLowerCase():t},fr=Object.prototype.hasOwnProperty,hr=function(t){return x(t)?t.toUpperCase():t},pr=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},$r=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(lr=pr,hr=$r);var dr,vr,gr,mr,yr,wr=[].slice,xr=[].push,br=Object.prototype.toString,Sr=i("ng"),Cr=(e.angular,e.angular||(e.angular={})),kr=["0","0","0"];dr=p((/msie (\d+)/.exec(lr(navigator.userAgent))||[])[1]),isNaN(dr)&&(dr=p((/trident\/.*; rv:(\d+)/.exec(lr(navigator.userAgent))||[])[1])),d.$inject=[],v.$inject=[];var Er=function(){return String.prototype.trim?function(t){return x(t)?t.trim():t}:function(t){return x(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t}}();yr=9>dr?function(t){return t=t.nodeName?t:t[0],t.scopeName&&"HTML"!=t.scopeName?hr(t.scopeName+":"+t.nodeName):t.nodeName}:function(t){return t.nodeName?t.nodeName:t[0].nodeName},e.jQuery=e.$=t("common:widget/ui/jquery/jquery.js");var Ar=/[A-Z]/g,Or={full:"1.2.14",major:1,minor:2,dot:14,codeName:"feisty-cryokinesis"},Tr=he.cache={},Mr=he.expando="ng-"+(new Date).getTime(),jr=1,Pr=e.document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},Nr=e.document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)},Dr=(he._data=function(t){return this.cache[t[this.expando]]||{}},/([\:\-\_]+(.))/g),Rr=/^moz([A-Z])/,qr=i("jqLite"),Vr=he.prototype={ready:function(t){function r(){i||(i=!0,t())}var i=!1;"complete"===n.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),he(e).on("load",r))},toString:function(){var t=[];return s(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return vr(t>=0?this[t]:this[this.length+t])},length:0,push:xr,sort:[].sort,splice:[].splice},Ir={};s("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Ir[lr(t)]=t});var Ur={};s("input,select,option,textarea,button,form,details".split(","),function(t){Ur[hr(t)]=!0}),s({data:me,inheritedData:Ce,scope:function(t){return vr(t).data("$scope")||Ce(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return vr(t).data("$isolateScope")||vr(t).data("$isolateScopeNoTemplate")},controller:Se,injector:function(t){return Ce(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:ye,css:function(t,e,n){if(e=le(e),!y(n)){var i;return 8>=dr&&(i=t.currentStyle&&t.currentStyle[e],""===i&&(i="auto")),i=i||t.style[e],8>=dr&&(i=""===i?r:i),i}t.style[e]=n},attr:function(t,e,n){var i=lr(e);if(Ir[i]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||d).specified?i:r;n?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?r:o}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,n){var r=e[t.nodeType];return m(n)?r?t[r]:"":void(t[r]=n)}var e=[];return 9>dr?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",t.$dv="",t}(),val:function(t,e){if(m(e)){if("SELECT"===yr(t)&&t.multiple){var n=[];return s(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(m(e))return t.innerHTML;for(var n=0,r=t.childNodes;n<r.length;n++)$e(r[n]);t.innerHTML=e},empty:ke},function(t,e){he.prototype[e]=function(e,n){var i,o;if(t!==ke&&(2==t.length&&t!==ye&&t!==Se?e:n)===r){if(w(e)){for(i=0;i<this.length;i++)if(t===me)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,a=s===r?Math.min(this.length,1):this.length,u=0;a>u;u++){var c=t(this[u],e,n);s=s?s+c:c}return s}for(i=0;i<this.length;i++)t(this[i],e,n);return this}}),s({removeData:ve,dealoc:$e,on:function $o(t,e,r,i){if(y(i))throw qr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var o=ge(t,"events"),a=ge(t,"handle");o||ge(t,"events",o={}),a||ge(t,"handle",a=Ae(t,o)),s(e.split(" "),function(e){var i=o[e];if(!i){if("mouseenter"==e||"mouseleave"==e){var s=n.body.contains||n.body.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1};o[e]=[];var u={mouseleave:"mouseout",mouseenter:"mouseover"};$o(t,u[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!s(n,r))&&a(t,e)})}else Pr(t,e,a),o[e]=[];i=o[e]}i.push(r)})},off:de,one:function(t,e,n){t=vr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;$e(t),s(new he(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return s(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){s(new he(e),function(e){(1===t.nodeType||11===t.nodeType)&&t.appendChild(e)})},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;s(new he(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=vr(e)[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:function(t){$e(t);var e=t.parentNode;e&&e.removeChild(t)},after:function(t,e){var n=t,r=t.parentNode;s(new he(e),function(t){r.insertBefore(t,n.nextSibling),n=t})},addClass:xe,removeClass:we,toggleClass:function(t,e,n){e&&s(e.split(" "),function(e){var r=n;m(r)&&(r=!ye(t,e)),(r?xe:we)(t,e)})},parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},next:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(var e=t.nextSibling;null!=e&&1!==e.nodeType;)e=e.nextSibling;return e},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:pe,triggerHandler:function(t,e,n){var r=(ge(t,"events")||{})[e];n=n||[];var i=[{preventDefault:d,stopPropagation:d}];s(r,function(e){e.apply(t,i.concat(n))})}},function(t,e){he.prototype[e]=function(e,n,r){for(var i,o=0;o<this.length;o++)m(i)?(i=t(this[o],e,n,r),y(i)&&(i=vr(i))):be(i,t(this[o],e,n,r));return y(i)?i:this},he.prototype.bind=he.prototype.on,he.prototype.unbind=he.prototype.off}),Te.prototype={put:function(t,e){this[Oe(t)]=e},get:function(t){return this[Oe(t)]},remove:function(t){var e=this[t=Oe(t)];return delete this[t],e}};var _r=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Fr=/,/,Hr=/^\s*(_?)(\S+?)\1\s*$/,Lr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Br=i("$injector"),zr=i("$animate"),Wr=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw zr("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(t,e){function n(t){t&&e(t)}return{enter:function(t,e,r,i){r?r.after(t):(e&&e[0]||(e=r.parent()),e.append(t)),n(i)},leave:function(t,e){t.remove(),n(e)},move:function(t,e,n,r){this.enter(t,e,n,r)},addClass:function(t,e,r){e=x(e)?e:C(e)?e.join(" "):"",s(t,function(t){xe(t,e)}),n(r)},removeClass:function(t,e,r){e=x(e)?e:C(e)?e.join(" "):"",s(t,function(t){we(t,e)}),n(r)},setClass:function(t,e,r,i){s(t,function(t){xe(t,e),we(t,r)}),n(i)},enabled:d}}]}],Qr=i("$compile");Ie.$inject=["$provide","$$sanitizeUriProvider"];var Jr=/^(x[\:\-_]|data[\:\-_])/i,Xr=i("$interpolate"),Yr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Gr={http:80,https:443,ftp:21},Kr=i("$location");fn.prototype=ln.prototype=cn.prototype={$$html5:!1,$$replace:!1,absUrl:hn("$$absUrl"),url:function(t,e){if(m(t))return this.$$url;var n=Yr.exec(t);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",e),this},protocol:hn("$$protocol"),host:hn("$$host"),port:hn("$$port"),path:pn("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t))this.$$search=J(t);else{if(!w(t))throw Kr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:pn("$$hash",v),replace:function(){return this.$$replace=!0,this}};var Zr,ti=i("$parse"),ei={},ni={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:d,"+":function(t,e,n,i){return n=n(t,e),i=i(t,e),y(n)?y(i)?n+i:n:y(i)?i:r},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(y(n)?n:0)-(y(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"^":function(t,e,n,r){return n(t,e)^r(t,e)},"=":d,"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"&":function(t,e,n,r){return n(t,e)&r(t,e)},"|":function(t,e,n,r){return r(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}},ri={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ii=function(t){this.options=t};ii.prototype={constructor:ii,lex:function(t){this.text=t,this.index=0,this.ch=r,this.lastCh=":",this.tokens=[];for(var e,n=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===n[0]&&(e=this.tokens[this.tokens.length-1])&&(e.json=-1===e.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&n.unshift(this.ch),this.is("}]")&&n.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var i=this.ch+this.peek(),o=i+this.peek(2),s=ni[this.ch],a=ni[i],u=ni[o];u?(this.tokens.push({index:this.index,text:o,fn:u}),this.index+=3):a?(this.tokens.push({index:this.index,text:i,fn:a}),this.index+=2):s?(this.tokens.push({index:this.index,text:this.ch,fn:s,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},was:function(t){return-1!==t.indexOf(this.lastCh)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ti("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=lr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t=1*t,this.tokens.push({index:e,text:t,json:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,n,r,i=this,o="",s=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(t=this.index),o+=r,this.index++;if(t)for(e=this.index;e<this.text.length;){if(r=this.text.charAt(e),"("===r){n=o.substr(t-s+1),o=o.substr(0,t-s),this.index=e;break}if(!this.isWhitespace(r))break;e++}var a={index:s,text:o};if(ni.hasOwnProperty(o))a.fn=ni[o],a.json=ni[o];else{var u=bn(o,this.options,this.text);a.fn=h(function(t,e){return u(t,e)},{assign:function(t,e){return mn(t,o,e,i.text,i.options)}})}this.tokens.push(a),n&&(this.tokens.push({index:t,text:".",json:!1}),this.tokens.push({index:t+1,text:n,json:!1}))},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=ri[o];n+=a?a:o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,string:n,json:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var oi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};oi.ZERO=function(){return 0},oi.prototype={constructor:oi,parse:function(t,e){this.text=t,this.json=e,this.tokens=this.lexer.lex(t),e&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:t,index:0})});var n=e?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var t;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var e=this.expect();t=e.fn,t||this.throwError("not a primary expression",e),e.json&&(t.constant=!0,t.literal=!0)}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(t=this.functionCall(t,r),r=null):"["===n.text?(r=t,t=this.objectIndex(t)):"."===n.text?(r=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw ti("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw ti("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){if(this.tokens.length>0){var i=this.tokens[0],o=i.text;if(o===t||o===e||o===n||o===r||!t&&!e&&!n&&!r)return i}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.json&&!i.json&&this.throwError("is not valid json",i),this.tokens.shift(),i):!1},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,e){return h(function(n,r){return t(n,r,e)},{constant:e.constant})},ternaryFn:function(t,e,n){return h(function(r,i){return t(r,i)?e(r,i):n(r,i)},{constant:t.constant&&e.constant&&n.constant})},binaryFn:function(t,e,n){return h(function(r,i){return e(r,i,t,n)},{constant:t.constant&&n.constant})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0;i<t.length;i++){var o=t[i];o&&(r=o(e,n))}return r}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var t=this.expect(),e=this.$filter(t.text),n=[];;){if(!(t=this.expect(":"))){var r=function(t,r,i){for(var o=[i],s=0;s<n.length;s++)o.push(n[s](t,r));return e.apply(t,o)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),function(e,r){return n.assign(e,t(e,r),r)}):n},ternary:function(){var t,e,n=this.logicalOR();return(e=this.expect("?"))?(t=this.ternary(),(e=this.expect(":"))?this.ternaryFn(n,t,this.ternary()):void this.throwError("expected :",e)):n},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(oi.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var e=this,n=this.expect().text,r=bn(n,this.options,this.text);return h(function(e,n,i){return r(i||t(e,n))},{assign:function(r,i,o){return mn(t(r,o),n,i,e.text,e.options)}})},objectIndex:function(t){var e=this,n=this.expression();return this.consume("]"),h(function(i,o){var s,a,u=t(i,o),c=n(i,o);return u?(s=gn(u[c],e.text),s&&s.then&&e.options.unwrapPromises&&(a=s,"$$v"in s||(a.$$v=r,a.then(function(t){a.$$v=t})),s=s.$$v),s):r},{assign:function(r,i,o){var s=n(r,o),a=gn(t(r,o),e.text);return a[s]=i}})},functionCall:function(t,e){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,o){for(var s=[],a=e?e(i,o):i,u=0;u<n.length;u++)s.push(n[u](i,o));var c=t(i,o,a)||d;gn(a,r.text),gn(c,r.text);var l=c.apply?c.apply(a,s):c(s[0],s[1],s[2],s[3],s[4]);return gn(l,r.text)}},arrayDeclaration:function(){var t=[],e=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();t.push(n),n.constant||(e=!1)}while(this.expect(","));return this.consume("]"),h(function(e,n){for(var r=[],i=0;i<t.length;i++)r.push(t[i](e,n));return r},{literal:!0,constant:e})},object:function(){var t=[],e=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();t.push({key:r,value:i}),i.constant||(e=!1)}while(this.expect(","));return this.consume("}"),h(function(e,n){for(var r={},i=0;i<t.length;i++){var o=t[i];r[o.key]=o.value(e,n)}return r},{literal:!0,constant:e})}};var si={},ai=i("$sce"),ui={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ci=n.createElement("a"),li=qn(e.location.href,!0);Un.$inject=["$provide"],Fn.$inject=["$locale"],Hn.$inject=["$locale"];var fi=".",hi={yyyy:zn("FullYear",4),yy:zn("FullYear",2,0,!0),y:zn("FullYear",1),MMMM:Wn("Month"),MMM:Wn("Month",!0),MM:zn("Month",2,1),M:zn("Month",1,1),dd:zn("Date",2),d:zn("Date",1),HH:zn("Hours",2),H:zn("Hours",1),hh:zn("Hours",2,-12),h:zn("Hours",1,-12),mm:zn("Minutes",2),m:zn("Minutes",1),ss:zn("Seconds",2),s:zn("Seconds",1),sss:zn("Milliseconds",3),EEEE:Wn("Day"),EEE:Wn("Day",!0),a:Jn,Z:Qn},pi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,$i=/^\-?\d+$/;Xn.$inject=["$locale"];var di=g(lr),vi=g(hr);Kn.$inject=["$parse"];var gi=g({restrict:"E",compile:function(t,e){return 8>=dr&&(e.href||e.name||e.$set("href",""),t.append(n.createComment("IE fix"))),e.href||e.xlinkHref||e.name?void 0:function(t,e){var n="[object SVGAnimatedString]"===br.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),mi={};s(Ir,function(t,e){if("multiple"!=t){var n=Ue("ng-"+e);mi[n]=function(){return{priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),s(["src","srcset","href"],function(t){var e=Ue("ng-"+t);mi[e]=function(){return{priority:99,link:function(n,r,i){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===br.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(e,function(t){t&&(i.$set(s,t),dr&&o&&r.prop(o,i[s]))})}}}});var yi={$addControl:d,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d};tr.$inject=["$element","$attrs","$scope","$animate"];var wi=function(t){return["$timeout",function(e){var n={name:"form",restrict:t?"EAC":"E",controller:tr,compile:function(){return{pre:function(t,n,i,o){if(!i.action){var s=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1};Pr(n[0],"submit",s),n.on("$destroy",function(){e(function(){Nr(n[0],"submit",s)},0,!1)})}var a=n.parent().controller("form"),u=i.name||i.ngForm;u&&mn(t,u,o,u),a&&n.on("$destroy",function(){a.$removeControl(o),u&&mn(t,u,r,u),h(o,yi)})}}}};return n}]},xi=wi(),bi=wi(!0),Si=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ci=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,ki=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ei={text:rr,number:ir,url:or,email:sr,radio:ar,checkbox:ur,hidden:d,button:d,submit:d,reset:d,file:d},Ai=["$browser","$sniffer",function(t,e){return{restrict:"E",require:"?ngModel",link:function(n,r,i,o){o&&(Ei[lr(i.type)]||Ei.text)(n,r,i,o,e,t)}}}],Oi="ng-valid",Ti="ng-invalid",Mi="ng-pristine",ji="ng-dirty",Pi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(t,e,n,r,o,a){function u(t,e){e=e?"-"+te(e,"-"):"",a.removeClass(r,(t?Ti:Oi)+e),a.addClass(r,(t?Oi:Ti)+e)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=o(n.ngModel),l=c.assign;if(!l)throw i("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,W(r));this.$render=d,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var f=r.inheritedData("$formController")||yi,h=0,p=this.$error={};r.addClass(Mi),u(!0),this.$setValidity=function(t,e){p[t]!==!e&&(e?(p[t]&&h--,h||(u(!0),this.$valid=!0,this.$invalid=!1)):(u(!1),this.$invalid=!0,this.$valid=!1,h++),p[t]=!e,u(e,t),f.$setValidity(t,e,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,a.removeClass(r,ji),a.addClass(r,Mi)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,a.removeClass(r,Mi),a.addClass(r,ji),f.$setDirty()),s(this.$parsers,function(t){n=t(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(t,n),s(this.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}}))};var $=this;t.$watch(function(){var e=c(t);if($.$modelValue!==e){var n=$.$formatters,r=n.length;for($.$modelValue=e;r--;)e=n[r](e);$.$viewValue!==e&&($.$viewValue=e,$.$render())}return e})}],Ni=function(){return{require:["ngModel","^?form"],controller:Pi,link:function(t,e,n,r){var i=r[0],o=r[1]||yi;o.$addControl(i),t.$on("$destroy",function(){o.$removeControl(i)})}}},Di=g({require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Ri=function(){return{require:"?ngModel",link:function(t,e,n,r){if(r){n.required=!0;var i=function(t){return n.required&&r.$isEmpty(t)?void r.$setValidity("required",!1):(r.$setValidity("required",!0),t)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},qi=function(){return{require:"ngModel",link:function(t,e,n,i){var o=/\/(.*)\//.exec(n.ngList),a=o&&new RegExp(o[1])||n.ngList||",",u=function(t){if(!m(t)){var e=[];return t&&s(t.split(a),function(t){t&&e.push(Er(t))}),e}};i.$parsers.push(u),i.$formatters.push(function(t){return C(t)?t.join(", "):r}),i.$isEmpty=function(t){return!t||!t.length}}}},Vi=/^(true|false|\d+)$/,Ii=function(){return{priority:100,compile:function(t,e){return Vi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ui=Zn(function(t,e,n){e.addClass("ng-binding").data("$binding",n.ngBind),t.$watch(n.ngBind,function(t){e.text(t==r?"":t)})}),_i=["$interpolate",function(t){return function(e,n,r){var i=t(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(t){n.text(t)})}}],Fi=["$sce","$parse",function(t,e){return function(n,r,i){function o(){return(s(n)||"").toString()
}r.addClass("ng-binding").data("$binding",i.ngBindHtml);var s=e(i.ngBindHtml);n.$watch(o,function(){r.html(t.getTrustedHtml(s(n))||"")})}}],Hi=cr("",!0),Li=cr("Odd",0),Bi=cr("Even",1),zi=Zn({compile:function(t,e){e.$set("ngCloak",r),t.removeClass("ng-cloak")}}),Wi=[function(){return{scope:!0,controller:"@",priority:500}}],Qi={};s("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ue("ng-"+t);Qi[e]=["$parse",function(n){return{compile:function(r,i){var o=n(i[e]);return function(e,n){n.on(lr(t),function(t){e.$apply(function(){o(e,{$event:t})})})}}}}]});var Ji=["$animate",function(t){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,r,i,o,s){var a,u,c;e.$watch(i.ngIf,function(o){z(o)?u||(u=e.$new(),s(u,function(e){e[e.length++]=n.createComment(" end ngIf: "+i.ngIf+" "),a={clone:e},t.enter(e,r.parent(),r)})):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),a&&(c=se(a.clone),t.leave(c,function(){c=null}),a=null))})}}}],Xi=["$http","$templateCache","$anchorScroll","$animate","$sce",function(t,e,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Cr.noop,compile:function(o,s){var a=s.ngInclude||s.src,u=s.onload||"",c=s.autoscroll;return function(o,s,l,f,h){var p,$,d,v=0,g=function(){$&&($.remove(),$=null),p&&(p.$destroy(),p=null),d&&(r.leave(d,function(){$=null}),$=d,d=null)};o.$watch(i.parseAsResourceUrl(a),function(i){var a=function(){!y(c)||c&&!o.$eval(c)||n()},l=++v;i?(t.get(i,{cache:e}).success(function(t){if(l===v){var e=o.$new();f.template=t;var n=h(e,function(t){g(),r.enter(t,null,s,a)});p=e,d=n,p.$emit("$includeContentLoaded"),o.$eval(u)}}).error(function(){l===v&&g()}),o.$emit("$includeContentRequested")):(g(),f.template=null)})}}}}],Yi=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,n,r,i){n.html(i.template),t(n.contents())(e)}}}],Gi=Zn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ki=Zn({terminal:!0,priority:1e3}),Zi=["$locale","$interpolate",function(t,e){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var a=o.count,u=o.$attr.when&&i.attr(o.$attr.when),c=o.offset||0,l=r.$eval(u)||{},f={},h=e.startSymbol(),p=e.endSymbol(),$=/^when(Minus)?(.+)$/;s(o,function(t,e){$.test(e)&&(l[lr(e.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[e]))}),s(l,function(t,r){f[r]=e(t.replace(n,h+a+"-"+c+p))}),r.$watch(function(){var e=parseFloat(r.$eval(a));return isNaN(e)?"":(e in l||(e=t.pluralCat(e-c)),f[e](r,i,!0))},function(t){i.text(t)})}}}],to=["$parse","$animate",function(t,e){function r(t){return t.clone[0]}function a(t){return t.clone[t.clone.length-1]}var u="$$NG_REMOVED",c=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,l,f,h,p){var $,d,v,g,m,y,w,x,b,S=f.ngRepeat,C=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),k={$id:Oe};if(!C)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",S);if(y=C[1],w=C[2],$=C[3],$?(d=t($),v=function(t,e,n){return b&&(k[b]=t),k[x]=e,k.$index=n,d(i,k)}):(g=function(t,e){return Oe(e)},m=function(t){return t}),C=y.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!C)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",y);x=C[3]||C[1],b=C[2];var E={};i.$watchCollection(w,function(t){var f,h,$,d,y,w,C,k,A,O,T,M,j=l[0],P={},N=[];if(o(t))O=t,A=v||g;else{A=v||m,O=[];for(w in t)t.hasOwnProperty(w)&&"$"!=w.charAt(0)&&O.push(w);O.sort()}for(d=O.length,h=N.length=O.length,f=0;h>f;f++)if(w=t===O?f:O[f],C=t[w],k=A(w,C,f),ie(k,"`track by` id"),E.hasOwnProperty(k))T=E[k],delete E[k],P[k]=T,N[f]=T;else{if(P.hasOwnProperty(k))throw s(N,function(t){t&&t.scope&&(E[t.id]=t)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",S,k);N[f]={id:k},P[k]=!1}for(w in E)E.hasOwnProperty(w)&&(T=E[w],M=se(T.clone),e.leave(M),s(M,function(t){t[u]=!0}),T.scope.$destroy());for(f=0,h=O.length;h>f;f++){if(w=t===O?f:O[f],C=t[w],T=N[f],N[f-1]&&(j=a(N[f-1])),T.scope){y=T.scope,$=j;do $=$.nextSibling;while($&&$[u]);r(T)!=$&&e.move(se(T.clone),null,vr(j)),j=a(T)}else y=i.$new();y[x]=C,b&&(y[b]=w),y.$index=f,y.$first=0===f,y.$last=f===d-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0===(1&f)),T.scope||p(y,function(t){t[t.length++]=n.createComment(" end ngRepeat: "+S+" "),e.enter(t,null,vr(j)),j=t,T.scope=y,T.clone=t,P[T.id]=T})}E=P})}}}],eo=["$animate",function(t){return function(e,n,r){e.$watch(r.ngShow,function(e){t[z(e)?"removeClass":"addClass"](n,"ng-hide")})}}],no=["$animate",function(t){return function(e,n,r){e.$watch(r.ngHide,function(e){t[z(e)?"addClass":"removeClass"](n,"ng-hide")})}}],ro=Zn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&s(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),io=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,n,r,i){var o,a,u,c=r.ngSwitch||r.on,l=[];e.$watch(c,function(n){var c,f=l.length;if(f>0){if(u){for(c=0;f>c;c++)u[c].remove();u=null}for(u=[],c=0;f>c;c++){var h=a[c];l[c].$destroy(),u[c]=h,t.leave(h,function(){u.splice(c,1),0===u.length&&(u=null)})}}a=[],l=[],(o=i.cases["!"+n]||i.cases["?"])&&(e.$eval(r.change),s(o,function(n){var r=e.$new();l.push(r),n.transclude(r,function(e){var r=n.element;a.push(e),t.enter(e,r.parent(),r)})}))})}}}],oo=Zn({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),so=Zn({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ao=Zn({link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",W(e));o(function(t){e.empty(),e.append(t)})}}),uo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],co=i("ngOptions"),lo=g({terminal:!0}),fo=["$compile","$parse",function(t,e){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,o={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,s=this,a={},u=o;s.databound=n.ngModel,s.init=function(t,e,n){u=t,r=e,i=n},s.addOption=function(e){ie(e,'"option value"'),a[e]=!0,u.$viewValue==e&&(t.val(e),i.parent()&&i.remove())},s.removeOption=function(t){this.hasOption(t)&&(delete a[t],u.$viewValue==t&&this.renderUnknownOption(t))},s.renderUnknownOption=function(e){var n="? "+Oe(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},s.hasOption=function(t){return a.hasOwnProperty(t)},e.$on("$destroy",function(){s.renderUnknownOption=d})}],link:function(o,u,c,l){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(k.parent()&&k.remove(),e.val(t),""===t&&$.prop("selected",!0)):m(t)&&$?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var r;n.$render=function(){var t=new Te(n.$viewValue);s(e.find("option"),function(e){e.selected=y(t.get(e.value))})},t.$watch(function(){V(r,n.$viewValue)||(r=R(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];s(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function p(n,o,s){function u(){var t,e,r,i,u,c,v,w,E,A,O,T,M,j,P,N={"":[]},D=[""],R=s.$modelValue,q=d(n)||[],V=h?a(q):q,I={},U=!1;if(g)if(m&&C(R)){U=new Te([]);for(var _=0;_<R.length;_++)I[f]=R[_],U.put(m(n,I),R[_])}else U=new Te(R);for(O=0;E=V.length,E>O;O++){if(v=O,h){if(v=V[O],"$"===v.charAt(0))continue;I[h]=v}if(I[f]=q[v],t=p(n,I)||"",(e=N[t])||(e=N[t]=[],D.push(t)),g)T=y(U.remove(m?m(n,I):$(n,I)));else{if(m){var F={};F[f]=R,T=m(n,F)===m(n,I)}else T=R===$(n,I);U=U||T}P=l(n,I),P=y(P)?P:"",e.push({id:m?m(n,I):h?V[O]:O,label:P,selected:T})}for(g||(x||null===R?N[""].unshift({id:"",label:"",selected:!U}):U||N[""].unshift({id:"?",label:"",selected:!0})),A=0,w=D.length;w>A;A++){for(t=D[A],e=N[t],k.length<=A?(i={element:S.clone().attr("label",t),label:e.label},u=[i],k.push(u),o.append(i.element)):(u=k[A],i=u[0],i.label!=t&&i.element.attr("label",i.label=t)),M=null,O=0,E=e.length;E>O;O++)r=e[O],(c=u[O+1])?(M=c.element,c.label!==r.label&&M.text(c.label=r.label),c.id!==r.id&&M.val(c.id=r.id),M[0].selected!==r.selected&&M.prop("selected",c.selected=r.selected)):(""===r.id&&x?j=x:(j=b.clone()).val(r.id).attr("selected",r.selected).text(r.label),u.push(c={element:j,label:r.label,id:r.id,selected:r.selected}),M?M.after(j):i.element.append(j),M=j);for(O++;u.length>O;)u.pop().element.remove()}for(;k.length>A;)k.pop()[0].element.remove()}var c;if(!(c=w.match(i)))throw co("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",w,W(o));var l=e(c[2]||c[1]),f=c[4]||c[6],h=c[5],p=e(c[3]||""),$=e(c[2]?c[1]:f),d=e(c[7]),v=c[8],m=v?e(c[8]):null,k=[[{element:o,label:""}]];x&&(t(x)(n),x.removeClass("ng-scope"),x.remove()),o.empty(),o.on("change",function(){n.$apply(function(){var t,e,i,a,u,c,l,p,v,y=d(n)||[],w={};if(g){for(i=[],c=0,p=k.length;p>c;c++)for(t=k[c],u=1,l=t.length;l>u;u++)if((a=t[u].element)[0].selected){if(e=a.val(),h&&(w[h]=e),m)for(v=0;v<y.length&&(w[f]=y[v],m(n,w)!=e);v++);else w[f]=y[e];i.push($(n,w))}}else if(e=o.val(),"?"==e)i=r;else if(""===e)i=null;else if(m){for(v=0;v<y.length;v++)if(w[f]=y[v],m(n,w)==e){i=$(n,w);break}}else w[f]=y[e],h&&(w[h]=e),i=$(n,w);s.$setViewValue(i)})}),s.$render=u,n.$watch(u)}if(l[1]){for(var $,d=l[0],v=l[1],g=c.multiple,w=c.ngOptions,x=!1,b=vr(n.createElement("option")),S=vr(n.createElement("optgroup")),k=b.clone(),E=0,A=u.children(),O=A.length;O>E;E++)if(""===A[E].value){$=x=A.eq(E);break}d.init(v,x,k),g&&(v.$isEmpty=function(t){return!t||0===t.length}),w?p(o,u,v):g?h(o,u,v):f(o,u,v,d)}}}}],ho=["$interpolate",function(t){var e={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,r){if(m(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",s=n.parent(),a=s.data(o)||s.parent().data(o);a&&a.databound?n.prop("selected",!1):a=e,i?t.$watch(i,function(t,e){r.$set("value",t),t!==e&&a.removeOption(e),a.addOption(t)}):a.addOption(r.value),n.on("$destroy",function(){a.removeOption(r.value)})}}}}],po=g({restrict:"E",terminal:!0});ee(),ue(Cr),vr(n).ready(function(){K(n,Z)})}(window,document),window.jQuery=window.$=null,!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>')});
;define("common:widget/ui/angular-1.2.14/angular-route.js",function(){!function(e,r){"use strict";function t(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,i,c,l){function u(){p&&(p.$destroy(),p=null),$&&(n.leave($),$=null)}function s(){var i=e.current&&e.current.locals;if(i&&i.$template){var i=a.$new(),c=e.current;$=l(i,function(e){n.enter(e,null,$||o,function(){!r.isDefined(h)||h&&!a.$eval(h)||t()}),u()}),p=c.scope=i,p.$emit("$viewContentLoaded"),p.$eval(f)}else u()}var p,$,h=i.autoscroll,f=i.onload||"";a.$on("$routeChangeSuccess",s),s()}}}function n(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var o=t.current,i=o.locals;a.html(i.$template);var c=e(a.contents());o.controller&&(i.$scope=n,i=r(o.controller,i),o.controllerAs&&(n[o.controllerAs]=i),a.data("$ngControllerController",i),a.children().data("$ngControllerController",i)),c(n)}}}e=r.module("ngRoute",["ng"]).provider("$route",function(){function e(e,t){return r.extend(new(r.extend(function(){},{prototype:e})),t)}function t(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(e,r,t,n){return e="?"===n?n:null,n="*"===n?n:null,a.push({name:t,optional:!!e}),r=r||"",""+(e?"":r)+"(?:"+(e?r:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=RegExp("^"+e+"$",t?"i":""),n}var n={};this.when=function(e,a){if(n[e]=r.extend({reloadOnSearch:!0},a,e&&t(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[o]=r.extend({redirectTo:e},t(o,a))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(t,a,o,i,c,l,u,s){function p(){var e=$(),n=d.current;e&&n&&e.$$route===n.$$route&&r.equals(e.pathParams,n.pathParams)&&!e.reloadOnSearch&&!f?(n.params=e.params,r.copy(n.params,o),t.$broadcast("$routeUpdate",n)):(e||n)&&(f=!1,t.$broadcast("$routeChangeStart",e,n),(d.current=e)&&e.redirectTo&&(r.isString(e.redirectTo)?a.path(h(e.redirectTo,e.params)).search(e.params).replace():a.url(e.redirectTo(e.pathParams,a.path(),a.search())).replace()),i.when(e).then(function(){if(e){var t,n,a=r.extend({},e.resolve);return r.forEach(a,function(e,t){a[t]=r.isString(e)?c.get(e):c.invoke(e)}),r.isDefined(t=e.template)?r.isFunction(t)&&(t=t(e.params)):r.isDefined(n=e.templateUrl)&&(r.isFunction(n)&&(n=n(e.params)),n=s.getTrustedResourceUrl(n),r.isDefined(n)&&(e.loadedTemplateUrl=n,t=l.get(n,{cache:u}).then(function(e){return e.data}))),r.isDefined(t)&&(a.$template=t),i.all(a)}}).then(function(a){e==d.current&&(e&&(e.locals=a,r.copy(e.params,o)),t.$broadcast("$routeChangeSuccess",e,n))},function(r){e==d.current&&t.$broadcast("$routeChangeError",e,n,r)}))}function $(){var t,o;return r.forEach(n,function(n){var i;if(i=!o){var c=a.path();i=n.keys;var l={};if(n.regexp)if(c=n.regexp.exec(c)){for(var u=1,s=c.length;s>u;++u){var p=i[u-1],$="string"==typeof c[u]?decodeURIComponent(c[u]):c[u];p&&$&&(l[p.name]=$)}i=l}else i=null;else i=null;i=t=i}i&&(o=e(n,{params:r.extend({},a.search(),t),pathParams:t}),o.$$route=n)}),o||n[null]&&e(n[null],{params:{},pathParams:{}})}function h(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(.*)/),o=a[1];n.push(t[o]),n.push(a[2]||""),delete t[o]}}),n.join("")}var f=!1,d={routes:n,reload:function(){f=!0,t.$evalAsync(p)}};return t.$on("$locationChangeSuccess",p),d}]}),e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",t),e.directive("ngView",n),t.$inject=["$route","$anchorScroll","$animate"],n.$inject=["$compile","$controller","$route"]}(window,window.angular)});
;define("common:widget/ui/angular-1.2.14/angular-sanitize.js",function(){!function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],r=c(n,t.noop);return r.chars(e),n.join("")}function a(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function s(e,n){function r(e,r,s,o){if(r=t.lowercase(r),k[r])for(;w.last()&&y[w.last()];)a("",w.last());z[r]&&w.last()==r&&a("",r),o=v[r]||!!o,o||w.push(r);var c={};s.replace(p,function(e,t,n,r,a){var s=n||r||a||"";c[t]=i(s)}),n.start&&n.start(r,c,o)}function a(e,r){var a,s=0;if(r=t.lowercase(r))for(s=w.length-1;s>=0&&w[s]!=r;s--);if(s>=0){for(a=w.length-1;a>=s;a--)n.end&&n.end(w[a]);w.length=s}}var s,o,c,w=[],x=e;for(w.last=function(){return w[w.length-1]};e;){if(o=!0,w.last()&&C[w.last()])e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),function(e,t){return t=t.replace(d,"$1").replace(b,"$1"),n.chars&&n.chars(i(t)),""}),a("",w.last());else if(0===e.indexOf("<!--")?(s=e.indexOf("--",4),s>=0&&e.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),o=!1)):m.test(e)?(c=e.match(m),c&&(e=e.replace(c[0],""),o=!1)):g.test(e)?(c=e.match(f),c&&(e=e.substring(c[0].length),c[0].replace(f,a),o=!1)):h.test(e)&&(c=e.match(u),c&&(e=e.substring(c[0].length),c[0].replace(u,r),o=!1)),o){s=e.indexOf("<");var $=0>s?e:e.substring(0,s);e=0>s?"":e.substring(s),n.chars&&n.chars(i($))}if(e==x)throw l("badparse","The sanitizer was unable to parse the following block of html: {0}",e);x=e}a()}function i(e){if(!e)return"";var t=A.exec(e),n=t[1],r=t[3],a=t[2];return a&&(j.innerHTML=a.replace(/</g,"&lt;"),a="textContent"in j?j.textContent:j.innerText),n+a+r}function o(e){return e.replace(/&/g,"&amp;").replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var r=!1,a=t.bind(e,e.push);return{start:function(e,s,i){e=t.lowercase(e),!r&&C[e]&&(r=e),r||E[e]!==!0||(a("<"),a(e),t.forEach(s,function(r,s){var i=t.lowercase(s),c="img"===e&&"src"===i||"background"===i;T[i]!==!0||O[i]===!0&&!n(r,c)||(a(" "),a(s),a('="'),a(o(r)),a('"'))}),a(i?"/>":">"))},end:function(e){e=t.lowercase(e),r||E[e]!==!0||(a("</"),a(e),a(">")),e==r&&(r=!1)},chars:function(e){r||a(o(e))}}}var l=t.$$minErr("$sanitize"),u=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,f=/^<\s*\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,g=/^<\s*\//,d=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,w=/([^\#-~| |!])/g,v=a("area,br,col,hr,img,wbr"),x=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=a("rp,rt"),z=t.extend({},$,x),k=t.extend({},x,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=t.extend({},$,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=a("script,style"),E=t.extend({},v,k,y,z),O=a("background,cite,href,longdesc,src,usemap"),T=t.extend({},O,a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),j=document.createElement("pre"),A=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,a=/^mailto:/;return function(s,i){function o(e){e&&h.push(r(e))}function c(e,n){h.push("<a "),t.isDefined(i)&&(h.push('target="'),h.push(i),h.push('" ')),h.push('href="'),h.push(e),h.push('">'),o(n),h.push("</a>")}if(!s)return s;for(var l,u,f,p=s,h=[];l=p.match(n);)u=l[0],l[2]==l[3]&&(u="mailto:"+u),f=l.index,o(p.substr(0,f)),c(u,l[0].replace(a,"")),p=p.substring(f+l[0].length);return o(p),e(h.join(""))}}])}(window,window.angular)});
;define("common:widget/ui/angular-1.2.14/angular-1.2.14.js",function(a,n,u){a("common:widget/ui/angular-1.2.14/angular-source.js"),a("common:widget/ui/angular-1.2.14/angular-route.js"),a("common:widget/ui/angular-1.2.14/angular-sanitize.js"),u.exports=window.angular});
;define("common:widget/ui/angular-1.2.14/angular-animate.js",function(){!function(n,t,a){"use strict";t.module("ngAnimate",["ng"]).factory("$$animateReflow",["$$rAF","$document",function(n,t){var a=t[0].body;return function(t){return n(function(){a.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(e,i){function r(n){for(var t=0;t<n.length;t++){var a=n[t];if(a.nodeType==c)return a}}function o(n){return t.element(r(n))}function s(n,t){return r(n)==r(t)}var u=t.noop,l=t.forEach,f=i.$$selectors,c=1,v="$$ngAnimateState",d="ng-animate",m={running:!0};e.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(n,a,e,c,g,p){function C(n){if(n){var t=[],i={},r=n.substr(1).split(".");(e.transitions||e.animations)&&t.push(a.get(f[""]));for(var o=0;o<r.length;o++){var s=r[o],u=f[s];u&&!i[s]&&(t.push(a.get(u)),i[s]=!0)}return t}}function y(n,a,e){function i(n,t){var a=n[t],e=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];return a||e?("leave"==t&&(e=a,a=null),$.push({event:t,fn:a}),y.push({event:t,fn:e}),!0):void 0}function r(t,a,i){function r(n){if(a){if((a[n]||u)(),++c<o.length)return;a=null}i()}var o=[];l(t,function(n){n.fn&&o.push(n)});var c=0;l(o,function(t,i){var o=function(){r(i)};switch(t.event){case"setClass":a.push(t.fn(n,s,f,o));break;case"addClass":a.push(t.fn(n,s||e,o));break;case"removeClass":a.push(t.fn(n,f||e,o));break;default:a.push(t.fn(n,o))}}),a&&0===a.length&&i()}var o=n[0];if(o){var s,f,c="setClass"==a,v=c||"addClass"==a||"removeClass"==a;t.isArray(e)&&(s=e[0],f=e[1],e=s+" "+f);var d=n.attr("class"),m=d+" "+e;if(S(m)){var g=u,p=[],y=[],h=u,b=[],$=[],D=(" "+m).replace(/\s+/g,".");return l(C(D),function(n){var t=i(n,a);!t&&c&&(i(n,"addClass"),i(n,"removeClass"))}),{node:o,event:a,className:e,isClassBased:v,isSetClassOperation:c,before:function(n){g=n,r(y,p,function(){g=u,n()})},after:function(n){h=n,r($,b,function(){h=u,n()})},cancel:function(){p&&(l(p,function(n){(n||u)(!0)}),g(!0)),b&&(l(b,function(n){(n||u)(!0)}),h(!0))}}}}}function h(n,a,e,i,r,o,s){function u(t){var i="$animate:"+t;b&&b[i]&&b[i].length>0&&g(function(){e.triggerHandler(i,{event:n,className:a})})}function f(){u("before")}function c(){u("after")}function m(){u("close"),s&&g(function(){s()})}function p(){p.hasBeenRun||(p.hasBeenRun=!0,o())}function C(){if(!C.hasBeenRun){C.hasBeenRun=!0;var t=e.data(v);t&&(h&&h.isClassBased?$(e,a):(g(function(){var t=e.data(v)||{};R==t.index&&$(e,a,n)}),e.data(v,t))),m()}}var h=y(e,n,a);if(!h)return p(),f(),c(),void C();a=h.className;var b=t.element._data(h.node);b=b&&b.events,i||(i=r?r.parent():e.parent());var w=e.data(v)||{},S=w.active||{},k=w.totalActive||0,x=w.last,B=h.isClassBased?w.disabled||x&&!x.isClassBased:!1;if(B||D(e,i))return p(),f(),c(),void C();var F=!1;if(k>0){var M=[];if(h.isClassBased){if("setClass"==x.event)M.push(x),$(e,a);else if(S[a]){var T=S[a];T.event==n?F=!0:(M.push(T),$(e,a))}}else if("leave"==n&&S["ng-leave"])F=!0;else{for(var E in S)M.push(S[E]),$(e,E);S={},k=0}M.length>0&&l(M,function(n){n.cancel()})}if(!h.isClassBased||h.isSetClassOperation||F||(F="addClass"==n==e.hasClass(a)),F)return p(),f(),c(),void m();"leave"==n&&e.one("$destroy",function(){var n=t.element(this),a=n.data(v);if(a){var e=a.active["ng-leave"];e&&(e.cancel(),$(n,"ng-leave"))}}),e.addClass(d);var R=A++;k++,S[a]=h,e.data(v,{last:h,active:S,index:R,totalActive:k}),f(),h.before(function(t){var i=e.data(v);t=t||!i||!i.active[a]||h.isClassBased&&i.active[a].event!=n,p(),t===!0?C():(c(),h.after(C))})}function b(n){var a=r(n);if(a){var e=t.isFunction(a.getElementsByClassName)?a.getElementsByClassName(d):a.querySelectorAll("."+d);l(e,function(n){n=t.element(n);var a=n.data(v);a&&a.active&&l(a.active,function(n){n.cancel()})})}}function $(n,t){if(s(n,c))m.disabled||(m.running=!1,m.structural=!1);else if(t){var a=n.data(v)||{},e=t===!0;!e&&a.active&&a.active[t]&&(a.totalActive--,delete a.active[t]),(e||!a.totalActive)&&(n.removeClass(d),n.removeData(v))}}function D(n,t){if(m.disabled)return!0;if(s(n,c))return m.disabled||m.running;do{if(0===t.length)break;var a=s(t,c),e=a?m:t.data(v)||{},i=e.disabled||e.running?!0:e.last&&!e.last.isClassBased;if(a||i)return i;if(a)return!0}while(t=t.parent());return!0}var A=0;c.data(v,m),p.$$postDigest(function(){p.$$postDigest(function(){m.running=!1})});var w=i.classNameFilter(),S=w?function(n){return w.test(n)}:function(){return!0};return{enter:function(t,a,e,i){this.enabled(!1,t),n.enter(t,a,e),p.$$postDigest(function(){t=o(t),h("enter","ng-enter",t,a,e,u,i)})},leave:function(t,a){b(t),this.enabled(!1,t),p.$$postDigest(function(){h("leave","ng-leave",o(t),null,null,function(){n.leave(t)},a)})},move:function(t,a,e,i){b(t),this.enabled(!1,t),n.move(t,a,e),p.$$postDigest(function(){t=o(t),h("move","ng-move",t,a,e,u,i)})},addClass:function(t,a,e){t=o(t),h("addClass",a,t,null,null,function(){n.addClass(t,a)},e)},removeClass:function(t,a,e){t=o(t),h("removeClass",a,t,null,null,function(){n.removeClass(t,a)},e)},setClass:function(t,a,e,i){t=o(t),h("setClass",[a,e],t,null,null,function(){n.setClass(t,a,e)},i)},enabled:function(n,t){switch(arguments.length){case 2:if(n)$(t);else{var a=t.data(v)||{};a.disabled=!0,t.data(v,a)}break;case 1:m.disabled=!n;break;default:n=!m.disabled}return!!n}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(e,i,o,s){function f(n,t){M&&M(),H.push(t),M=s(function(){l(H,function(n){n()}),H=[],M=null,j={}})}function v(n,a){var e=r(n);n=t.element(e),z.push(n);var i=Date.now()+a;_>=i||(o.cancel(U),_=i,U=o(function(){d(z),z=[]},a,!1))}function d(n){l(n,function(n){var t=n.data(I);t&&(t.closeAnimationFn||u)()})}function m(n,t){var a=t?j[t]:null;if(!a){var i,r,o,s,u=0,f=0,v=0,d=0;l(n,function(n){if(n.nodeType==c){var t=e.getComputedStyle(n)||{};o=t[S+T],u=Math.max(g(o),u),s=t[S+E],i=t[S+R],f=Math.max(g(i),f),r=t[x+R],d=Math.max(g(r),d);var a=g(t[x+T]);a>0&&(a*=parseInt(t[x+N],10)||1),v=Math.max(a,v)}}),a={total:0,transitionPropertyStyle:s,transitionDurationStyle:o,transitionDelayStyle:i,transitionDelay:f,transitionDuration:u,animationDelayStyle:r,animationDelay:d,animationDuration:v},t&&(j[t]=a)}return a}function g(n){var a=0,e=t.isString(n)?n.split(/\s*,\s*/):[];return l(e,function(n){a=Math.max(parseFloat(n)||0,a)}),a}function p(n){var t=n.parent(),a=t.data(P);return a||(t.data(P,++q),a=q),a+"-"+r(n).getAttribute("class")}function C(n,t,a){var e=["ng-enter","ng-leave","ng-move"].indexOf(a)>=0,i=p(t),o=i+" "+a,s=j[o]?++j[o].total:0,l={};if(s>0){var f=a+"-stagger",c=i+" "+f,v=!j[c];v&&t.addClass(f),l=m(t,c),v&&t.removeClass(f)}t.addClass(a);var d=t.data(I)||{},g=m(t,o),C=g.transitionDuration,y=g.animationDuration;if(e&&0===C&&0===y)return t.removeClass(a),!1;var h=e&&C>0,b=y>0&&l.animationDelay>0&&0===l.animationDuration;t.data(I,{stagger:l,cacheKey:o,running:d.running||0,itemIndex:s,blockTransition:h,blockAnimation:b,closeAnimationFn:u});var $=r(t);return h&&($.style[S+E]="none"),b&&($.style[x]="none 0s"),!0}function y(n,t,a,e){function i(){t.off(N,o),t.removeClass(f),A(t,a);var n=r(t);for(var e in D)n.style.removeProperty(D[e])}function o(n){n.stopPropagation();var t=n.originalEvent||n,a=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(O));Math.max(a-R,0)>=b&&i>=g&&e()}var s=r(t),u=t.data(I);if(-1==s.getAttribute("class").indexOf(a)||!u)return void e();u.blockTransition&&(s.style[S+E]=""),u.blockAnimation&&(s.style[x]="");var f="";l(a.split(" "),function(n,t){f+=(t>0?" ":"")+n+"-active"}),t.addClass(f);var c=u.eventCacheKey+" "+f,d=m(t,c),g=Math.max(d.transitionDuration,d.animationDuration);if(0===g)return t.removeClass(f),A(t,a),void e();var p=Math.max(d.transitionDelay,d.animationDelay),C=u.stagger,y=u.itemIndex,b=p*W,$="",D=[];if(d.transitionDuration>0){var w=d.transitionPropertyStyle;-1==w.indexOf("all")&&($+=F+"transition-property: "+w+";",$+=F+"transition-duration: "+d.transitionDurationStyle+";",D.push(F+"transition-property"),D.push(F+"transition-duration"))}if(y>0){if(C.transitionDelay>0&&0===C.transitionDuration){var M=d.transitionDelayStyle;$+=F+"transition-delay: "+h(M,C.transitionDelay,y)+"; ",D.push(F+"transition-delay")}C.animationDelay>0&&0===C.animationDuration&&($+=F+"animation-delay: "+h(d.animationDelayStyle,C.animationDelay,y)+"; ",D.push(F+"animation-delay"))}if(D.length>0){var T=s.getAttribute("style")||"";s.setAttribute("style",T+" "+$)}var R=Date.now(),N=B+" "+k;t.on(N,o),u.closeAnimationFn=function(){i(),e()};var P=y*(Math.max(C.animationDelay,C.transitionDelay)||0),j=(p+g)*K,q=(P+j)*W;return u.running++,v(t,q),i}function h(n,t,a){var e="";return l(n.split(","),function(n,i){e+=(i>0?",":"")+(a*t+parseInt(n,10))+"s"}),e}function b(n,t,a,e){return C(n,t,a,e)?function(n){n&&A(t,a)}:void 0}function $(n,t,a,e){return t.data(I)?y(n,t,a,e):(A(t,a),void e())}function D(n,t,a,e){var i=b(n,t,a);if(!i)return void e();var r=i;return f(t,function(){r=$(n,t,a,e)}),function(n){(r||u)(n)}}function A(n,t){n.removeClass(t);var a=n.data(I);a&&(a.running&&a.running--,a.running&&0!==a.running||n.removeData(I))}function w(n,a){var e="";return n=t.isArray(n)?n:n.split(/\s+/),l(n,function(n,t){n&&n.length>0&&(e+=(t>0?" ":"")+n+a)}),e}var S,k,x,B,F="";n.ontransitionend===a&&n.onwebkittransitionend!==a?(F="-webkit-",S="WebkitTransition",k="webkitTransitionEnd transitionend"):(S="transition",k="transitionend"),n.onanimationend===a&&n.onwebkitanimationend!==a?(F="-webkit-",x="WebkitAnimation",B="webkitAnimationEnd animationend"):(x="animation",B="animationend");var M,T="Duration",E="Property",R="Delay",N="IterationCount",P="$$ngAnimateKey",I="$$ngAnimateCSS3Data",O=3,K=1.5,W=1e3,j={},q=0,H=[],U=null,_=0,z=[];return{enter:function(n,t){return D("enter",n,"ng-enter",t)},leave:function(n,t){return D("leave",n,"ng-leave",t)},move:function(n,t){return D("move",n,"ng-move",t)},beforeSetClass:function(n,t,a,e){var i=w(a,"-remove")+" "+w(t,"-add"),r=b("setClass",n,i);return r?(f(n,e),r):void e()},beforeAddClass:function(n,t,a){var e=b("addClass",n,w(t,"-add"));return e?(f(n,a),e):void a()},beforeRemoveClass:function(n,t,a){var e=b("removeClass",n,w(t,"-remove"));return e?(f(n,a),e):void a()},setClass:function(n,t,a,e){a=w(a,"-remove"),t=w(t,"-add");var i=a+" "+t;return $("setClass",n,i,e)},addClass:function(n,t,a){return $("addClass",n,w(t,"-add"),a)},removeClass:function(n,t,a){return $("removeClass",n,w(t,"-remove"),a)}}}])}])}(window,window.angular)});
;define("common:widget/ui/jquery-ext/jquery-ext.js",function(e,t,r){var n=e("common:widget/ui/jquery/jquery.js");!function(e){e.string=e.string||{},e.string.format=function(e,t){e=String(e);var r=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return r.length?(r=1==r.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(n.call(t))?t:r,e.replace(/#\{(.+?)\}/g,function(e,t){var c=r[t];return"[object Function]"==n.call(c)&&(c=c(t)),"undefined"==typeof c?"":c})):e},e.loadJsFile=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),t.setAttribute("defer","defer"),document.getElementsByTagName("head")[0].appendChild(t)},e.escapeSymbol=function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},e.string.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}(n),r.exports=n});
;define("common:widget/ui/angular-1.2.14/angular-ui/angular-ui.js",function(e){var t=e("common:widget/ui/jquery-ext/jquery-ext.js");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function a(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var i=function(a,o,r){r=r||{};var l=e.defer(),s=i[r.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(s,c),l.resolve(a)})};return s&&a.bind(s,c),t(function(){angular.isString(o)?a.addClass(o):angular.isFunction(o)?o(a):angular.isObject(o)&&a.css(o),s||l.resolve(a)}),l.promise.cancel=function(){s&&a.unbind(s,c),l.reject("Transition cancelled")},l.promise},o=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=a(r),i.animationEndEventName=a(l),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,a){function i(t){function a(){c===i&&(c=void 0)}var i=e(n,t);return c&&c.cancel(),c=i,i.then(a,a),i}function o(){u?(u=!1,r()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(r))}function r(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function l(){u?(u=!1,s(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(s))}function s(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;t.$watch(a.collapse,function(e){e?l():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,a,i){var o,r;i.addGroup(t),t.isOpen=!1,a.isOpen&&(o=e(a.isOpen),r=o.assign,t.$parent.$watch(o,function(e){t.isOpen=!!e})),t.$watch("isOpen",function(e){e&&i.closeOthers(t),r&&r(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,a,i){i.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],o=a[1];o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){t.hasClass(i.activeClass)||e.$apply(function(){o.$setViewValue(e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){function i(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}var l=a[0],s=a[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function a(){i();var n=+e.interval;!isNaN(n)&&n>=0&&(r=t(o,n))}function i(){r&&(t.cancel(r),r=null)}function o(){l?(e.next(),a()):e.pause()}var r,l,s=this,c=s.slides=[],u=-1;s.currentSlide=null;var p=!1;s.select=function(i,o){function r(){p||(s.currentSlide&&angular.isString(o)&&!e.noTransition&&i.$element?(i.$element.addClass(o),i.$element[0].offsetWidth,angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){l(t,n)},function(){l(t,n)})}(i,s.currentSlide)):l(i,s.currentSlide),s.currentSlide=i,u=d,a())}function l(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var d=c.indexOf(i);void 0===o&&(o=d>u?"next":"prev"),i&&i!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(r)):r())},e.$on("$destroy",function(){p=!0}),s.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(u+1)%c.length;return e.$currentTransition?void 0:s.select(c[t],"next")},e.prev=function(){var t=0>u-1?c.length-1:u-1;return e.$currentTransition?void 0:s.select(c[t],"prev")},e.select=function(e){s.select(e)},e.isActive=function(e){return s.currentSlide===e},e.slides=function(){return c},e.$watch("interval",a),e.$on("$destroy",i),e.play=function(){l||(l=!0,a())},e.pause=function(){e.noPause||(l=!1,i())},s.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(s.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?s.select(t>=c.length?c[t-1]:c[t]):u>t&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,a,i){if(a.active){var o=e(a.active),r=o.assign,l=t.active=o(t.$parent);t.$watch(function(){var e=o(t.$parent);return e!==t.active&&(e!==l?l=t.active=e:r(t.$parent,e=l=t.active)),e})}i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,a){function i(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function o(e,t){return new Date(e,t,0).getDate()}function r(e,t){for(var n=new Array(t),a=e,i=0;t>i;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}function l(e,t,a,i){return{date:e,label:n(e,t),selected:!!a,secondary:!!i}}var s={day:i(t.dayFormat,a.dayFormat),month:i(t.monthFormat,a.monthFormat),year:i(t.yearFormat,a.yearFormat),dayHeader:i(t.dayHeaderFormat,a.dayHeaderFormat),dayTitle:i(t.dayTitleFormat,a.dayTitleFormat),monthTitle:i(t.monthTitleFormat,a.monthTitleFormat)},c=i(t.startingDay,a.startingDay),u=i(t.yearRange,a.yearRange);this.minDate=a.minDate?new Date(a.minDate):null,this.maxDate=a.maxDate?new Date(a.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var a=e.getFullYear(),i=e.getMonth(),u=new Date(a,i,1),p=c-u.getDay(),d=p>0?7-p:-p,m=new Date(u),g=0;d>0&&(m.setDate(-d+1),g+=d),g+=o(a,i+1),g+=(7-g%7)%7;for(var f=r(m,g),h=new Array(7),v=0;g>v;v++){var b=new Date(f[v]);f[v]=l(b,s.day,t&&t.getDate()===b.getDate()&&t.getMonth()===b.getMonth()&&t.getFullYear()===b.getFullYear(),b.getMonth()!==i)}for(var $=0;7>$;$++)h[$]=n(f[$].date,s.dayHeader);return{objects:f,title:n(e,s.dayTitle),labels:h}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var a=new Array(12),i=e.getFullYear(),o=0;12>o;o++){var r=new Date(i,o,1);a[o]=l(r,s.month,t&&t.getMonth()===o&&t.getFullYear()===i)}return{objects:a,title:n(e,s.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=new Array(u),a=e.getFullYear(),i=parseInt((a-1)/u,10)*u+1,o=0;u>o;o++){var r=new Date(i+o,0,1);n[o]=l(r,s.year,t&&t.getFullYear()===r.getFullYear())}return{objects:n,title:[n[0].label,n[u-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:u}}],this.isDisabled=function(t,n){var a=this.modes[n||0];return this.minDate&&a.compare(t,this.minDate)<0||this.maxDate&&a.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:a.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,i,o,r){function l(){e.showWeekNumbers=0===g&&h}function s(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function c(t){var n=null,i=!0;m.$modelValue&&(n=new Date(m.$modelValue),isNaN(n)?(i=!1,a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(f=n)),m.$setValidity("date",i);var o=d.modes[g],r=o.getVisibleDates(f,n);angular.forEach(r.objects,function(e){e.disabled=d.isDisabled(e.date,g)}),m.$setValidity("date-disabled",!n||!d.isDisabled(n)),e.rows=s(r.objects,o.split),e.labels=r.labels||[],e.title=r.title}function u(e){g=e,l(),c()}function p(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var d=r[0],m=r[1];if(m){var g=0,f=new Date,h=n.showWeeks;o.showWeeks?e.$parent.$watch(t(o.showWeeks),function(e){h=!!e,l()}):l(),o.min&&e.$parent.$watch(t(o.min),function(e){d.minDate=e?new Date(e):null,c()}),o.max&&e.$parent.$watch(t(o.max),function(e){d.maxDate=e?new Date(e):null,c()}),m.$render=function(){c(!0)},e.select=function(e){if(0===g){var t=m.$modelValue?new Date(m.$modelValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),m.$setViewValue(t),c(!0)}else f=e,u(g-1)},e.move=function(e){var t=d.modes[g].step;f.setMonth(f.getMonth()+e*(t.months||0)),f.setFullYear(f.getFullYear()+e*(t.years||0)),c()},e.toggleMode=function(){u((g+1)%d.modes.length)},e.getWeekNumber=function(t){return 0===g&&e.showWeekNumbers&&7===t.length?p(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(e,t,n,a,i,o,r){return{restrict:"EA",require:"ngModel",link:function(l,s,c,u){function p(e){y?y(l,!!e):h.isOpen=!!e}function d(e){if(e){if(angular.isDate(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}function m(e,n,a){e&&(l.$watch(t(e),function(e){h[n]=e}),D.attr(a||n,n))}function g(){h.position=b?a.offset(s):a.position(s),h.position.top=h.position.top+s.prop("offsetHeight")}var f,h=l.$new(),v=angular.isDefined(c.closeOnDateSelection)?l.$eval(c.closeOnDateSelection):o.closeOnDateSelection,b=angular.isDefined(c.datepickerAppendToBody)?l.$eval(c.datepickerAppendToBody):o.appendToBody;c.$observe("datepickerPopup",function(e){f=e||o.dateFormat,u.$render()}),h.showButtonBar=angular.isDefined(c.showButtonBar)?l.$eval(c.showButtonBar):o.showButtonBar,l.$on("$destroy",function(){M.remove(),h.$destroy()}),c.$observe("currentText",function(e){h.currentText=angular.isDefined(e)?e:o.currentText}),c.$observe("toggleWeeksText",function(e){h.toggleWeeksText=angular.isDefined(e)?e:o.toggleWeeksText}),c.$observe("clearText",function(e){h.clearText=angular.isDefined(e)?e:o.clearText}),c.$observe("closeText",function(e){h.closeText=angular.isDefined(e)?e:o.closeText});var $,y;c.isOpen&&($=t(c.isOpen),y=$.assign,l.$watch($,function(e){h.isOpen=!!e})),h.isOpen=$?$(l):!1;var w=function(e){h.isOpen&&e.target!==s[0]&&h.$apply(function(){p(!1)})},k=function(){h.$apply(function(){p(!0)})},x=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");x.attr({"ng-model":"date","ng-change":"dateSelection()"});var D=angular.element(x.children()[0]);c.datepickerOptions&&D.attr(angular.extend({},l.$eval(c.datepickerOptions))),u.$parsers.unshift(d),h.dateSelection=function(e){angular.isDefined(e)&&(h.date=e),u.$setViewValue(h.date),u.$render(),v&&p(!1)},s.bind("input change keyup",function(){h.$apply(function(){h.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,f):"";s.val(e),h.date=u.$modelValue},m(c.min,"min"),m(c.max,"max"),c.showWeeks?m(c.showWeeks,"showWeeks","show-weeks"):(h.showWeeks=r.showWeeks,D.attr("show-weeks","showWeeks")),c.dateDisabled&&D.attr("date-disabled",c.dateDisabled);var C=!1,T=!1;h.$watch("isOpen",function(e){e?(g(),n.bind("click",w),T&&s.unbind("focus",k),s[0].focus(),C=!0):(C&&n.unbind("click",w),s.bind("focus",k),T=!0),y&&y(l,e)}),h.today=function(){h.dateSelection(new Date)},h.clear=function(){h.dateSelection(null)};var M=e(x)(h);b?n.find("body").append(M):s.after(M)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(a,i){a.$watch("$location.path",function(){n()}),i.parent().bind("click",function(){n()}),i.bind("click",function(a){var o=i===t;a.preventDefault(),a.stopPropagation(),t&&n(),o||i.hasClass("disabled")||i.prop("disabled")||(i.parent().addClass("open"),t=i,n=function(a){a&&(a.preventDefault(),a.stopPropagation()),e.unbind("click",n),i.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(n,a,i){n.windowClass=i.windowClass||"",t(function(){n.animate=!0,a[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,a){function i(){for(var e=-1,t=u.keys(),n=0;n<t.length;n++)u.get(t[n]).value.backdrop&&(e=n);return e}function o(t){var n=e.find("body").eq(0),a=u.get(t).value;u.remove(t),a.modalDomEl.remove(),n.toggleClass(s,u.length()>0),l&&-1==i()&&(l.remove(),l=void 0),a.modalScope.$destroy()}var r,l,s="modal-open",c=n.$new(!0),u=a.createNew(),p={};return n.$watch(i,function(e){c.index=e}),e.bind("keydown",function(e){var t;27===e.which&&(t=u.top(),t&&t.value.keyboard&&n.$apply(function(){p.dismiss(t.key)}))}),p.open=function(n,a){u.add(n,{deferred:a.deferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard});var o=e.find("body").eq(0);i()>=0&&!l&&(r=angular.element("<div modal-backdrop></div>"),l=t(r)(c),o.append(l));var p=angular.element("<div modal-window></div>");p.attr("window-class",a.windowClass),p.attr("index",u.length()-1),p.html(a.content);var d=t(p)(a.scope);u.top().value.modalDomEl=d,o.append(d),o.addClass(s)},p.close=function(e,t){var n=u.get(e).value;n&&(n.deferred.resolve(t),o(e))},p.dismiss=function(e,t){var n=u.get(e).value;n&&(n.deferred.reject(t),o(e))},p.getTop=function(){return u.top()},p}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,a,i,o,r,l){function s(e){return e.template?a.when(e.template):i.get(e.templateUrl,{cache:o}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(a.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=a.defer(),o=a.defer(),u={result:i.promise,opened:o.promise,close:function(e){l.close(u,e)},dismiss:function(e){l.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=a.all([s(t)].concat(c(t.resolve)));return p.then(function(e){var a=(t.scope||n).$new();a.$close=u.close,a.$dismiss=u.dismiss;var o,s={},c=1;t.controller&&(s.$scope=a,s.$modalInstance=u,angular.forEach(t.resolve,function(t,n){s[n]=e[c++]}),o=r(t.controller,s)),l.open(u,{scope:a,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){i.reject(e)}),p.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,a){var i=this,o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a){t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=a},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===e.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.getAttributeValue=function(t,n,i){return angular.isDefined(t)?i?a(t)(e.$parent):e.$parent.$eval(t):n},this.render=function(){this.page=parseInt(e.page,10)||1,this.page>0&&this.page<=e.totalPages&&(e.pages=this.getPages(this.page,e.totalPages))},e.selectPage=function(t){!i.isActive(t)&&t>0&&t<=e.totalPages&&(e.page=t,e.onSelectPage({page:t}))},e.$watch("page",function(){i.render()}),e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),i.page>t?e.selectPage(t):i.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,o){function r(e,t,n,a){return{number:e,text:t,active:n,disabled:a}}var l,s=o.getAttributeValue(i.boundaryLinks,t.boundaryLinks),c=o.getAttributeValue(i.directionLinks,t.directionLinks),u=o.getAttributeValue(i.firstText,t.firstText,!0),p=o.getAttributeValue(i.previousText,t.previousText,!0),d=o.getAttributeValue(i.nextText,t.nextText,!0),m=o.getAttributeValue(i.lastText,t.lastText,!0),g=o.getAttributeValue(i.rotate,t.rotate);o.init(t.itemsPerPage),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){l=parseInt(e,10),o.render()}),o.getPages=function(e,t){var n=[],a=1,i=t,f=angular.isDefined(l)&&t>l;f&&(g?(a=Math.max(e-Math.floor(l/2),1),i=a+l-1,i>t&&(i=t,a=i-l+1)):(a=(Math.ceil(e/l)-1)*l+1,i=Math.min(a+l-1,t)));for(var h=a;i>=h;h++){var v=r(h,h,o.isActive(h),!1);n.push(v)}if(f&&!g){if(a>1){var b=r(a-1,"...",!1,!1);n.unshift(b)}if(t>i){var $=r(i+1,"...",!1,!1);n.push($)}}if(c){var y=r(e-1,p,!1,o.noPrevious());n.unshift(y);var w=r(e+1,d,!1,o.noNext());n.push(w)}if(s){var k=r(1,u,!1,o.noPrevious());n.unshift(k);var x=r(t,m,!1,o.noNext());n.push(x)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,a,i){function o(e,t,n,a,i){return{number:e,text:t,disabled:n,previous:s&&a,next:s&&i}}var r=i.getAttributeValue(a.previousText,e.previousText,!0),l=i.getAttributeValue(a.nextText,e.nextText,!0),s=i.getAttributeValue(a.align,e.align);i.init(e.itemsPerPage),i.getPages=function(e){return[o(e-1,r,i.noPrevious(),!0,!1),o(e+1,l,i.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,o,r,l,s,c,u){return function(i,p,d){function m(e){var t=e||g.trigger||d,a=n[t]||t;return{show:t,hide:a}}var g=angular.extend({},t,a),f=e(i),h=u.startSymbol(),v=u.endSymbol(),b="<div "+f+'-popup title="'+h+"tt_title"+v+'" content="'+h+"tt_content"+v+'" placement="'+h+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,link:function(e,t,n){function a(){e.tt_isOpen?d():u()}function u(){(!D||e.$eval(n[p+"Enable"]))&&(e.tt_popupDelay?($=r(f,e.tt_popupDelay),$.then(function(e){e()})):e.$apply(f)())}function d(){e.$apply(function(){h()})}function f(){return e.tt_content?(v&&r.cancel(v),y.css({top:0,left:0,display:"block"}),w?s.find("body").append(y):t.after(y),C(),e.tt_isOpen=!0,C):angular.noop}function h(){e.tt_isOpen=!1,r.cancel($),e.tt_animation?v=r(function(){y.remove()},500):y.remove()}var v,$,y=o(b)(e),w=angular.isDefined(g.appendToBody)?g.appendToBody:!1,k=m(void 0),x=!1,D=angular.isDefined(n[p+"Enable"]),C=function(){var n,a,i,o;switch(n=w?c.offset(t):c.position(t),a=y.prop("offsetWidth"),i=y.prop("offsetHeight"),e.tt_placement){case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width};break;case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-a/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-a};break;default:o={top:n.top-i,left:n.left+n.width/2-a/2}}o.top+="px",o.left+="px",y.css(o)};e.tt_isOpen=!1,n.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&h()}),n.$observe(p+"Title",function(t){e.tt_title=t}),n.$observe(p+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:g.placement}),n.$observe(p+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?g.popupDelay:n});var T=function(){x&&(t.unbind(k.show,u),t.unbind(k.hide,d))};n.$observe(p+"Trigger",function(e){T(),k=m(e),k.show===k.hide?t.bind(k.show,a):(t.bind(k.show,u),t.bind(k.hide,d)),x=!0});var M=e.$eval(n[p+"Animation"]);e.tt_animation=angular.isDefined(M)?!!M:g.animation,n.$observe(p+"AppendToBody",function(t){w=angular.isDefined(t)?l(t)(e):w}),w&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&h()}),e.$on("$destroy",function(){r.cancel(v),r.cancel($),T(),y.remove(),y.unbind(),y=null})}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,a,i){return i("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(e,t,n,a){var i=this,o=[],r=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,l=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.addBar=function(e,t){var n=0,a=e.$parent.$index;angular.isDefined(a)&&o[a]&&(n=o[a].value),o.push(e),this.update(t,e.value,n),e.$watch("value",function(e,n){e!==n&&i.update(t,e,n)}),e.$on("$destroy",function(){i.removeBar(e)})},this.update=function(e,t,n){var i=this.getPercentage(t);l?(e.css("width",this.getPercentage(n)+"%"),a(e,{width:i+"%"})):e.css({transition:"none",width:i+"%"})},this.removeBar=function(e){o.splice(o.indexOf(e),1)},this.getPercentage=function(e){return Math.round(100*e/r)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,a){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):a.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):a.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):a.stateOff,this.createRateObjects=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=0,a=e.length;a>n;n++)e[n]=angular.extend({index:n},t,e[n]);return e},e.range=this.createRateObjects(angular.isDefined(t.ratingStates)?angular.copy(e.$parent.$eval(t.ratingStates)):new Array(this.maxRange)),e.rate=function(t){e.readonly||e.value===t||(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t
})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),(1===n.length||e.active)&&t.select(e)},t.removeTab=function(e){var a=n.indexOf(e);if(e.active&&n.length>1){var i=a==n.length-1?a-1:a+1;t.select(n[i])}n.splice(a,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1,e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,a){return function(t,n,i,o){var r,l;i.active?(r=e(i.active),l=r.assign,t.$parent.$watch(r,function(e,n){e!==n&&(t.active=!!e)}),t.active=r(t.$parent)):l=r=angular.noop,t.$watch("active",function(e){l(t.$parent,e),e?(o.select(t),t.onSelect()):t.onDeselect()}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function(e,t,n,a){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,o,r,l){function s(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(i.showMeridian&&(12===e&&(e=0),i.meridian===h[1]&&(e+=12)),e):void 0}function c(){var e=parseInt(i.minutes,10);return e>=0&&60>e?e:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function p(e){d(),l.$setViewValue(new Date(f)),m(e)}function d(){l.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function m(e){var t=f.getHours(),n=f.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:u(t),i.minutes="m"===e?n:u(n),i.meridian=f.getHours()<12?h[0]:h[1]}function g(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),p()}if(l){var f=new Date,h=angular.isDefined(r.meridians)?i.$parent.$eval(r.meridians):n.meridians||a.DATETIME_FORMATS.AMPMS,v=n.hourStep;r.hourStep&&i.$parent.$watch(e(r.hourStep),function(e){v=parseInt(e,10)});var b=n.minuteStep;r.minuteStep&&i.$parent.$watch(e(r.minuteStep),function(e){b=parseInt(e,10)}),i.showMeridian=n.showMeridian,r.showMeridian&&i.$parent.$watch(e(r.showMeridian),function(e){if(i.showMeridian=!!e,l.$error.time){var t=s(),n=c();angular.isDefined(t)&&angular.isDefined(n)&&(f.setHours(t),p())}else m()});var $=o.find("input"),y=$.eq(0),w=$.eq(1),k=angular.isDefined(r.mousewheel)?i.$eval(r.mousewheel):n.mousewheel;if(k){var x=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};y.bind("mousewheel wheel",function(e){i.$apply(x(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),w.bind("mousewheel wheel",function(e){i.$apply(x(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}if(i.readonlyInput=angular.isDefined(r.readonlyInput)?i.$eval(r.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var D=function(e,t){l.$setViewValue(null),l.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=s();angular.isDefined(e)?(f.setHours(e),p("h")):D(!0)},y.bind("blur",function(){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=u(i.hours)})}),i.updateMinutes=function(){var e=c();angular.isDefined(e)?(f.setMinutes(e),p("m")):D(void 0,!0)},w.bind("blur",function(){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=u(i.minutes)})})}l.$render=function(){var e=l.$modelValue?new Date(l.$modelValue):null;isNaN(e)?(l.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),d(),m())},i.incrementHours=function(){g(60*v)},i.decrementHours=function(){g(60*-v)},i.incrementMinutes=function(){g(b)},i.decrementMinutes=function(){g(-b)},i.toggleMeridian=function(){g(720*(f.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,a,i,o,r){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,c,u,p){var d,m=s.$eval(u.typeaheadMinLength)||1,g=s.$eval(u.typeaheadWaitMs)||0,f=s.$eval(u.typeaheadEditable)!==!1,h=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,$=u.typeaheadAppendToBody?t(u.typeaheadAppendToBody):!1,y=t(u.ngModel).assign,w=r.parse(u.typeahead),k=angular.element("<div typeahead-popup></div>");k.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&k.attr("template-url",u.typeaheadTemplateUrl);var x=s.$new();s.$on("$destroy",function(){x.$destroy()});var D=function(){x.matches=[],x.activeIdx=-1},C=function(e){var t={$viewValue:e};h(s,!0),n.when(w.source(s,t)).then(function(n){if(e===p.$viewValue&&d){if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var a=0;a<n.length;a++)t[w.itemName]=n[a],x.matches.push({label:w.viewMapper(x,t),model:n[a]});x.query=e,x.position=$?o.offset(c):o.position(c),x.position.top=x.position.top+c.prop("offsetHeight")}else D();h(s,!1)}},function(){D(),h(s,!1)})};D(),x.query=void 0;var T;p.$parsers.unshift(function(e){return d=!0,e&&e.length>=m?g>0?(T&&a.cancel(T),T=a(function(){C(e)},g)):C(e):(h(s,!1),D()),f?e:e?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),e)}),p.$formatters.push(function(e){var t,n,a={};return b?(a.$model=e,b(s,a)):(a[w.itemName]=e,t=w.viewMapper(s,a),a[w.itemName]=void 0,n=w.viewMapper(s,a),t!==n?t:e)}),x.select=function(e){var t,n,a={};a[w.itemName]=n=x.matches[e].model,t=w.modelMapper(s,a),y(s,t),p.$setValidity("editable",!0),v(s,{$item:n,$model:t,$label:w.viewMapper(s,a)}),D(),c[0].focus()},c.bind("keydown",function(e){0!==x.matches.length&&-1!==l.indexOf(e.keyCode)&&(e.preventDefault(),40===e.keyCode?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.keyCode?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.keyCode||9===e.keyCode?x.$apply(function(){x.select(x.activeIdx)}):27===e.keyCode&&(e.stopPropagation(),D(),x.$digest()))}),c.bind("blur",function(){d=!1});var M=function(e){c[0]!==e.target&&(D(),x.$digest())};i.bind("click",M),s.$on("$destroy",function(){i.unbind("click",M)});var O=e(k)(x);$?i.find("body").append(O):c.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,n,a,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,r,l){var s=i(l.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:n}).success(function(e){r.replaceWith(a(t.trim(e))(o))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n      <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr ng-show="labels.length > 0" class="h6">\n      <th ng-show="showWeekNumbers" class="text-center">#</th>\n      <th ng-repeat="label in labels" class="text-center">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n <li ng-transclude></li>\n"+'  <li ng-show="showButtonBar" style="padding:10px 9px 2px">\n     <span class="btn-group">\n          <button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n         <button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n           <button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n     </span>\n       <button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n  </li>\n</ul>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n    <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n <tbody>\n       <tr class="text-center">\n          <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n         <td>&nbsp;</td>\n           <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n           <td ng-show="showMeridian"></td>\n      </tr>\n     <tr>\n          <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n              <input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n            </td>\n         <td>:</td>\n            <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n                <input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n         </td>\n         <td ng-show="showMeridian"><button class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n     </tr>\n     <tr class="text-center">\n          <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n           <td>&nbsp;</td>\n           <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n         <td ng-show="showMeridian"></td>\n      </tr>\n </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}])});
;define("common:widget/ui/angular/angular-animate.js",function(){!function(n,t,a){"use strict";t.module("ngAnimate",["ng"]).factory("$$animateReflow",["$$rAF","$document",function(n,t){var a=t[0].body;return function(t){return n(function(){a.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(e,i){function r(n){for(var t=0;t<n.length;t++){var a=n[t];if(a.nodeType==c)return a}}function o(n){return t.element(r(n))}function s(n,t){return r(n)==r(t)}var u=t.noop,l=t.forEach,f=i.$$selectors,c=1,v="$$ngAnimateState",d="ng-animate",m={running:!0};e.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(n,a,e,c,g,p){function C(n){if(n){var t=[],i={},r=n.substr(1).split(".");(e.transitions||e.animations)&&t.push(a.get(f[""]));for(var o=0;o<r.length;o++){var s=r[o],u=f[s];u&&!i[s]&&(t.push(a.get(u)),i[s]=!0)}return t}}function y(n,a,e){function i(n,t){var a=n[t],e=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];return a||e?("leave"==t&&(e=a,a=null),$.push({event:t,fn:a}),y.push({event:t,fn:e}),!0):void 0}function r(t,a,i){function r(n){if(a){if((a[n]||u)(),++c<o.length)return;a=null}i()}var o=[];l(t,function(n){n.fn&&o.push(n)});var c=0;l(o,function(t,i){var o=function(){r(i)};switch(t.event){case"setClass":a.push(t.fn(n,s,f,o));break;case"addClass":a.push(t.fn(n,s||e,o));break;case"removeClass":a.push(t.fn(n,f||e,o));break;default:a.push(t.fn(n,o))}}),a&&0===a.length&&i()}var o=n[0];if(o){var s,f,c="setClass"==a,v=c||"addClass"==a||"removeClass"==a;t.isArray(e)&&(s=e[0],f=e[1],e=s+" "+f);var d=n.attr("class"),m=d+" "+e;if(S(m)){var g=u,p=[],y=[],h=u,b=[],$=[],D=(" "+m).replace(/\s+/g,".");return l(C(D),function(n){var t=i(n,a);!t&&c&&(i(n,"addClass"),i(n,"removeClass"))}),{node:o,event:a,className:e,isClassBased:v,isSetClassOperation:c,before:function(n){g=n,r(y,p,function(){g=u,n()})},after:function(n){h=n,r($,b,function(){h=u,n()})},cancel:function(){p&&(l(p,function(n){(n||u)(!0)}),g(!0)),b&&(l(b,function(n){(n||u)(!0)}),h(!0))}}}}}function h(n,a,e,i,r,o,s){function u(t){var i="$animate:"+t;b&&b[i]&&b[i].length>0&&g(function(){e.triggerHandler(i,{event:n,className:a})})}function f(){u("before")}function c(){u("after")}function m(){u("close"),s&&g(function(){s()})}function p(){p.hasBeenRun||(p.hasBeenRun=!0,o())}function C(){if(!C.hasBeenRun){C.hasBeenRun=!0;var t=e.data(v);t&&(h&&h.isClassBased?$(e,a):(g(function(){var t=e.data(v)||{};R==t.index&&$(e,a,n)}),e.data(v,t))),m()}}var h=y(e,n,a);if(!h)return p(),f(),c(),void C();a=h.className;var b=t.element._data(h.node);b=b&&b.events,i||(i=r?r.parent():e.parent());var w=e.data(v)||{},S=w.active||{},k=w.totalActive||0,x=w.last,B=h.isClassBased?w.disabled||x&&!x.isClassBased:!1;if(B||D(e,i))return p(),f(),c(),void C();var F=!1;if(k>0){var M=[];if(h.isClassBased){if("setClass"==x.event)M.push(x),$(e,a);else if(S[a]){var T=S[a];T.event==n?F=!0:(M.push(T),$(e,a))}}else if("leave"==n&&S["ng-leave"])F=!0;else{for(var E in S)M.push(S[E]),$(e,E);S={},k=0}M.length>0&&l(M,function(n){n.cancel()})}if(!h.isClassBased||h.isSetClassOperation||F||(F="addClass"==n==e.hasClass(a)),F)return p(),f(),c(),void m();"leave"==n&&e.one("$destroy",function(){var n=t.element(this),a=n.data(v);if(a){var e=a.active["ng-leave"];e&&(e.cancel(),$(n,"ng-leave"))}}),e.addClass(d);var R=A++;k++,S[a]=h,e.data(v,{last:h,active:S,index:R,totalActive:k}),f(),h.before(function(t){var i=e.data(v);t=t||!i||!i.active[a]||h.isClassBased&&i.active[a].event!=n,p(),t===!0?C():(c(),h.after(C))})}function b(n){var a=r(n);if(a){var e=t.isFunction(a.getElementsByClassName)?a.getElementsByClassName(d):a.querySelectorAll("."+d);l(e,function(n){n=t.element(n);var a=n.data(v);a&&a.active&&l(a.active,function(n){n.cancel()})})}}function $(n,t){if(s(n,c))m.disabled||(m.running=!1,m.structural=!1);else if(t){var a=n.data(v)||{},e=t===!0;!e&&a.active&&a.active[t]&&(a.totalActive--,delete a.active[t]),(e||!a.totalActive)&&(n.removeClass(d),n.removeData(v))}}function D(n,t){if(m.disabled)return!0;if(s(n,c))return m.disabled||m.running;do{if(0===t.length)break;var a=s(t,c),e=a?m:t.data(v)||{},i=e.disabled||e.running?!0:e.last&&!e.last.isClassBased;if(a||i)return i;if(a)return!0}while(t=t.parent());return!0}var A=0;c.data(v,m),p.$$postDigest(function(){p.$$postDigest(function(){m.running=!1})});var w=i.classNameFilter(),S=w?function(n){return w.test(n)}:function(){return!0};return{enter:function(t,a,e,i){this.enabled(!1,t),n.enter(t,a,e),p.$$postDigest(function(){t=o(t),h("enter","ng-enter",t,a,e,u,i)})},leave:function(t,a){b(t),this.enabled(!1,t),p.$$postDigest(function(){h("leave","ng-leave",o(t),null,null,function(){n.leave(t)},a)})},move:function(t,a,e,i){b(t),this.enabled(!1,t),n.move(t,a,e),p.$$postDigest(function(){t=o(t),h("move","ng-move",t,a,e,u,i)})},addClass:function(t,a,e){t=o(t),h("addClass",a,t,null,null,function(){n.addClass(t,a)},e)},removeClass:function(t,a,e){t=o(t),h("removeClass",a,t,null,null,function(){n.removeClass(t,a)},e)},setClass:function(t,a,e,i){t=o(t),h("setClass",[a,e],t,null,null,function(){n.setClass(t,a,e)},i)},enabled:function(n,t){switch(arguments.length){case 2:if(n)$(t);else{var a=t.data(v)||{};a.disabled=!0,t.data(v,a)}break;case 1:m.disabled=!n;break;default:n=!m.disabled}return!!n}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(e,i,o,s){function f(n,t){M&&M(),H.push(t),M=s(function(){l(H,function(n){n()}),H=[],M=null,j={}})}function v(n,a){var e=r(n);n=t.element(e),z.push(n);var i=Date.now()+a;_>=i||(o.cancel(U),_=i,U=o(function(){d(z),z=[]},a,!1))}function d(n){l(n,function(n){var t=n.data(I);t&&(t.closeAnimationFn||u)()})}function m(n,t){var a=t?j[t]:null;if(!a){var i,r,o,s,u=0,f=0,v=0,d=0;l(n,function(n){if(n.nodeType==c){var t=e.getComputedStyle(n)||{};o=t[S+T],u=Math.max(g(o),u),s=t[S+E],i=t[S+R],f=Math.max(g(i),f),r=t[x+R],d=Math.max(g(r),d);var a=g(t[x+T]);a>0&&(a*=parseInt(t[x+N],10)||1),v=Math.max(a,v)}}),a={total:0,transitionPropertyStyle:s,transitionDurationStyle:o,transitionDelayStyle:i,transitionDelay:f,transitionDuration:u,animationDelayStyle:r,animationDelay:d,animationDuration:v},t&&(j[t]=a)}return a}function g(n){var a=0,e=t.isString(n)?n.split(/\s*,\s*/):[];return l(e,function(n){a=Math.max(parseFloat(n)||0,a)}),a}function p(n){var t=n.parent(),a=t.data(P);return a||(t.data(P,++q),a=q),a+"-"+r(n).getAttribute("class")}function C(n,t,a){var e=["ng-enter","ng-leave","ng-move"].indexOf(a)>=0,i=p(t),o=i+" "+a,s=j[o]?++j[o].total:0,l={};if(s>0){var f=a+"-stagger",c=i+" "+f,v=!j[c];v&&t.addClass(f),l=m(t,c),v&&t.removeClass(f)}t.addClass(a);var d=t.data(I)||{},g=m(t,o),C=g.transitionDuration,y=g.animationDuration;if(e&&0===C&&0===y)return t.removeClass(a),!1;var h=e&&C>0,b=y>0&&l.animationDelay>0&&0===l.animationDuration;t.data(I,{stagger:l,cacheKey:o,running:d.running||0,itemIndex:s,blockTransition:h,blockAnimation:b,closeAnimationFn:u});var $=r(t);return h&&($.style[S+E]="none"),b&&($.style[x]="none 0s"),!0}function y(n,t,a,e){function i(){t.off(N,o),t.removeClass(f),A(t,a);var n=r(t);for(var e in D)n.style.removeProperty(D[e])}function o(n){n.stopPropagation();var t=n.originalEvent||n,a=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(O));Math.max(a-R,0)>=b&&i>=g&&e()}var s=r(t),u=t.data(I);if(-1==s.getAttribute("class").indexOf(a)||!u)return void e();u.blockTransition&&(s.style[S+E]=""),u.blockAnimation&&(s.style[x]="");var f="";l(a.split(" "),function(n,t){f+=(t>0?" ":"")+n+"-active"}),t.addClass(f);var c=u.eventCacheKey+" "+f,d=m(t,c),g=Math.max(d.transitionDuration,d.animationDuration);if(0===g)return t.removeClass(f),A(t,a),void e();var p=Math.max(d.transitionDelay,d.animationDelay),C=u.stagger,y=u.itemIndex,b=p*W,$="",D=[];if(d.transitionDuration>0){var w=d.transitionPropertyStyle;-1==w.indexOf("all")&&($+=F+"transition-property: "+w+";",$+=F+"transition-duration: "+d.transitionDurationStyle+";",D.push(F+"transition-property"),D.push(F+"transition-duration"))}if(y>0){if(C.transitionDelay>0&&0===C.transitionDuration){var M=d.transitionDelayStyle;$+=F+"transition-delay: "+h(M,C.transitionDelay,y)+"; ",D.push(F+"transition-delay")}C.animationDelay>0&&0===C.animationDuration&&($+=F+"animation-delay: "+h(d.animationDelayStyle,C.animationDelay,y)+"; ",D.push(F+"animation-delay"))}if(D.length>0){var T=s.getAttribute("style")||"";s.setAttribute("style",T+" "+$)}var R=Date.now(),N=B+" "+k;t.on(N,o),u.closeAnimationFn=function(){i(),e()};var P=y*(Math.max(C.animationDelay,C.transitionDelay)||0),j=(p+g)*K,q=(P+j)*W;return u.running++,v(t,q),i}function h(n,t,a){var e="";return l(n.split(","),function(n,i){e+=(i>0?",":"")+(a*t+parseInt(n,10))+"s"}),e}function b(n,t,a,e){return C(n,t,a,e)?function(n){n&&A(t,a)}:void 0}function $(n,t,a,e){return t.data(I)?y(n,t,a,e):(A(t,a),void e())}function D(n,t,a,e){var i=b(n,t,a);if(!i)return void e();var r=i;return f(t,function(){r=$(n,t,a,e)}),function(n){(r||u)(n)}}function A(n,t){n.removeClass(t);var a=n.data(I);a&&(a.running&&a.running--,a.running&&0!==a.running||n.removeData(I))}function w(n,a){var e="";return n=t.isArray(n)?n:n.split(/\s+/),l(n,function(n,t){n&&n.length>0&&(e+=(t>0?" ":"")+n+a)}),e}var S,k,x,B,F="";n.ontransitionend===a&&n.onwebkittransitionend!==a?(F="-webkit-",S="WebkitTransition",k="webkitTransitionEnd transitionend"):(S="transition",k="transitionend"),n.onanimationend===a&&n.onwebkitanimationend!==a?(F="-webkit-",x="WebkitAnimation",B="webkitAnimationEnd animationend"):(x="animation",B="animationend");var M,T="Duration",E="Property",R="Delay",N="IterationCount",P="$$ngAnimateKey",I="$$ngAnimateCSS3Data",O=3,K=1.5,W=1e3,j={},q=0,H=[],U=null,_=0,z=[];return{enter:function(n,t){return D("enter",n,"ng-enter",t)},leave:function(n,t){return D("leave",n,"ng-leave",t)},move:function(n,t){return D("move",n,"ng-move",t)},beforeSetClass:function(n,t,a,e){var i=w(a,"-remove")+" "+w(t,"-add"),r=b("setClass",n,i);return r?(f(n,e),r):void e()},beforeAddClass:function(n,t,a){var e=b("addClass",n,w(t,"-add"));return e?(f(n,a),e):void a()},beforeRemoveClass:function(n,t,a){var e=b("removeClass",n,w(t,"-remove"));return e?(f(n,a),e):void a()},setClass:function(n,t,a,e){a=w(a,"-remove"),t=w(t,"-add");var i=a+" "+t;return $("setClass",n,i,e)},addClass:function(n,t,a){return $("addClass",n,w(t,"-add"),a)},removeClass:function(n,t,a){return $("removeClass",n,w(t,"-remove"),a)}}}])}])}(window,window.angular)});
;define("common:widget/ui/angular/angular-route.js",function(){!function(e,r){"use strict";function t(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,i,c,l){function u(){p&&(p.$destroy(),p=null),$&&(n.leave($),$=null)}function s(){var i=e.current&&e.current.locals;if(i&&i.$template){var i=a.$new(),c=e.current;$=l(i,function(e){n.enter(e,null,$||o,function(){!r.isDefined(h)||h&&!a.$eval(h)||t()}),u()}),p=c.scope=i,p.$emit("$viewContentLoaded"),p.$eval(f)}else u()}var p,$,h=i.autoscroll,f=i.onload||"";a.$on("$routeChangeSuccess",s),s()}}}function n(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var o=t.current,i=o.locals;a.html(i.$template);var c=e(a.contents());o.controller&&(i.$scope=n,i=r(o.controller,i),o.controllerAs&&(n[o.controllerAs]=i),a.data("$ngControllerController",i),a.children().data("$ngControllerController",i)),c(n)}}}e=r.module("ngRoute",["ng"]).provider("$route",function(){function e(e,t){return r.extend(new(r.extend(function(){},{prototype:e})),t)}function t(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(e,r,t,n){return e="?"===n?n:null,n="*"===n?n:null,a.push({name:t,optional:!!e}),r=r||"",""+(e?"":r)+"(?:"+(e?r:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=RegExp("^"+e+"$",t?"i":""),n}var n={};this.when=function(e,a){if(n[e]=r.extend({reloadOnSearch:!0},a,e&&t(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[o]=r.extend({redirectTo:e},t(o,a))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(t,a,o,i,c,l,u,s){function p(){var e=$(),n=d.current;e&&n&&e.$$route===n.$$route&&r.equals(e.pathParams,n.pathParams)&&!e.reloadOnSearch&&!f?(n.params=e.params,r.copy(n.params,o),t.$broadcast("$routeUpdate",n)):(e||n)&&(f=!1,t.$broadcast("$routeChangeStart",e,n),(d.current=e)&&e.redirectTo&&(r.isString(e.redirectTo)?a.path(h(e.redirectTo,e.params)).search(e.params).replace():a.url(e.redirectTo(e.pathParams,a.path(),a.search())).replace()),i.when(e).then(function(){if(e){var t,n,a=r.extend({},e.resolve);return r.forEach(a,function(e,t){a[t]=r.isString(e)?c.get(e):c.invoke(e)}),r.isDefined(t=e.template)?r.isFunction(t)&&(t=t(e.params)):r.isDefined(n=e.templateUrl)&&(r.isFunction(n)&&(n=n(e.params)),n=s.getTrustedResourceUrl(n),r.isDefined(n)&&(e.loadedTemplateUrl=n,t=l.get(n,{cache:u}).then(function(e){return e.data}))),r.isDefined(t)&&(a.$template=t),i.all(a)}}).then(function(a){e==d.current&&(e&&(e.locals=a,r.copy(e.params,o)),t.$broadcast("$routeChangeSuccess",e,n))},function(r){e==d.current&&t.$broadcast("$routeChangeError",e,n,r)}))}function $(){var t,o;return r.forEach(n,function(n){var i;if(i=!o){var c=a.path();i=n.keys;var l={};if(n.regexp)if(c=n.regexp.exec(c)){for(var u=1,s=c.length;s>u;++u){var p=i[u-1],$="string"==typeof c[u]?decodeURIComponent(c[u]):c[u];p&&$&&(l[p.name]=$)}i=l}else i=null;else i=null;i=t=i}i&&(o=e(n,{params:r.extend({},a.search(),t),pathParams:t}),o.$$route=n)}),o||n[null]&&e(n[null],{params:{},pathParams:{}})}function h(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(.*)/),o=a[1];n.push(t[o]),n.push(a[2]||""),delete t[o]}}),n.join("")}var f=!1,d={routes:n,reload:function(){f=!0,t.$evalAsync(p)}};return t.$on("$locationChangeSuccess",p),d}]}),e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",t),e.directive("ngView",n),t.$inject=["$route","$anchorScroll","$animate"],n.$inject=["$compile","$controller","$route"]}(window,window.angular)});
;define("common:widget/ui/angular/angular-sanitize.js",function(){!function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],r=c(n,t.noop);return r.chars(e),n.join("")}function a(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function s(e,n){function r(e,r,s,o){if(r=t.lowercase(r),k[r])for(;w.last()&&y[w.last()];)a("",w.last());z[r]&&w.last()==r&&a("",r),o=v[r]||!!o,o||w.push(r);var c={};s.replace(p,function(e,t,n,r,a){var s=n||r||a||"";c[t]=i(s)}),n.start&&n.start(r,c,o)}function a(e,r){var a,s=0;if(r=t.lowercase(r))for(s=w.length-1;s>=0&&w[s]!=r;s--);if(s>=0){for(a=w.length-1;a>=s;a--)n.end&&n.end(w[a]);w.length=s}}var s,o,c,w=[],x=e;for(w.last=function(){return w[w.length-1]};e;){if(o=!0,w.last()&&C[w.last()])e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),function(e,t){return t=t.replace(d,"$1").replace(b,"$1"),n.chars&&n.chars(i(t)),""}),a("",w.last());else if(0===e.indexOf("<!--")?(s=e.indexOf("--",4),s>=0&&e.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),o=!1)):m.test(e)?(c=e.match(m),c&&(e=e.replace(c[0],""),o=!1)):g.test(e)?(c=e.match(f),c&&(e=e.substring(c[0].length),c[0].replace(f,a),o=!1)):h.test(e)&&(c=e.match(u),c&&(e=e.substring(c[0].length),c[0].replace(u,r),o=!1)),o){s=e.indexOf("<");var $=0>s?e:e.substring(0,s);e=0>s?"":e.substring(s),n.chars&&n.chars(i($))}if(e==x)throw l("badparse","The sanitizer was unable to parse the following block of html: {0}",e);x=e}a()}function i(e){if(!e)return"";var t=A.exec(e),n=t[1],r=t[3],a=t[2];return a&&(j.innerHTML=a.replace(/</g,"&lt;"),a="textContent"in j?j.textContent:j.innerText),n+a+r}function o(e){return e.replace(/&/g,"&amp;").replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var r=!1,a=t.bind(e,e.push);return{start:function(e,s,i){e=t.lowercase(e),!r&&C[e]&&(r=e),r||E[e]!==!0||(a("<"),a(e),t.forEach(s,function(r,s){var i=t.lowercase(s),c="img"===e&&"src"===i||"background"===i;T[i]!==!0||O[i]===!0&&!n(r,c)||(a(" "),a(s),a('="'),a(o(r)),a('"'))}),a(i?"/>":">"))},end:function(e){e=t.lowercase(e),r||E[e]!==!0||(a("</"),a(e),a(">")),e==r&&(r=!1)},chars:function(e){r||a(o(e))}}}var l=t.$$minErr("$sanitize"),u=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,f=/^<\s*\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,g=/^<\s*\//,d=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,w=/([^\#-~| |!])/g,v=a("area,br,col,hr,img,wbr"),x=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=a("rp,rt"),z=t.extend({},$,x),k=t.extend({},x,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=t.extend({},$,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=a("script,style"),E=t.extend({},v,k,y,z),O=a("background,cite,href,longdesc,src,usemap"),T=t.extend({},O,a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),j=document.createElement("pre"),A=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,a=/^mailto:/;return function(s,i){function o(e){e&&h.push(r(e))}function c(e,n){h.push("<a "),t.isDefined(i)&&(h.push('target="'),h.push(i),h.push('" ')),h.push('href="'),h.push(e),h.push('">'),o(n),h.push("</a>")}if(!s)return s;for(var l,u,f,p=s,h=[];l=p.match(n);)u=l[0],l[2]==l[3]&&(u="mailto:"+u),f=l.index,o(p.substr(0,f)),c(u,l[0].replace(a,"")),p=p.substring(f+l[0].length);return o(p),e(h.join(""))}}])}(window,window.angular)});
;define("common:widget/ui/angular/angular-source.js",function(t){window.jQuery=window.$=t("common:widget/ui/jquery/jquery.js"),function(t,e,n){"use strict";function r(t){return function(){var e,n=arguments[0],n="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.2.6/"+(t?t+"/":"")+n;for(e=1;e<arguments.length;e++)n=n+(1==e?"?":"&")+"p"+(e-1)+"="+encodeURIComponent("function"==typeof arguments[e]?arguments[e].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[e]?"undefined":"string"!=typeof arguments[e]?JSON.stringify(arguments[e]):arguments[e]);return Error(n)}}function i(t){if(null==t||E(t))return!1;var e=t.length;return 1===t.nodeType&&e?!0:w(t)||S(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r;if(t)if(C(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r);else if(t.forEach&&t.forEach!==o)t.forEach(e,n);else if(i(t))for(r=0;r<t.length;r++)e.call(n,t[r],r);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r);return t}function s(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n.sort()}function a(t,e,n){for(var r=s(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function u(t){return function(e,n){t(n,e)}}function c(){for(var t,e=Gn.length;e;){if(e--,t=Gn[e].charCodeAt(0),57==t)return Gn[e]="A",Gn.join("");if(90!=t)return Gn[e]=String.fromCharCode(t+1),Gn.join("");Gn[e]="0"}return Gn.unshift("0"),Gn.join("")}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){var e=t.$$hashKey;return o(arguments,function(e){e!==t&&o(e,function(e,n){t[n]=e})}),l(t,e),t}function h(t){return parseInt(t,10)}function p(t,e){return f(new(f(function(){},{prototype:t})),e)}function $(){}function d(t){return t}function v(t){return function(){return t}}function g(t){return"undefined"==typeof t}function m(t){return"undefined"!=typeof t}function y(t){return null!=t&&"object"==typeof t}function w(t){return"string"==typeof t}function x(t){return"number"==typeof t}function b(t){return"[object Date]"===Zn.call(t)}function S(t){return"[object Array]"===Zn.call(t)}function C(t){return"function"==typeof t}function k(t){return"[object RegExp]"===Zn.call(t)}function E(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function A(t){return!(!t||!(t.nodeName||t.on&&t.find))}function O(t,e,n){var r=[];return o(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r}function T(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function M(t,e){var n=T(t,e);return n>=0&&t.splice(n,1),e}function P(t,e){if(E(t)||t&&t.$evalAsync&&t.$watch)throw Xn("cpws");if(e){if(t===e)throw Xn("cpi");if(S(t))for(var n=e.length=0;n<t.length;n++)e.push(P(t[n]));else{n=e.$$hashKey,o(e,function(t,n){delete e[n]});for(var r in t)e[r]=P(t[r]);l(e,n)}}else(e=t)&&(S(t)?e=P(t,[]):b(t)?e=new Date(t.getTime()):k(t)?e=RegExp(t.source):y(t)&&(e=P(t,{})));return e}function j(t,e){e=e||{};for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"$"!==n.charAt(1)&&(e[n]=t[n]);return e}function N(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i=typeof t;if(i==typeof e&&"object"==i){if(!S(t)){if(b(t))return b(e)&&t.getTime()==e.getTime();if(k(t)&&k(e))return t.toString()==e.toString();if(t&&t.$evalAsync&&t.$watch||e&&e.$evalAsync&&e.$watch||E(t)||E(e)||S(e))return!1;i={};for(r in t)if("$"!==r.charAt(0)&&!C(t[r])){if(!N(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!i.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e[r]!==n&&!C(e[r]))return!1;return!0}if(!S(e))return!1;if((i=t.length)==e.length){for(r=0;i>r;r++)if(!N(t[r],e[r]))return!1;return!0}}return!1}function D(){return e.securityPolicy&&e.securityPolicy.isActive||e.querySelector&&!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"))}function V(t,e){var n=2<arguments.length?Qn.call(arguments,2):[];return!C(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(Qn.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function R(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)?i=n:E(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":r&&r.$evalAsync&&r.$watch&&(i="$SCOPE"),i}function q(t,e){return"undefined"==typeof t?n:JSON.stringify(t,R,e?"  ":null)}function U(t){return w(t)?JSON.parse(t):t}function I(t){return t&&0!==t.length?(t=zn(""+t),t=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)):t=!1,t}function H(t){t=Fn(t).clone();try{t.empty()}catch(e){}var n=Fn("<div>").append(t).html();try{return 3===t[0].nodeType?zn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+zn(e)})}catch(r){return zn(n)}}function F(t){try{return decodeURIComponent(t)}catch(e){}}function L(t){var e,n,r={};return o((t||"").split("&"),function(t){t&&(e=t.split("="),n=F(e[0]),m(n)&&(t=m(e[1])?F(e[1]):!0,r[n]?S(r[n])?r[n].push(t):r[n]=[r[n],t]:r[n]=t))}),r}function _(t){var e=[];return o(t,function(t,n){S(t)?o(t,function(t){e.push(z(n,!0)+(!0===t?"":"="+z(t,!0)))}):e.push(z(n,!0)+(!0===t?"":"="+z(t,!0)))}),e.length?e.join("&"):""}function B(t){return z(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function z(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function W(t,n){function r(t){t&&a.push(t)}var i,s,a=[t],u=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;o(u,function(n){u[n]=!0,r(e.getElementById(n)),n=n.replace(":","\\:"),t.querySelectorAll&&(o(t.querySelectorAll("."+n),r),o(t.querySelectorAll("."+n+"\\:"),r),o(t.querySelectorAll("["+n+"]"),r))}),o(a,function(t){if(!i){var e=c.exec(" "+t.className+" ");e?(i=t,s=(e[2]||"").replace(/\s+/g,",")):o(t.attributes,function(e){!i&&u[e.name]&&(i=t,s=e.value)})}}),i&&n(i,s?[s]:[])}function Q(n,r){var i=function(){if(n=Fn(n),n.injector()){var t=n[0]===e?"document":H(n);throw Xn("btstrpd",t)}return r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.unshift("ng"),t=be(r),t.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),t},s=/^NG_DEFER_BOOTSTRAP!/;return t&&!s.test(t.name)?i():(t.name=t.name.replace(s,""),void(Kn.resumeBootstrap=function(t){o(t,function(t){r.push(t)}),i()}))}function J(t,e){return e=e||"_",t.replace(tr,function(t,n){return(n?e:"")+t.toLowerCase()})}function Z(t,e,n){if(!t)throw Xn("areq",e||"?",n||"required");return t}function X(t,e,n){return n&&S(t)&&(t=t[t.length-1]),Z(C(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function K(t,e){if("hasOwnProperty"===t)throw Xn("badname",e)}function G(t,e,n){if(!e)return t;e=e.split(".");for(var r,i=t,o=e.length,s=0;o>s;s++)r=e[s],t&&(t=(i=t)[r]);return!n&&C(t)?V(i,t):t}function Y(t){var e=t[0];if(t=t[t.length-1],e===t)return Fn(e);var n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==t);return Fn(n)}function te(t){var e=r("$injector"),n=r("ng");return t=t.angular||(t.angular={}),t.$$minErr=t.$$minErr||r,t.module||(t.module=function(){var t={};return function(r,i,o){if("hasOwnProperty"===r)throw n("badname","module");return i&&t.hasOwnProperty(r)&&(t[r]=null),t[r]||(t[r]=function(){function t(t,e,r){return function(){return n[r||"push"]([t,e,arguments]),u}}if(!i)throw e("nomod",r);var n=[],s=[],a=t("$injector","invoke"),u={_invokeQueue:n,_runBlocks:s,requires:i,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:a,run:function(t){return s.push(t),this}};return o&&a(o),u}())}}())}function ee(t){return t.replace(ar,function(t,e,n,r){return r?n.toUpperCase():n}).replace(ur,"Moz$1")}function ne(t,e,n,r){function i(t){var i,s,a,u,c,l,f=n&&t?[this.filter(t)]:[this],h=e;if(!r||null!=t)for(;f.length;)for(i=f.shift(),s=0,a=i.length;a>s;s++)for(u=Fn(i[s]),h?u.triggerHandler("$destroy"):h=!h,c=0,u=(l=u.children()).length;u>c;c++)f.push(Ln(l[c]));return o.apply(this,arguments)}var o=Ln.fn[t],o=o.$original||o;i.$original=o,Ln.fn[t]=i}function re(t){if(t instanceof re)return t;if(!(this instanceof re)){if(w(t)&&"<"!=t.charAt(0))throw cr("nosel");return new re(t)}if(w(t)){var n=e.createElement("div");n.innerHTML="<div>&#160;</div>"+t,n.removeChild(n.firstChild),pe(this,n.childNodes),Fn(e.createDocumentFragment()).append(this)}else pe(this,t)}function ie(t){return t.cloneNode(!0)}function oe(t){ae(t);var e=0;for(t=t.childNodes||[];e<t.length;e++)oe(t[e])}function se(t,e,n,r){if(m(r))throw cr("offargs");var i=ue(t,"events");ue(t,"handle")&&(g(e)?o(i,function(e,n){sr(t,n,e),delete i[n]}):o(e.split(" "),function(e){g(n)?(sr(t,e,i[e]),delete i[e]):M(i[e]||[],n)}))}function ae(t,e){var r=t[rr],i=nr[r];i&&(e?delete nr[r].data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),se(t)),delete nr[r],t[rr]=n))}function ue(t,e,n){var r=t[rr],r=nr[r||-1];return m(n)?(r||(t[rr]=r=++ir,r=nr[r]={}),void(r[e]=n)):r&&r[e]}function ce(t,e,n){var r=ue(t,"data"),i=m(n),o=!i&&m(e),s=o&&!y(e);if(r||s||ue(t,"data",r={}),i)r[e]=n;else{if(!o)return r;if(s)return r&&r[e];f(r,e)}}function le(t,e){return t.getAttribute?-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" "):!1}function fe(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Yn((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Yn(e)+" "," ")))})}function he(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Yn(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Yn(n))}}function pe(t,e){if(e){e=e.nodeName||!m(e.length)||E(e)?[e]:e;for(var n=0;n<e.length;n++)t.push(e[n])}}function $e(t,e){return de(t,"$"+(e||"ngController")+"Controller")}function de(t,e,r){for(t=Fn(t),9==t[0].nodeType&&(t=t.find("html")),e=S(e)?e:[e];t.length;){for(var i=0,o=e.length;o>i;i++)if((r=t.data(e[i]))!==n)return r;t=t.parent()}}function ve(t){for(var e=0,n=t.childNodes;e<n.length;e++)oe(n[e]);for(;t.firstChild;)t.removeChild(t.firstChild)}function ge(t,e){var n=fr[e.toLowerCase()];return n&&hr[t.nodeName]&&n}function me(t,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||e),g(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,s.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||!1===r.returnValue};var a=j(n[i||r.type]||[]);o(a,function(e){e.call(t,r)}),8>=Hn?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=t,r}function ye(t){var e,r=typeof t;return"object"==r&&null!==t?"function"==typeof(e=t.$$hashKey)?e=t.$$hashKey():e===n&&(e=t.$$hashKey=c()):e=t,r+":"+e}function we(t){o(t,this.put,this)}function xe(t){var e,n;return"function"==typeof t?(e=t.$inject)||(e=[],t.length&&(n=t.toString().replace(vr,""),n=n.match(pr),o(n[1].split($r),function(t){t.replace(dr,function(t,n,r){e.push(r)})})),t.$inject=e):S(t)?(n=t.length-1,X(t[n],"fn"),e=t.slice(0,n)):X(t,"fn",!0),e}function be(t){function e(t){return function(e,n){return y(e)?void o(e,u(t)):t(e,n)}}function n(t,e){if(K(t,"service"),(C(e)||S(e))&&(e=p.instantiate(e)),!e.$get)throw gr("pget",t);return h[t+c]=e}function r(t,e){return n(t,{$get:e})}function i(t){var e,n,r,s,a=[];return o(t,function(t){if(!f.get(t)){f.put(t,!0);try{if(w(t))for(e=_n(t),a=a.concat(i(e.requires)).concat(e._runBlocks),n=e._invokeQueue,r=0,s=n.length;s>r;r++){var o=n[r],u=p.get(o[0]);u[o[1]].apply(u,o[2])}else C(t)?a.push(p.invoke(t)):S(t)?a.push(p.invoke(t)):X(t,"module")}catch(c){throw S(t)&&(t=t[t.length-1]),c.message&&c.stack&&-1==c.stack.indexOf(c.message)&&(c=c.message+"\n"+c.stack),gr("modulerr",t,c.stack||c.message||c)}}}),a}function s(t,e){function n(n){if(t.hasOwnProperty(n)){if(t[n]===a)throw gr("cdep",l.join(" <- "));return t[n]}try{return l.unshift(n),t[n]=a,t[n]=e(n)}finally{l.shift()}}function r(t,e,r){var i,o,s,a=[],u=xe(t);for(o=0,i=u.length;i>o;o++){if(s=u[o],"string"!=typeof s)throw gr("itkn",s);a.push(r&&r.hasOwnProperty(s)?r[s]:n(s))}return t.$inject||(t=t[i]),t.apply(e,a)}return{invoke:r,instantiate:function(t,e){var n,i=function(){};return i.prototype=(S(t)?t[t.length-1]:t).prototype,i=new i,n=r(t,i,e),y(n)||C(n)?n:i},get:n,annotate:xe,has:function(e){return h.hasOwnProperty(e+c)||t.hasOwnProperty(e)}}}var a={},c="Provider",l=[],f=new we,h={$provide:{provider:e(n),factory:e(r),service:e(function(t,e){return r(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return r(t,v(e))}),constant:e(function(t,e){K(t,"constant"),h[t]=e,d[t]=e}),decorator:function(t,e){var n=p.get(t+c),r=n.$get;n.$get=function(){var t=g.invoke(r,n);return g.invoke(e,null,{$delegate:t})}}}},p=h.$injector=s(h,function(){throw gr("unpr",l.join(" <- "))}),d={},g=d.$injector=s(d,function(t){return t=p.get(t+c),g.invoke(t.$get,t)});return o(i(t),function(t){g.invoke(t||$)}),g}function Se(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return o(t,function(t){e||"a"!==zn(t.nodeName)||(e=t)}),e}function s(){var t,r=n.hash();r?(t=a.getElementById(r))?t.scrollIntoView():(t=i(a.getElementsByName(r)))?t.scrollIntoView():"top"===r&&e.scrollTo(0,0):e.scrollTo(0,0)}var a=e.document;return t&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(s)}),s}]}function Ce(t,e,r,i){function s(t){try{t.apply(null,Qn.call(arguments,1))}finally{if(m--,0===m)for(;y.length;)try{y.pop()()}catch(e){r.error(e)}}}function a(t,e){!function n(){o(b,function(t){t()}),x=e(n,t)}()}function u(){k=null,S!=c.url()&&(S=c.url(),o(E,function(t){t(c.url())}))}var c=this,l=e[0],f=t.location,h=t.history,p=t.setTimeout,d=t.clearTimeout,v={};c.isMock=!1;var m=0,y=[];c.$$completeOutstandingRequest=s,c.$$incOutstandingRequestCount=function(){m++},c.notifyWhenNoOutstandingRequests=function(t){o(b,function(t){t()}),0===m?t():y.push(t)};var x,b=[];c.addPollFn=function(t){return g(x)&&a(100,p),b.push(t),t};var S=f.href,C=e.find("base"),k=null;c.url=function(e,n){return f!==t.location&&(f=t.location),e?S!=e?(S=e,i.history?n?h.replaceState(null,"",e):(h.pushState(null,"",e),C.attr("href",C.attr("href"))):(k=e,n?f.replace(e):f.href=e),c):void 0:k||f.href.replace(/%27/g,"'")};var E=[],A=!1;c.onUrlChange=function(e){return A||(i.history&&Fn(t).on("popstate",u),i.hashchange?Fn(t).on("hashchange",u):c.addPollFn(u),A=!0),E.push(e),e},c.baseHref=function(){var t=C.attr("href");return t?t.replace(/^https?\:\/\/[^\/]*/,""):""};var O={},T="",M=c.baseHref();c.cookies=function(t,e){var i,o,s,a;if(!t){if(l.cookie!==T)for(T=l.cookie,i=T.split("; "),O={},s=0;s<i.length;s++)o=i[s],a=o.indexOf("="),a>0&&(t=unescape(o.substring(0,a)),O[t]===n&&(O[t]=unescape(o.substring(a+1))));return O}e===n?l.cookie=escape(t)+"=;path="+M+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(e)&&(i=(l.cookie=escape(t)+"="+escape(e)+";path="+M).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},c.defer=function(t,e){var n;return m++,n=p(function(){delete v[n],s(t)},e||0),v[n]=!0,n},c.defer.cancel=function(t){return v[t]?(delete v[t],d(t),s($),!0):!1}}function ke(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Ce(t,r,e,n)}]}function Ee(){this.$get=function(){function t(t,n){function i(t){t!=h&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid",t);var s=0,a=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,p=null;return e[t]={put:function(t,e){var n=l[t]||(l[t]={key:t});return i(n),g(e)?void 0:(t in u||s++,u[t]=e,s>c&&this.remove(p.key),e)},get:function(t){var e=l[t];return e?(i(e),u[t]):void 0},remove:function(t){var e=l[t];e&&(e==h&&(h=e.p),e==p&&(p=e.n),o(e.n,e.p),delete l[t],delete u[t],s--)},removeAll:function(){u={},s=0,l={},h=p=null},destroy:function(){l=a=u=null,delete e[t]},info:function(){return f({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ae(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Oe(t,r){var i={},s="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,c=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,l=/^(on[a-z]+|formaction)$/;this.directive=function h(e,n){return K(e,"directive"),w(e)?(Z(n,"directiveFactory"),i.hasOwnProperty(e)||(i[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return o(i[e],function(i,o){try{var s=t.invoke(i);C(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"A",r.push(s)}catch(a){n(a)}}),r}])),i[e].push(n)):o(e,u(h)),this},this.aHrefSanitizationWhitelist=function(t){return m(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return m(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,u,h,$,g,m,x,b,k,E,A){function O(t,e,n,r,i){t instanceof Fn||(t=Fn(t)),o(t,function(e,n){3==e.nodeType&&e.nodeValue.match(/\S+/)&&(t[n]=Fn(e).wrap("<span></span>").parent()[0])});var s=M(t,e,t,n,r,i);return T(t,"ng-scope"),function(e,n,r){Z(e,"scope");var i=n?lr.clone.call(t):t;o(r,function(t,e){i.data("$"+e+"Controller",t)}),r=0;for(var a=i.length;a>r;r++){var u=i[r].nodeType;1!==u&&9!==u||i.eq(r).data("$scope",e)}return n&&n(i,e),s&&s(e,i,i),i}}function T(t,e){try{t.addClass(e)}catch(n){}}function M(t,e,r,i,o,s){function a(t,r,i,o){var s,a,u,c,l,f,p;s=r.length;var $=Array(s);for(l=0;s>l;l++)$[l]=r[l];for(p=l=0,f=h.length;f>l;p++)a=$[p],r=h[l++],s=h[l++],u=Fn(a),r?(r.scope?(c=t.$new(),u.data("$scope",c)):c=t,(u=r.transclude)||!o&&e?r(s,c,a,i,P(t,u||e)):r(s,c,a,i,o)):s&&s(t,a.childNodes,n,o)}for(var u,c,l,f,h=[],p=0;p<t.length;p++)u=new Y,c=D(t[p],[],u,0===p?i:n,o),(s=c.length?U(c,t[p],u,e,r,null,[],[],s):null)&&s.scope&&T(Fn(t[p]),"ng-scope"),u=s&&s.terminal||!(l=t[p].childNodes)||!l.length?null:M(l,s?s.transclude:e),h.push(s,u),f=f||s||u,s=null;return f?a:null}function P(t,e){return function(n,r,i){var o=!1;return n||(n=t.$new(),o=n.$$transcluded=!0),r=e(n,r,i),o&&r.on("$destroy",V(n,n.$destroy)),r}}function D(t,e,n,r,i){var o,s=n.$attr;switch(t.nodeType){case 1:F(e,Te(Bn(t).toLowerCase()),"E",r,i);var u,l,f;o=t.attributes;for(var h=0,p=o&&o.length;p>h;h++){var $=!1,d=!1;if(u=o[h],!Hn||Hn>=8||u.specified){l=u.name,f=Te(l),re.test(f)&&(l=J(f.substr(6),"-"));var v=f.replace(/(Start|End)$/,"");f===v+"Start"&&($=l,d=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f=Te(l.toLowerCase()),s[f]=l,n[f]=u=Yn(u.value),ge(t,f)&&(n[f]=!0),X(t,e,u,f),F(e,f,"A",r,i,$,d)}}if(t=t.className,w(t)&&""!==t)for(;o=c.exec(t);)f=Te(o[2]),F(e,f,"C",r,i)&&(n[f]=Yn(o[3])),t=t.substr(o.index+o[0].length);break;case 3:W(e,t.nodeValue);break;case 8:try{(o=a.exec(t.nodeValue))&&(f=Te(o[1]),F(e,f,"M",r,i)&&(n[f]=Yn(o[2])))}catch(g){}}return e.sort(B),e}function R(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw wr("uterdir",e,n);1==t.nodeType&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Fn(r)}function q(t,e,n){return function(r,i,o,s,a){return i=R(i[0],e,n),t(r,i,o,s,a)}}function U(t,i,s,a,c,l,f,h,p){function $(t,e,n,r){t&&(n&&(t=q(t,n,r)),t.require=M.require,(E===M||M.$$isolateScope)&&(t=G(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=q(e,n,r)),e.require=M.require,(E===M||M.$$isolateScope)&&(e=G(e,{isolateScope:!0})),h.push(e))}function d(t,e,n){var r,i="data",s=!1;if(w(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(i="inheritedData"),s=s||"?"==r;if(r=null,n&&"data"===i&&(r=n[t]),r=r||e[i]("$"+t+"Controller"),!r&&!s)throw wr("ctreq",t,P)}else S(t)&&(r=[],o(t,function(t){r.push(d(t,e,n))}));return r}function v(t,e,a,c,l){function p(t,e){var r;return 2>arguments.length&&(e=t,t=n),B&&(r=C),l(t,e,r)}var $,v,y,w,x,b,S,C={};if($=i===a?s:j(s,new Y(Fn(a),s.$attr)),v=$.$$element,E){var O=/^\s*([@=&])(\??)\s*(\w*)\s*$/;c=Fn(a),b=e.$new(!0),A&&A===E.$$originalDirective?c.data("$isolateScope",b):c.data("$isolateScopeNoTemplate",b),T(c,"ng-isolate-scope"),o(E.scope,function(t,n){var i,o,s,a,u=t.match(O)||[],c=u[3]||n,l="?"==u[2],u=u[1];switch(b.$$isolateBindings[n]=u+c,u){case"@":$.$observe(c,function(t){b[n]=t}),$.$$observers[c].$$scope=e,$[c]&&(b[n]=r($[c])(e));break;case"=":if(l&&!$[c])break;o=g($[c]),a=o.literal?N:function(t,e){return t===e},s=o.assign||function(){throw i=b[n]=o(e),wr("nonassign",$[c],E.name)},i=b[n]=o(e),b.$watch(function(){var t=o(e);return a(t,b[n])||(a(t,i)?s(e,t=b[n]):b[n]=t),i=t},null,o.literal);break;case"&":o=g($[c]),b[n]=function(t){return o(e,t)};break;default:throw wr("iscp",E.name,n,t)}})}for(S=l&&p,k&&o(k,function(t){var n,r={$scope:t===E||t.$$isolateScope?b:e,$element:v,$attrs:$,$transclude:S};x=t.controller,"@"==x&&(x=$[t.name]),n=m(x,r),C[t.name]=n,B||v.data("$"+t.name+"Controller",n),t.controllerAs&&(r.$scope[t.controllerAs]=n)}),c=0,y=f.length;y>c;c++)try{(w=f[c])(w.isolateScope?b:e,v,$,w.require&&d(w.require,v,C),S)}catch(M){u(M,H(v))}for(c=e,E&&(E.template||null===E.templateUrl)&&(c=b),t&&t(c,a.childNodes,n,l),c=h.length-1;c>=0;c--)try{(w=h[c])(w.isolateScope?b:e,v,$,w.require&&d(w.require,v,C),S)}catch(P){u(P,H(v))}}p=p||{};var x,b=-Number.MAX_VALUE,k=p.controllerDirectives,E=p.newIsolateScopeDirective,A=p.templateDirective;p=p.nonTlbTranscludeDirective;for(var M,P,V,U,F=!1,B=!1,W=s.$$element=Fn(i),Q=a,J=0,Z=t.length;Z>J;J++){M=t[J];var X=M.$$start,te=M.$$end;if(X&&(W=R(i,X,te)),V=n,b>M.priority)break;if((V=M.scope)&&(x=x||M,M.templateUrl||(z("new/isolated scope",E,M,W),y(V)&&(E=M))),P=M.name,!M.templateUrl&&M.controller&&(V=M.controller,k=k||{},z("'"+P+"' controller",k[P],M,W),k[P]=M),(V=M.transclude)&&(F=!0,M.$$tlb||(z("transclusion",p,M,W),p=M),"element"==V?(B=!0,b=M.priority,V=R(i,X,te),W=s.$$element=Fn(e.createComment(" "+P+": "+s[P]+" ")),i=W[0],K(c,Fn(Qn.call(V,0)),i),Q=O(V,a,b,l&&l.name,{nonTlbTranscludeDirective:p})):(V=Fn(ie(i)).contents(),W.empty(),Q=O(V,a))),M.template)if(z("template",A,M,W),A=M,V=C(M.template)?M.template(W,s):M.template,V=ne(V),M.replace){if(l=M,V=Fn("<div>"+Yn(V)+"</div>").contents(),i=V[0],1!=V.length||1!==i.nodeType)throw wr("tplrt",P,"");K(c,W,i),Z={$attr:{}},V=D(i,[],Z);var ee=t.splice(J+1,t.length-(J+1));E&&I(V),t=t.concat(V).concat(ee),L(s,Z),Z=t.length}else W.html(V);if(M.templateUrl)z("template",A,M,W),A=M,M.replace&&(l=M),v=_(t.splice(J,t.length-J),W,s,c,Q,f,h,{controllerDirectives:k,newIsolateScopeDirective:E,templateDirective:A,nonTlbTranscludeDirective:p}),Z=t.length;else if(M.compile)try{U=M.compile(W,s,Q),C(U)?$(null,U,X,te):U&&$(U.pre,U.post,X,te)}catch(re){u(re,H(W))}M.terminal&&(v.terminal=!0,b=Math.max(b,M.priority))}return v.scope=x&&!0===x.scope,v.transclude=F&&Q,v}function I(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function F(e,r,o,a,c,l,f){if(r===c)return null;if(c=null,i.hasOwnProperty(r)){var h;r=t.get(r+s);for(var $=0,d=r.length;d>$;$++)try{h=r[$],(a===n||a>h.priority)&&-1!=h.restrict.indexOf(o)&&(l&&(h=p(h,{$$start:l,$$end:f})),e.push(h),c=h)}catch(v){u(v)}}return c}function L(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(T(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function _(t,e,n,r,i,s,a,u){var c,l,p=[],d=e[0],v=t.shift(),g=f({},v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),m=C(v.templateUrl)?v.templateUrl(e,n):v.templateUrl;return e.empty(),h.get(k.getTrustedResourceUrl(m),{cache:$}).success(function(f){var h,$;if(f=ne(f),v.replace){if(f=Fn("<div>"+Yn(f)+"</div>").contents(),h=f[0],1!=f.length||1!==h.nodeType)throw wr("tplrt",v.name,m);f={$attr:{}},K(r,e,h);var w=D(h,[],f);y(v.scope)&&I(w),t=w.concat(t),L(n,f)}else h=d,e.html(f);for(t.unshift(g),c=U(t,h,n,i,e,v,s,a,u),o(r,function(t,n){t==h&&(r[n]=e[0])}),l=M(e[0].childNodes,i);p.length;){f=p.shift(),$=p.shift();var x=p.shift(),b=p.shift(),w=e[0];$!==d&&(w=ie(h),K(x,Fn($),w)),$=c.transclude?P(f,c.transclude):b,c(l,f,w,r,$)}p=null}).error(function(t,e,n,r){throw wr("tpload",r.url)}),function(t,e,n,r,i){p?(p.push(e),p.push(n),p.push(r),p.push(i)):c(l,e,n,r,i)}}function B(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function z(t,e,n,r){if(e)throw wr("multidir",e.name,n.name,t,H(r))}function W(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:v(function(t,e){var r=e.parent(),i=r.data("$binding")||[];i.push(n),T(r.data("$binding",i),"ng-binding"),t.$watch(n,function(t){e[0].nodeValue=t})})})}function Q(t,e){if("srcdoc"==e)return k.HTML;var n=Bn(t);return"xlinkHref"==e||"FORM"==n&&"action"==e||"IMG"!=n&&("src"==e||"ngSrc"==e)?k.RESOURCE_URL:void 0}function X(t,e,n,i){var o=r(n,!0);if(o){if("multiple"===i&&"SELECT"===Bn(t))throw wr("selmulti",H(t));e.push({priority:100,compile:function(){return{pre:function(e,n,s){if(n=s.$$observers||(s.$$observers={}),l.test(i))throw wr("nodomevents");(o=r(s[i],!0,Q(t,i)))&&(s[i]=o(e),(n[i]||(n[i]=[])).$$inter=!0,(s.$$observers&&s.$$observers[i].$$scope||e).$watch(o,function(t,e){"class"===i&&t!=e?s.$updateClass(t,e):s.$set(i,t)}))}}}})}}function K(t,n,r){var i,o,s=n[0],a=n.length,u=s.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==s){t[i++]=r,o=i+a-1;for(var c=t.length;c>i;i++,o++)c>o?t[i]=t[o]:delete t[i];t.length-=a-1;break}for(u&&u.replaceChild(r,s),t=e.createDocumentFragment(),t.appendChild(s),r[Fn.expando]=s[Fn.expando],s=1,a=n.length;a>s;s++)u=n[s],Fn(u).remove(),t.appendChild(u),delete n[s];n[0]=r,n.length=1}function G(t,e){return f(function(){return t.apply(null,arguments)},t,e)}var Y=function(t,e){this.$$element=t,this.$attr=e||{}};Y.prototype={$normalize:Te,$addClass:function(t){t&&0<t.length&&E.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&E.removeClass(this.$$element,t)},$updateClass:function(t,e){this.$removeClass(Me(e,t)),this.$addClass(Me(t,e))},$set:function(t,e,r,i){var s=ge(this.$$element[0],t);s&&(this.$$element.prop(t,e),i=s),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=J(t,"-")),s=Bn(this.$$element),("A"===s&&"href"===t||"IMG"===s&&"src"===t)&&(this[t]=e=A(e,"src"===t)),!1!==r&&(null===e||e===n?this.$$element.removeAttr(i):this.$$element.attr(i,e)),(r=this.$$observers)&&o(r[t],function(t){try{t(e)}catch(n){u(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers={}),i=r[t]||(r[t]=[]);return i.push(e),x.$evalAsync(function(){i.$$inter||e(n[t])}),e}};var te=r.startSymbol(),ee=r.endSymbol(),ne="{{"==te||"}}"==ee?d:function(t){return t.replace(/\{\{/g,te).replace(/}}/g,ee)},re=/^ngAttr[A-Z]/;return O}]}function Te(t){return ee(t.replace(xr,""))}function Me(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/),o=0;t:for(;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue t;n+=(0<n.length?" ":"")+s}return n}function Pe(){var t={},e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){K(e,"controller"),y(e)?f(t,e):t[e]=n},this.$get=["$injector","$window",function(n,i){return function(o,s){var a,u,c;if(w(o)&&(a=o.match(e),u=a[1],c=a[3],o=t.hasOwnProperty(u)?t[u]:G(s.$scope,u,!0)||G(i,u,!0),X(o,u,!0)),a=n.instantiate(o,s),c){if(!s||"object"!=typeof s.$scope)throw r("$controller")("noscp",u||o.name,c);s.$scope[c]=a}return a}}]}function je(){this.$get=["$window",function(t){return Fn(t.document)}]}function Ne(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function De(t){var e,n,r,i={};return t?(o(t.split("\n"),function(t){r=t.indexOf(":"),e=zn(Yn(t.substr(0,r))),n=Yn(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+(", "+n):n)}),i):i}function Ve(t){var e=y(t)?t:n;return function(n){return e||(e=De(t)),n?e[zn(n)]||null:e}}function Re(t,e,n){return C(n)?n(t,e):(o(n,function(n){t=n(t,e)}),t)}function qe(){var t=/^\s*(\[|\{[^\{])/,e=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},s=this.defaults={transformResponse:[function(n){return w(n)&&(n=n.replace(r,""),t.test(n)&&e.test(n)&&(n=U(n))),n}],transformRequest:[function(t){return y(t)&&"[object File]"!==Zn.call(t)?q(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:i,put:i,patch:i},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},u=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(t,e,r,i,l,h){function p(t){function r(t){var e=f({},t,{data:Re(t.data,t.headers,i.transformResponse)});return 200<=t.status&&300>t.status?e:l.reject(e)}var i={transformRequest:s.transformRequest,transformResponse:s.transformResponse},a=function(t){function e(t){var e;o(t,function(n,r){C(n)&&(e=n(),null!=e?t[r]=e:delete t[r])})}var n,r,i=s.headers,a=f({},t.headers),i=f({},i.common,i[zn(t.method)]);e(i),e(a);t:for(n in i){t=zn(n);for(r in a)if(zn(r)===t)continue t;a[n]=i[n]}return a}(t);f(i,t),i.headers=a,i.method=Wn(i.method),(t=bn(i.url)?e.cookies()[i.xsrfCookieName||s.xsrfCookieName]:n)&&(a[i.xsrfHeaderName||s.xsrfHeaderName]=t);var u=[function(t){a=t.headers;var e=Re(t.data,Ve(a),t.transformRequest);return g(t.data)&&o(a,function(t,e){"content-type"===zn(e)&&delete a[e]}),g(t.withCredentials)&&!g(s.withCredentials)&&(t.withCredentials=s.withCredentials),$(t,e,a).then(r,r)},n],c=l.when(i);for(o(x,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&u.push(t.response,t.responseError)});u.length;){t=u.shift();var h=u.shift(),c=c.then(t,h)}return c.success=function(t){return c.then(function(e){t(e.data,e.status,e.headers,i)}),c},c.error=function(t){return c.then(null,function(e){t(e.data,e.status,e.headers,i)}),c},c}function $(e,n,r){function o(t,e,n){c&&(t>=200&&300>t?c.put(w,[t,e,De(n)]):c.remove(w)),a(e,t,n),i.$$phase||i.$apply()}function a(t,n,r){n=Math.max(n,0),(n>=200&&300>n?h.resolve:h.reject)({data:t,status:n,headers:Ve(r),config:e})}function u(){var t=T(p.pendingRequests,e);-1!==t&&p.pendingRequests.splice(t,1)}var c,f,h=l.defer(),$=h.promise,w=d(e.url,e.params);if(p.pendingRequests.push(e),$.then(u,u),(e.cache||s.cache)&&!1!==e.cache&&"GET"==e.method&&(c=y(e.cache)?e.cache:y(s.cache)?s.cache:v),c)if(f=c.get(w),m(f)){if(f.then)return f.then(u,u),f;S(f)?a(f[1],f[0],P(f[2])):a(f,200,{})}else c.put(w,$);return g(f)&&t(e.method,w,n,o,r,e.timeout,e.withCredentials,e.responseType),$}function d(t,e){if(!e)return t;var n=[];return a(e,function(t,e){null===t||g(t)||(S(t)||(t=[t]),o(t,function(t){y(t)&&(t=q(t)),n.push(z(e)+"="+z(t))}))}),t+(-1==t.indexOf("?")?"?":"&")+n.join("&")}var v=r("$http"),x=[];return o(u,function(t){x.unshift(w(t)?h.get(t):h.invoke(t))}),o(c,function(t,e){var n=w(t)?h.get(t):h.invoke(t);x.splice(e,0,{response:function(t){return n(l.when(t))},responseError:function(t){return n(l.reject(t))}})}),p.pendingRequests=[],function(){o(arguments,function(t){p[t]=function(e,n){return p(f(n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(){o(arguments,function(t){p[t]=function(e,n,r){return p(f(r||{},{method:t,url:e,data:n}))
}})}("post","put"),p.defaults=s,p}]}function Ue(){this.$get=["$browser","$window","$document",function(t,e,n){return Ie(t,br,t.defer,e.angular.callbacks,n[0])}]}function Ie(t,e,n,r,i){function s(t,e){var n=i.createElement("script"),r=function(){n.onreadystatechange=n.onload=n.onerror=null,i.body.removeChild(n),e&&e()};return n.type="text/javascript",n.src=t,Hn&&8>=Hn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=function(){r()},i.body.appendChild(n),r}var a=-1;return function(i,u,c,l,f,h,p,d){function v(){y=a,x&&x(),b&&b.abort()}function g(e,r,i,o){var s=xn(u).protocol;S&&n.cancel(S),x=b=null,r="file"==s&&0===r?i?200:404:r,e(1223==r?204:r,i,o),t.$$completeOutstandingRequest($)}var y;if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==zn(i)){var w="_"+(r.counter++).toString(36);r[w]=function(t){r[w].data=t};var x=s(u.replace("JSON_CALLBACK","angular.callbacks."+w),function(){r[w].data?g(l,200,r[w].data):g(l,y||-2),delete r[w]})}else{var b=new e;b.open(i,u,!0),o(f,function(t,e){m(t)&&b.setRequestHeader(e,t)}),b.onreadystatechange=function(){if(4==b.readyState){var t=null,e=null;y!==a&&(t=b.getAllResponseHeaders(),e=b.responseType?b.response:b.responseText),g(l,y||b.status,e,t)}},p&&(b.withCredentials=!0),d&&(b.responseType=d),b.send(c||null)}if(h>0)var S=n(v,h);else h&&h.then&&h.then(v)}}function He(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(o,u,c){for(var l,f,h=0,p=[],$=o.length,d=!1,v=[];$>h;)-1!=(l=o.indexOf(t,h))&&-1!=(f=o.indexOf(e,l+s))?(h!=l&&p.push(o.substring(h,l)),p.push(h=n(d=o.substring(l+s,f))),h.exp=d,h=f+a,d=!0):(h!=$&&p.push(o.substring(h)),h=$);if(($=p.length)||(p.push(""),$=1),c&&1<p.length)throw Sr("noconcat",o);return!u||d?(v.length=$,h=function(t){try{for(var e,n=0,s=$;s>n;n++)"function"==typeof(e=p[n])&&(e=e(t),e=c?i.getTrusted(c,e):i.valueOf(e),null===e||g(e)?e="":"string"!=typeof e&&(e=q(e))),v[n]=e;return v.join("")}catch(a){t=Sr("interr",o,a.toString()),r(t)}},h.exp=o,h.parts=p,h):void 0}var s=t.length,a=e.length;return o.startSymbol=function(){return t},o.endSymbol=function(){return e},o}]}function Fe(){this.$get=["$rootScope","$window","$q",function(t,e,n){function r(r,o,s,a){var u=e.setInterval,c=e.clearInterval,l=n.defer(),f=l.promise,h=0,p=m(a)&&!a;return s=m(s)?s:0,f.then(null,null,r),f.$$intervalId=u(function(){l.notify(h++),s>0&&h>=s&&(l.resolve(h),c(f.$$intervalId),delete i[f.$$intervalId]),p||t.$apply()},o),i[f.$$intervalId]=l,f}var i={};return r.cancel=function(t){return t&&t.$$intervalId in i?(i[t.$$intervalId].reject("canceled"),clearInterval(t.$$intervalId),delete i[t.$$intervalId],!0):!1},r}]}function Le(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function _e(t){t=t.split("/");for(var e=t.length;e--;)t[e]=B(t[e]);return t.join("/")}function Be(t,e,n){t=xn(t,n),e.$$protocol=t.protocol,e.$$host=t.hostname,e.$$port=h(t.port)||kr[t.protocol]||null}function ze(t,e,n){var r="/"!==t.charAt(0);r&&(t="/"+t),t=xn(t,n),e.$$path=decodeURIComponent(r&&"/"===t.pathname.charAt(0)?t.pathname.substring(1):t.pathname),e.$$search=L(t.search),e.$$hash=decodeURIComponent(t.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function We(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Qe(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Je(t){return t.substr(0,Qe(t).lastIndexOf("/")+1)}function Ze(t,e){this.$$html5=!0,e=e||"";var r=Je(t);Be(t,this,t),this.$$parse=function(e){var n=We(r,e);if(!w(n))throw Er("ipthprfx",e,r);ze(n,this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=_(this.$$search),e=this.$$hash?"#"+B(this.$$hash):"";this.$$url=_e(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var o;return(o=We(t,i))!==n?(i=o,(o=We(e,o))!==n?r+(We("/",o)||o):t+i):(o=We(r,i))!==n?r+o:r==i+"/"?r:void 0}}function Xe(t,e){var n=Je(t);Be(t,this,t),this.$$parse=function(r){var i=We(t,r)||We(n,r),i="#"==i.charAt(0)?We(e,i):this.$$html5?i:"";if(!w(i))throw Er("ihshprfx",r,e);ze(i,this,t),r=this.$$path;var o=/^\/?.*?:(\/.*)/;0===i.indexOf(t)&&(i=i.replace(t,"")),o.exec(i)||(r=(i=o.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var n=_(this.$$search),r=this.$$hash?"#"+B(this.$$hash):"";this.$$url=_e(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$rewrite=function(e){return Qe(t)==Qe(e)?e:void 0}}function Ke(t,e){this.$$html5=!0,Xe.apply(this,arguments);var n=Je(t);this.$$rewrite=function(r){var i;return t==Qe(r)?r:(i=We(n,r))?t+e+i:n===r+"/"?n:void 0}}function Ge(t){return function(){return this[t]}}function Ye(t,e){return function(n){return g(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function tn(){var e="",n=!1;this.hashPrefix=function(t){return m(t)?(e=t,this):e},this.html5Mode=function(t){return m(t)?(n=t,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,s){function a(t){r.$broadcast("$locationChangeSuccess",u.absUrl(),t)}var u,c=i.baseHref(),l=i.url();n?(c=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(c||"/"),o=o.history?Ze:Ke):(c=Qe(l),o=Xe),u=new o(c,"#"+e),u.$$parse(u.$$rewrite(l)),s.on("click",function(e){if(!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var n=Fn(e.target);"a"!==zn(n[0].nodeName);)if(n[0]===s[0]||!(n=n.parent())[0])return;var o=n.prop("href");y(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=xn(o.animVal).href);var a=u.$$rewrite(o);o&&!n.attr("target")&&a&&!e.isDefaultPrevented()&&(e.preventDefault(),a!=i.url()&&(u.$$parse(a),r.$apply(),t.angular["ff-684208-preventDefault"]=!0))}}),u.absUrl()!=l&&i.url(u.absUrl(),!0),i.onUrlChange(function(t){u.absUrl()!=t&&(r.$broadcast("$locationChangeStart",t,u.absUrl()).defaultPrevented?i.url(u.absUrl()):(r.$evalAsync(function(){var e=u.absUrl();u.$$parse(t),a(e)}),r.$$phase||r.$digest()))});var f=0;return r.$watch(function(){var t=i.url(),e=u.$$replace;return f&&t==u.absUrl()||(f++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",u.absUrl(),t).defaultPrevented?u.$$parse(t):(i.url(u.absUrl(),e),a(t))})),u.$$replace=!1,f}),u}]}function en(){var t=!0,e=this;this.debugEnabled=function(e){return m(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||$;t=!1;try{t=!!i.apply}catch(s){}return t?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function nn(t,e){if("constructor"===t)throw Or("isecfld",e);return t}function rn(t,e){if(t){if(t.constructor===t)throw Or("isecfn",e);if(t.document&&t.location&&t.alert&&t.setInterval)throw Or("isecwindow",e);if(t.children&&(t.nodeName||t.on&&t.find))throw Or("isecdom",e)}return t}function on(t,e,r,i,o){o=o||{},e=e.split(".");for(var s,a=0;1<e.length;a++){s=nn(e.shift(),i);var u=t[s];u||(u={},t[s]=u),t=u,t.then&&o.unwrapPromises&&(Ar(i),"$$v"in t||function(t){t.then(function(e){t.$$v=e})}(t),t.$$v===n&&(t.$$v={}),t=t.$$v)}return s=nn(e.shift(),i),t[s]=r}function sn(t,e,r,i,o,s,a){return nn(t,s),nn(e,s),nn(r,s),nn(i,s),nn(o,s),a.unwrapPromises?function(a,u){var c,l=u&&u.hasOwnProperty(t)?u:a;return null==l?l:((l=l[t])&&l.then&&(Ar(s),"$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),null==l?e?n:l:((l=l[e])&&l.then&&(Ar(s),"$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),null==l?r?n:l:((l=l[r])&&l.then&&(Ar(s),"$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),null==l?i?n:l:((l=l[i])&&l.then&&(Ar(s),"$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),null==l?o?n:l:((l=l[o])&&l.then&&(Ar(s),"$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),l)))))}:function(s,a){var u=a&&a.hasOwnProperty(t)?a:s;return null==u?u:(u=u[t],null==u?e?n:u:(u=u[e],null==u?r?n:u:(u=u[r],null==u?i?n:u:(u=u[i],null==u?o?n:u:u=u[o]))))}}function an(t,e){return nn(t,e),function(e,r){return null==e?n:(r&&r.hasOwnProperty(t)?r:e)[t]}}function un(t,e,r){return nn(t,r),nn(e,r),function(r,i){return null==r?n:(r=(i&&i.hasOwnProperty(t)?i:r)[t],null==r?n:r[e])}}function cn(t,e,r){if(Dr.hasOwnProperty(t))return Dr[t];var i,s=t.split("."),a=s.length;if(e.unwrapPromises||1!==a)if(e.unwrapPromises||2!==a)if(e.csp)i=6>a?sn(s[0],s[1],s[2],s[3],s[4],r,e):function(t,i){var o,u=0;do o=sn(s[u++],s[u++],s[u++],s[u++],s[u++],r,e)(t,i),i=n,t=o;while(a>u);return o};else{var u="var p;\n";o(s,function(t,n){nn(t,r),u+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\n'+(e.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var u=u+"return s;",c=new Function("s","k","pw",u);c.toString=v(u),i=e.unwrapPromises?function(t,e){return c(t,e,Ar)}:c}else i=un(s[0],s[1],r);else i=an(s[0],r);return"hasOwnProperty"!==t&&(Dr[t]=i),i}function ln(){var t={},e={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(t){return m(t)?(e.unwrapPromises=!!t,this):e.unwrapPromises},this.logPromiseWarnings=function(t){return m(t)?(e.logPromiseWarnings=t,this):e.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return e.csp=r.csp,Ar=function(t){e.logPromiseWarnings&&!Tr.hasOwnProperty(t)&&(Tr[t]=!0,i.warn("[$parse] Promise found in the expression `"+t+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":return t.hasOwnProperty(r)?t[r]:(i=new jr(e),i=new Nr(i,n,e).parse(r,!1),"hasOwnProperty"!==r&&(t[r]=i),i);case"function":return r;default:return $}}}]}function fn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return hn(function(e){t.$evalAsync(e)},e)}]}function hn(t,e){function r(t){return t}function i(t){return u(t)}var s=function(){var o,c,l=[];return c={resolve:function(e){if(l){var r=l;l=n,o=a(e),r.length&&t(function(){for(var t,e=0,n=r.length;n>e;e++)t=r[e],o.then(t[0],t[1],t[2])})}},reject:function(t){c.resolve(u(t))},notify:function(e){if(l){var n=l;l.length&&t(function(){for(var t,r=0,i=n.length;i>r;r++)t=n[r],t[2](e)})}},promise:{then:function(t,n,a){var u=s(),c=function(n){try{u.resolve((C(t)?t:r)(n))}catch(i){u.reject(i),e(i)}},f=function(t){try{u.resolve((C(n)?n:i)(t))}catch(r){u.reject(r),e(r)}},h=function(t){try{u.notify((C(a)?a:r)(t))}catch(n){e(n)}};return l?l.push([c,f,h]):o.then(c,f,h),u.promise},"catch":function(t){return this.then(null,t)},"finally":function(t){function e(t,e){var n=s();return e?n.resolve(t):n.reject(t),n.promise}function n(n,i){var o=null;try{o=(t||r)()}catch(s){return e(s,!1)}return o&&C(o.then)?o.then(function(){return e(n,i)},function(t){return e(t,!1)}):e(n,i)}return this.then(function(t){return n(t,!0)},function(t){return n(t,!1)})}}}},a=function(e){return e&&C(e.then)?e:{then:function(n){var r=s();return t(function(){r.resolve(n(e))}),r.promise}}},u=function(n){return{then:function(r,o){var a=s();return t(function(){try{a.resolve((C(o)?o:i)(n))}catch(t){a.reject(t),e(t)}}),a.promise}}};return{defer:s,reject:u,when:function(n,o,c,l){var f,h=s(),p=function(t){try{return(C(o)?o:r)(t)}catch(n){return e(n),u(n)}},$=function(t){try{return(C(c)?c:i)(t)}catch(n){return e(n),u(n)}},d=function(t){try{return(C(l)?l:r)(t)}catch(n){e(n)}};return t(function(){a(n).then(function(t){f||(f=!0,h.resolve(a(t).then(p,$,d)))},function(t){f||(f=!0,h.resolve($(t)))},function(t){f||h.notify(d(t))})}),h.promise},all:function(t){var e=s(),n=0,r=S(t)?[]:{};return o(t,function(t,i){n++,a(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}}}function pn(){var t=10,e=r("$rootScope"),n=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,s,a){function u(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function l(t){if(p.$$phase)throw e("inprog",p.$$phase);p.$$phase=t}function f(t,e){var n=s(t);return X(n,e),n}function h(){}u.prototype={constructor:u,$new:function(t){return t?(t=new u,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(t=function(){},t.prototype=this,t=new t,t.$id=c()),t["this"]=t,t.$$listeners={},t.$parent=this,t.$$watchers=t.$$nextSibling=t.$$childHead=t.$$childTail=null,t.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=t:this.$$childHead=this.$$childTail=t,t},$watch:function(t,e,r){var i=f(t,"watch"),o=this.$$watchers,s={fn:e,last:h,get:i,exp:t,eq:!!r};if(n=null,!C(e)){var a=f(e||$,"listener");s.fn=function(t,e,n){a(n)}}if("string"==typeof t&&i.constant){var u=s.fn;s.fn=function(t,e,n){u.call(this,t,e,n),M(o,s)}}return o||(o=this.$$watchers=[]),o.unshift(s),function(){M(o,s)}},$watchCollection:function(t,e){var n,r,o=this,a=0,u=s(t),c=[],l={},f=0;return this.$watch(function(){r=u(o);var t,e;if(y(r))if(i(r))for(n!==c&&(n=c,f=n.length=0,a++),t=r.length,f!==t&&(a++,n.length=f=t),e=0;t>e;e++)n[e]!==r[e]&&(a++,n[e]=r[e]);else{n!==l&&(n=l={},f=0,a++),t=0;for(e in r)r.hasOwnProperty(e)&&(t++,n.hasOwnProperty(e)?n[e]!==r[e]&&(a++,n[e]=r[e]):(f++,n[e]=r[e],a++));if(f>t)for(e in a++,n)n.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(f--,delete n[e])}else n!==r&&(n=r,a++);return a},function(){e(r,n,o)})},$digest:function(){var r,i,s,a,u,c,f,$,d,v,g=this.$$asyncQueue,m=this.$$postDigestQueue,y=t,w=[];l("$digest"),n=null;do{for(c=!1,f=this;g.length;){try{v=g.shift(),v.scope.$eval(v.expression)}catch(x){p.$$phase=null,o(x)}n=null}t:do{if(a=f.$$watchers)for(u=a.length;u--;)try{if(r=a[u])if((i=r.get(f))===(s=r.last)||(r.eq?N(i,s):"number"==typeof i&&"number"==typeof s&&isNaN(i)&&isNaN(s))){if(r===n){c=!1;break t}}else c=!0,n=r,r.last=r.eq?P(i):i,r.fn(i,s===h?i:s,f),5>y&&($=4-y,w[$]||(w[$]=[]),d=C(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,d+="; newVal: "+q(i)+"; oldVal: "+q(s),w[$].push(d))}catch(b){p.$$phase=null,o(b)}if(!(a=f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(a=f.$$nextSibling);)f=f.$parent}while(f=a);if(c&&!y--)throw p.$$phase=null,e("infdig",t,q(w))}while(c||g.length);for(p.$$phase=null;m.length;)try{m.shift()()}catch(S){o(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==p&&(t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(t,e){return s(t)(this,e)},$evalAsync:function(t){p.$$phase||p.$$asyncQueue.length||a.defer(function(){p.$$asyncQueue.length&&p.$digest()}),this.$$asyncQueue.push({scope:this,expression:t})},$$postDigest:function(t){this.$$postDigestQueue.push(t)},$apply:function(t){try{return l("$apply"),this.$eval(t)}catch(e){o(e)}finally{p.$$phase=null;try{p.$digest()}catch(n){throw o(n),n}}},$on:function(t,e){var n=this.$$listeners[t];return n||(this.$$listeners[t]=n=[]),n.push(e),function(){n[T(n,e)]=null}},$emit:function(t){var e,n,r,i=[],s=this,a=!1,u={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=[u].concat(Qn.call(arguments,1));do{for(e=s.$$listeners[t]||i,u.currentScope=s,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,c)}catch(l){o(l)}else e.splice(n,1),n--,r--;if(a)break;s=s.$parent}while(s);return u},$broadcast:function(t){var e,n,r=this,i=this,s={name:t,targetScope:this,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},a=[s].concat(Qn.call(arguments,1));do{for(r=i,s.currentScope=r,i=r.$$listeners[t]||[],e=0,n=i.length;n>e;e++)if(i[e])try{i[e].apply(null,a)}catch(u){o(u)}else i.splice(e,1),e--,n--;if(!(i=r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(i=r.$$nextSibling);)r=r.$parent}while(r=i);return s}};var p=new u;return p}]}function $n(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(e){return m(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return m(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return Hn&&!(Hn>=8)||(i=xn(n).href,""===i||i.match(o))?n:"unsafe:"+i}}}function dn(t){if("self"===t)return t;if(w(t)){if(-1<t.indexOf("***"))throw Vr("iwcard",t);return t=t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+t+"$")}if(k(t))return RegExp("^"+t.source+"$");throw Vr("imatcher")}function vn(t){var e=[];return m(t)&&o(t,function(t){e.push(dn(t))}),e}function gn(){this.SCE_CONTEXTS=Rr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=vn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=vn(t)),e},this.$get=["$injector",function(r){function i(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(){throw Vr("unsafe")};r.has("$sanitize")&&(o=r.get("$sanitize"));var s=i(),a={};return a[Rr.HTML]=i(s),a[Rr.CSS]=i(s),a[Rr.URL]=i(s),a[Rr.JS]=i(s),a[Rr.RESOURCE_URL]=i(a[Rr.URL]),{trustAs:function(t,e){var r=a.hasOwnProperty(t)?a[t]:null;if(!r)throw Vr("icontext",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw Vr("itype",t);return new r(e)},getTrusted:function(r,i){if(null===i||i===n||""===i)return i;var s=a.hasOwnProperty(r)?a[r]:null;if(s&&i instanceof s)return i.$$unwrapTrustedValue();if(r===Rr.RESOURCE_URL){var u,c,s=xn(i.toString()),l=!1;for(u=0,c=t.length;c>u;u++)if("self"===t[u]?bn(s):t[u].exec(s.href)){l=!0;break}if(l)for(u=0,c=e.length;c>u;u++)if("self"===e[u]?bn(s):e[u].exec(s.href)){l=!1;break}if(l)return i;throw Vr("insecurl",i.toString())}if(r===Rr.HTML)return o(i);throw Vr("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function mn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sniffer","$sceDelegate",function(e,n,r){if(t&&n.msie&&8>n.msieDocumentMode)throw Vr("iequirks");var i=P(Rr);i.isEnabled=function(){return t},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=d),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:function(e,n){return i.getTrusted(t,r(e,n))}};var s=i.parseAs,a=i.getTrusted,u=i.trustAs;return o(Rr,function(t,e){var n=zn(e);i[ee("parse_as_"+n)]=function(e){return s(t,e)},i[ee("get_trusted_"+n)]=function(e){return a(t,e)},i[ee("trust_as_"+n)]=function(e){return u(t,e)}}),i}]}function yn(){this.$get=["$window","$document",function(t,e){var n,r={},i=h((/android (\d+)/.exec(zn((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=s.documentMode,u=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,f=!1;if(c){for(var p in c)if(l=u.exec(p)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!i||l&&f||(l=w(s.body.style.webkitTransition),f=w(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>i||o),hashchange:"onhashchange"in t&&(!a||a>7),hasEvent:function(t){if("input"==t&&9==Hn)return!1;if(g(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:D(),vendorPrefix:n,transitions:l,animations:f,android:i,msie:Hn,msieDocumentMode:a}}]}function wn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(t,e,n,r){function i(i,s,a){var u=n.defer(),c=u.promise,l=m(a)&&!a;return s=e.defer(function(){try{u.resolve(i())}catch(e){u.reject(e),r(e)}finally{delete o[c.$$timeoutId]}l||t.$apply()},s),c.$$timeoutId=s,o[s]=u,c}var o={};return i.cancel=function(t){return t&&t.$$timeoutId in o?(o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},i}]}function xn(t){var e=t;return Hn&&(qr.setAttribute("href",e),e=qr.href),qr.setAttribute("href",e),{href:qr.href,protocol:qr.protocol?qr.protocol.replace(/:$/,""):"",host:qr.host,search:qr.search?qr.search.replace(/^\?/,""):"",hash:qr.hash?qr.hash.replace(/^#/,""):"",hostname:qr.hostname,port:qr.port,pathname:"/"===qr.pathname.charAt(0)?qr.pathname:"/"+qr.pathname}}function bn(t){return t=w(t)?xn(t):t,t.protocol===Ur.protocol&&t.host===Ur.host}function Sn(){this.$get=v(t)}function Cn(t){function e(r,i){if(y(r)){var s={};return o(r,function(t,n){s[n]=e(n,t)}),s}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",En),e("date",jn),e("filter",kn),e("json",Nn),e("limitTo",Dn),e("lowercase",_r),e("number",An),e("orderBy",Vn),e("uppercase",Br)}function kn(){return function(t,e,n){if(!S(t))return t;var r=typeof n,i=[];i.check=function(t){for(var e=0;e<i.length;e++)if(!i[e](t))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(t,e){return Kn.equals(t,e)}:function(t,e){return e=(""+e).toLowerCase(),-1<(""+t).toLowerCase().indexOf(e)});var o=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!o(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return n(t,e);case"object":switch(typeof e){case"object":return n(t,e);default:for(var r in t)if("$"!==r.charAt(0)&&o(t[r],e))return!0}return!1;case"array":for(r=0;r<t.length;r++)if(o(t[r],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var s in e)"$"==s?function(){if(e[s]){var t=s;i.push(function(n){return o(n,e[t])})}}():function(){if("undefined"!=typeof e[s]){var t=s;i.push(function(n){return o(G(n,t),e[t])})}}();break;case"function":i.push(e);break;default:return t}for(var r=[],a=0;a<t.length;a++){var u=t[a];i.check(u)&&r.push(u)}return r}}function En(t){var e=t.NUMBER_FORMATS;return function(t,n){return g(n)&&(n=e.CURRENCY_SYM),On(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function An(t){var e=t.NUMBER_FORMATS;return function(t,n){return On(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function On(t,e,n,r,i){if(isNaN(t)||!isFinite(t))return"";var o=0>t;t=Math.abs(t);var s=t+"",a="",u=[],c=!1;if(-1!==s.indexOf("e")){var l=s.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?s="0":(a=s,c=!0)}if(c)i>0&&t>-1&&1>t&&(a=t.toFixed(i));else{s=(s.split(Ir)[1]||"").length,g(i)&&(i=Math.min(Math.max(e.minFrac,s),e.maxFrac)),s=Math.pow(10,i),t=Math.round(t*s)/s,t=(""+t).split(Ir),s=t[0],t=t[1]||"";var l=0,f=e.lgSize,h=e.gSize;if(s.length>=f+h)for(l=s.length-f,c=0;l>c;c++)0===(l-c)%h&&0!==c&&(a+=n),a+=s.charAt(c);for(c=l;c<s.length;c++)0===(s.length-c)%f&&0!==c&&(a+=n),a+=s.charAt(c);for(;t.length<i;)t+="0";i&&"0"!==i&&(a+=r+t.substr(0,i))}return u.push(o?e.negPre:e.posPre),u.push(a),u.push(o?e.negSuf:e.posSuf),u.join("")}function Tn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function Mn(t,e,n,r){return n=n||0,function(i){return i=i["get"+t](),(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),Tn(i,e,r)}}function Pn(t,e){return function(n,r){var i=n["get"+t](),o=Wn(e?"SHORT"+t:t);return r[o][i]}}function jn(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var r=0,i=0,o=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(r=h(e[9]+e[10]),i=h(e[9]+e[11])),o.call(t,h(e[1]),h(e[2])-1,h(e[3])),r=h(e[4]||0)-r,i=h(e[5]||0)-i,o=h(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),s.call(t,r,i,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,s,a="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,w(n)&&(n=Lr.test(n)?h(n):e(n)),x(n)&&(n=new Date(n)),!b(n))return n;for(;r;)(s=Fr.exec(r))?(u=u.concat(Qn.call(s,1)),r=u.pop()):(u.push(r),r=null);return o(u,function(e){i=Hr[e],a+=i?i(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Nn(){return function(t){return q(t,!0)}}function Dn(){return function(t,e){if(!S(t)&&!w(t))return t;if(e=h(e),w(t))return e?e>=0?t.slice(0,e):t.slice(e,t.length):"";var n,r,i=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),e>0?(n=0,r=e):(n=t.length+e,r=t.length);r>n;n++)i.push(t[n]);return i}}function Vn(t){return function(e,n,r){function i(t,e){return I(e)?function(e,n){return t(n,e)}:t}if(!S(e)||!n)return e;n=S(n)?n:[n],n=O(n,function(e){var n=!1,r=e||d;return w(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),r=t(e)),i(function(t,e){var n;n=r(t);var i=r(e),o=typeof n,s=typeof i;return o==s?("string"==o&&(n=n.toLowerCase(),i=i.toLowerCase()),n=n===i?0:i>n?-1:1):n=s>o?-1:1,n},n)});for(var o=[],s=0;s<e.length;s++)o.push(e[s]);return o.sort(i(function(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0},r))}}function Rn(t){return C(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function qn(t,e){function n(e,n){n=n?"-"+J(n,"-"):"",t.removeClass((e?ri:ni)+n).addClass((e?ni:ri)+n)}var r=this,i=t.parent().controller("form")||Qr,s=0,a=r.$error={},u=[];r.$name=e.name||e.ngForm,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,i.$addControl(r),t.addClass(ii),n(!0),r.$addControl=function(t){K(t.$name,"input"),u.push(t),t.$name&&(r[t.$name]=t)},r.$removeControl=function(t){t.$name&&r[t.$name]===t&&delete r[t.$name],o(a,function(e,n){r.$setValidity(n,!0,t)}),M(u,t)},r.$setValidity=function(t,e,o){var u=a[t];if(e)u&&(M(u,o),u.length||(s--,s||(n(e),r.$valid=!0,r.$invalid=!1),a[t]=!1,n(!0,t),i.$setValidity(t,!0,r)));else{if(s||n(e),u){if(-1!=T(u,o))return}else a[t]=u=[],s++,n(!1,t),i.$setValidity(t,!1,r);u.push(o),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){t.removeClass(ii).addClass(oi),r.$dirty=!0,r.$pristine=!1,i.$setDirty()},r.$setPristine=function(){t.removeClass(oi).addClass(ii),r.$dirty=!1,r.$pristine=!0,o(u,function(t){t.$setPristine()})}}function Un(t,e,i,o,s,a){if(!s.android){var u=!1;e.on("compositionstart",function(){u=!0}),e.on("compositionend",function(){u=!1})}var c=function(){if(!u){var n=e.val();I(i.ngTrim||"T")&&(n=Yn(n)),o.$viewValue!==n&&t.$apply(function(){o.$setViewValue(n)})}};if(s.hasEvent("input"))e.on("input",c);else{var l,f=function(){l||(l=a.defer(function(){c(),l=null}))};e.on("keydown",function(t){t=t.keyCode,91===t||t>15&&19>t||t>=37&&40>=t||f()}),s.hasEvent("paste")&&e.on("paste cut",f)}e.on("change",c),o.$render=function(){e.val(o.$isEmpty(o.$viewValue)?"":o.$viewValue)};var p=i.ngPattern,$=function(t,e){return o.$isEmpty(e)||t.test(e)?(o.$setValidity("pattern",!0),e):(o.$setValidity("pattern",!1),n)};if(p&&((s=p.match(/^\/(.*)\/([gim]*)$/))?(p=RegExp(s[1],s[2]),s=function(t){return $(p,t)}):s=function(n){var i=t.$eval(p);if(!i||!i.test)throw r("ngPattern")("noregexp",p,i,H(e));return $(i,n)},o.$formatters.push(s),o.$parsers.push(s)),i.ngMinlength){var d=h(i.ngMinlength);s=function(t){return!o.$isEmpty(t)&&t.length<d?(o.$setValidity("minlength",!1),n):(o.$setValidity("minlength",!0),t)},o.$parsers.push(s),o.$formatters.push(s)}if(i.ngMaxlength){var v=h(i.ngMaxlength);s=function(t){return!o.$isEmpty(t)&&t.length>v?(o.$setValidity("maxlength",!1),n):(o.$setValidity("maxlength",!0),t)},o.$parsers.push(s),o.$formatters.push(s)}}function In(t,e){return t="ngClass"+t,function(){return{restrict:"AC",link:function(n,r,i){function s(t){if(!0===e||n.$index%2===e){var r=a(t||"");u?N(t,u)||i.$updateClass(r,a(u)):i.$addClass(r)}u=P(t)}function a(t){if(S(t))return t.join(" ");if(y(t)){var e=[];return o(t,function(t,n){t&&e.push(n)}),e.join(" ")}return t}var u;n.$watch(i[t],s,!0),i.$observe("class",function(){s(n.$eval(i[t]))}),"ngClass"!==t&&n.$watch("$index",function(r,o){var s=1&r;if(s!==o&1){var u=a(n.$eval(i[t]));s===e?i.$addClass(u):i.$removeClass(u)}})}}}}var Hn,Fn,Ln,_n,Bn,zn=function(t){return w(t)?t.toLowerCase():t},Wn=function(t){return w(t)?t.toUpperCase():t},Qn=[].slice,Jn=[].push,Zn=Object.prototype.toString,Xn=r("ng"),Kn=t.angular||(t.angular={}),Gn=["0","0","0"];Hn=h((/msie (\d+)/.exec(zn(navigator.userAgent))||[])[1]),isNaN(Hn)&&(Hn=h((/trident\/.*; rv:(\d+)/.exec(zn(navigator.userAgent))||[])[1])),$.$inject=[],d.$inject=[];var Yn=function(){return String.prototype.trim?function(t){return w(t)?t.trim():t}:function(t){return w(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t}}();Bn=9>Hn?function(t){return t=t.nodeName?t:t[0],t.scopeName&&"HTML"!=t.scopeName?Wn(t.scopeName+":"+t.nodeName):t.nodeName}:function(t){return t.nodeName?t.nodeName:t[0].nodeName};var tr=/[A-Z]/g,er={full:"1.2.6",major:1,minor:2,dot:6,codeName:"taco-salsafication"},nr=re.cache={},rr=re.expando="ng-"+(new Date).getTime(),ir=1,or=t.document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},sr=t.document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)},ar=/([\:\-\_]+(.))/g,ur=/^moz([A-Z])/,cr=r("jqLite"),lr=re.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),re(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Fn(t>=0?this[t]:this[this.length+t])},length:0,push:Jn,sort:[].sort,splice:[].splice},fr={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){fr[zn(t)]=t});var hr={};o("input select option textarea button form details".split(" "),function(t){hr[Wn(t)]=!0}),o({data:ce,inheritedData:de,scope:function(t){return Fn(t).data("$scope")||de(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Fn(t).data("$isolateScope")||Fn(t).data("$isolateScopeNoTemplate")},controller:$e,injector:function(t){return de(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:le,css:function(t,e,r){if(e=ee(e),!m(r)){var i;return 8>=Hn&&(i=t.currentStyle&&t.currentStyle[e],""===i&&(i="auto")),i=i||t.style[e],8>=Hn&&(i=""===i?n:i),i}t.style[e]=r},attr:function(t,e,r){var i=zn(e);if(fr[i]){if(!m(r))return t[e]||(t.attributes.getNamedItem(e)||$).specified?i:n;
r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(m(r))t.setAttribute(e,r);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return m(n)?void(t[e]=n):t[e]},text:function(){function t(t,n){var r=e[t.nodeType];return g(n)?r?t[r]:"":void(t[r]=n)}var e=[];return 9>Hn?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",t.$dv="",t}(),val:function(t,e){if(g(e)){if("SELECT"===Bn(t)&&t.multiple){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(g(e))return t.innerHTML;for(var n=0,r=t.childNodes;n<r.length;n++)oe(r[n]);t.innerHTML=e},empty:ve},function(t,e){re.prototype[e]=function(e,r){var i,o;if(t!==ve&&(2==t.length&&t!==le&&t!==$e?e:r)===n){if(y(e)){for(i=0;i<this.length;i++)if(t===ce)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}i=t.$dv,o=i===n?Math.min(this.length,1):this.length;for(var s=0;o>s;s++){var a=t(this[s],e,r);i=i?i+a:a}return i}for(i=0;i<this.length;i++)t(this[i],e,r);return this}}),o({removeData:ae,dealoc:oe,on:function Li(t,n,r,i){if(m(i))throw cr("onargs");var s=ue(t,"events"),a=ue(t,"handle");s||ue(t,"events",s={}),a||ue(t,"handle",a=me(t,s)),o(n.split(" "),function(n){var i=s[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var o=e.body.contains||e.body.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1};s[n]=[],Li(t,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(t){var e=t.relatedTarget;e&&(e===this||o(this,e))||a(t,n)})}else or(t,n,a),s[n]=[];i=s[n]}i.push(r)})},off:se,one:function(t,e,n){t=Fn(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;oe(t),o(new re(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.childNodes||[]},append:function(t,e){o(new re(e),function(e){1!==t.nodeType&&11!==t.nodeType||t.appendChild(e)})},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;o(new re(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Fn(e)[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:function(t){oe(t);var e=t.parentNode;e&&e.removeChild(t)},after:function(t,e){var n=t,r=t.parentNode;o(new re(e),function(t){r.insertBefore(t,n.nextSibling),n=t})},addClass:he,removeClass:fe,toggleClass:function(t,e,n){g(n)&&(n=!le(t,e)),(n?he:fe)(t,e)},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(t=t.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ie,triggerHandler:function(t,e,n){e=(ue(t,"events")||{})[e],n=n||[];var r=[{preventDefault:$,stopPropagation:$}];o(e,function(e){e.apply(t,r.concat(n))})}},function(t,e){re.prototype[e]=function(e,n,r){for(var i,o=0;o<this.length;o++)g(i)?(i=t(this[o],e,n,r),m(i)&&(i=Fn(i))):pe(i,t(this[o],e,n,r));return m(i)?i:this},re.prototype.bind=re.prototype.on,re.prototype.unbind=re.prototype.off}),we.prototype={put:function(t,e){this[ye(t)]=e},get:function(t){return this[ye(t)]},remove:function(t){var e=this[t=ye(t)];return delete this[t],e}};var pr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,$r=/,/,dr=/^\s*(_?)(\S+?)\1\s*$/,vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,gr=r("$injector"),mr=r("$animate"),yr=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw mr("notcsel",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$timeout",function(t){return{enter:function(e,n,r,i){r?r.after(e):(n&&n[0]||(n=r.parent()),n.append(e)),i&&t(i,0,!1)},leave:function(e,n){e.remove(),n&&t(n,0,!1)},move:function(t,e,n,r){this.enter(t,e,n,r)},addClass:function(e,n,r){n=w(n)?n:S(n)?n.join(" "):"",o(e,function(t){he(t,n)}),r&&t(r,0,!1)},removeClass:function(e,n,r){n=w(n)?n:S(n)?n.join(" "):"",o(e,function(t){fe(t,n)}),r&&t(r,0,!1)},enabled:$}}]}],wr=r("$compile");Oe.$inject=["$provide","$$sanitizeUriProvider"];var xr=/^(x[\:\-_]|data[\:\-_])/i,br=t.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw r("$httpBackend")("noxhr")},Sr=r("$interpolate"),Cr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,kr={http:80,https:443,ftp:21},Er=r("$location");Ke.prototype=Xe.prototype=Ze.prototype={$$html5:!1,$$replace:!1,absUrl:Ge("$$absUrl"),url:function(t,e){if(g(t))return this.$$url;var n=Cr.exec(t);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",e),this},protocol:Ge("$$protocol"),host:Ge("$$host"),port:Ge("$$port"),path:Ye("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t))this.$$search=L(t);else{if(!y(t))throw Er("isrcharg");this.$$search=t}break;default:g(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ye("$$hash",d),replace:function(){return this.$$replace=!0,this}};var Ar,Or=r("$parse"),Tr={},Mr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:$,"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),m(r)?m(i)?r+i:r:m(i)?i:n},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(m(n)?n:0)-(m(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"^":function(t,e,n,r){return n(t,e)^r(t,e)},"=":$,"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"&":function(t,e,n,r){return n(t,e)&r(t,e)},"|":function(t,e,n,r){return r(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}},Pr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},jr=function(t){this.options=t};jr.prototype={constructor:jr,lex:function(t){this.text=t,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];var e;for(t=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===t[0]&&(e=this.tokens[this.tokens.length-1])&&(e.json=-1===e.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&t.unshift(this.ch),this.is("}]")&&t.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var r=this.ch+this.peek(),i=r+this.peek(2),o=Mr[this.ch],s=Mr[r],a=Mr[i];a?(this.tokens.push({index:this.index,text:i,fn:a}),this.index+=3):s?(this.tokens.push({index:this.index,text:r,fn:s}),this.index+=2):o?(this.tokens.push({index:this.index,text:this.ch,fn:o,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},was:function(t){return-1!==t.indexOf(this.lastCh)},peek:function(t){return t=t||1,this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(t){return t>="0"&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=m(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Or("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=zn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t*=1,this.tokens.push({index:e,text:t,json:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,n,r,i=this,o="",s=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(t=this.index),o+=r,this.index++;if(t)for(e=this.index;e<this.text.length;){if(r=this.text.charAt(e),"("===r){n=o.substr(t-s+1),o=o.substr(0,t-s),this.index=e;break}if(!this.isWhitespace(r))break;e++}if(s={index:s,text:o},Mr.hasOwnProperty(o))s.fn=Mr[o],s.json=Mr[o];else{var a=cn(o,this.options,this.text);s.fn=f(function(t,e){return a(t,e)},{assign:function(t,e){return on(t,o,e,i.text,i.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:t,text:".",json:!1}),this.tokens.push({index:t+1,text:n,json:!1}))},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(o=this.text.substring(this.index+1,this.index+5),o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n=(i=Pr[o])?n+i:n+o,i=!1;else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,string:n,json:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Nr=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};Nr.ZERO=function(){return 0},Nr.prototype={constructor:Nr,parse:function(t,e){this.text=t,this.json=e,this.tokens=this.lexer.lex(t),e&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:t,index:0})});var n=e?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var t;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var e=this.expect();(t=e.fn)||this.throwError("not a primary expression",e),e.json&&(t.constant=!0,t.literal=!0)}for(var n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw Or("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw Or("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,r){if(0<this.tokens.length){var i=this.tokens[0],o=i.text;if(o===t||o===e||o===n||o===r||!(t||e||n||r))return i}return!1},expect:function(t,e,n,r){return(t=this.peek(t,e,n,r))?(this.json&&!t.json&&this.throwError("is not valid json",t),this.tokens.shift(),t):!1},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,e){return f(function(n,r){return t(n,r,e)},{constant:e.constant})},ternaryFn:function(t,e,n){return f(function(r,i){return t(r,i)?e(r,i):n(r,i)},{constant:t.constant&&e.constant&&n.constant})},binaryFn:function(t,e,n){return f(function(r,i){return e(r,i,t,n)},{constant:t.constant&&n.constant})},statements:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0;i<t.length;i++){var o=t[i];o&&(r=o(e,n))}return r}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var t=this.expect(),e=this.$filter(t.text),n=[];;){if(!(t=this.expect(":"))){var r=function(t,r,i){i=[i];for(var o=0;o<n.length;o++)i.push(n[o](t,r));return e.apply(t,i)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),function(e,r){return n.assign(e,t(e,r),r)}):n},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")?(t=this.ternary(),(e=this.expect(":"))?this.ternaryFn(n,t,this.ternary()):void this.throwError("expected :",e)):n},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(Nr.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var e=this,n=this.expect().text,r=cn(n,this.options,this.text);return f(function(e,n,i){return r(i||t(e,n),n)},{assign:function(r,i,o){return on(t(r,o),n,i,e.text,e.options)}})},objectIndex:function(t){var e=this,r=this.expression();return this.consume("]"),f(function(i,o){var s,a=t(i,o),u=r(i,o);return a?((a=rn(a[u],e.text))&&a.then&&e.options.unwrapPromises&&(s=a,"$$v"in a||(s.$$v=n,s.then(function(t){s.$$v=t})),a=a.$$v),a):n},{assign:function(n,i,o){var s=r(n,o);return rn(t(n,o),e.text)[s]=i}})},functionCall:function(t,e){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,o){for(var s=[],a=e?e(i,o):i,u=0;u<n.length;u++)s.push(n[u](i,o));return u=t(i,o,a)||$,rn(a,r.text),rn(u,r.text),s=u.apply?u.apply(a,s):u(s[0],s[1],s[2],s[3],s[4]),rn(s,r.text)}},arrayDeclaration:function(){var t=[],e=!0;if("]"!==this.peekToken().text)do{var n=this.expression();t.push(n),n.constant||(e=!1)}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var r=[],i=0;i<t.length;i++)r.push(t[i](e,n));return r},{literal:!0,constant:e})},object:function(){var t=[],e=!0;if("}"!==this.peekToken().text)do{var n=this.expect(),n=n.string||n.text;this.consume(":");var r=this.expression();t.push({key:n,value:r}),r.constant||(e=!1)}while(this.expect(","));return this.consume("}"),f(function(e,n){for(var r={},i=0;i<t.length;i++){var o=t[i];r[o.key]=o.value(e,n)}return r},{literal:!0,constant:e})}};var Dr={},Vr=r("$sce"),Rr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},qr=e.createElement("a"),Ur=xn(t.location.href,!0);Cn.$inject=["$provide"],En.$inject=["$locale"],An.$inject=["$locale"];var Ir=".",Hr={yyyy:Mn("FullYear",4),yy:Mn("FullYear",2,0,!0),y:Mn("FullYear",1),MMMM:Pn("Month"),MMM:Pn("Month",!0),MM:Mn("Month",2,1),M:Mn("Month",1,1),dd:Mn("Date",2),d:Mn("Date",1),HH:Mn("Hours",2),H:Mn("Hours",1),hh:Mn("Hours",2,-12),h:Mn("Hours",1,-12),mm:Mn("Minutes",2),m:Mn("Minutes",1),ss:Mn("Seconds",2),s:Mn("Seconds",1),sss:Mn("Milliseconds",3),EEEE:Pn("Day"),EEE:Pn("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){return t=-1*t.getTimezoneOffset(),t=(t>=0?"+":"")+(Tn(Math[t>0?"floor":"ceil"](t/60),2)+Tn(Math.abs(t%60),2))}},Fr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Lr=/^\-?\d+$/;jn.$inject=["$locale"];var _r=v(zn),Br=v(Wn);Vn.$inject=["$parse"];var zr=v({restrict:"E",compile:function(t,n){return 8>=Hn&&(n.href||n.name||n.$set("href",""),t.append(e.createComment("IE fix"))),n.href||n.name?void 0:function(t,e){e.on("click",function(t){e.attr("href")||t.preventDefault()})}}}),Wr={};o(fr,function(t,e){if("multiple"!=t){var n=Te("ng-"+e);Wr[n]=function(){return{priority:100,compile:function(){return function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}}),o(["src","srcset","href"],function(t){var e=Te("ng-"+t);Wr[e]=function(){return{priority:99,link:function(n,r,i){i.$observe(e,function(e){e&&(i.$set(t,e),Hn&&r.prop(t,i[t]))})}}}});var Qr={$addControl:$,$removeControl:$,$setValidity:$,$setDirty:$,$setPristine:$};qn.$inject=["$element","$attrs","$scope"];var Jr=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:qn,compile:function(){return{pre:function(t,r,i,o){if(!i.action){var s=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1};or(r[0],"submit",s),r.on("$destroy",function(){e(function(){sr(r[0],"submit",s)},0,!1)})}var a=r.parent().controller("form"),u=i.name||i.ngForm;u&&on(t,u,o,u),a&&r.on("$destroy",function(){a.$removeControl(o),u&&on(t,u,n,u),f(o,Qr)})}}}}}]},Zr=Jr(),Xr=Jr(!0),Kr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Gr=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,Yr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ti={text:Un,number:function(t,e,r,i,o,s){Un(t,e,r,i,o,s),i.$parsers.push(function(t){var e=i.$isEmpty(t);return e||Yr.test(t)?(i.$setValidity("number",!0),""===t?null:e?t:parseFloat(t)):(i.$setValidity("number",!1),n)}),i.$formatters.push(function(t){return i.$isEmpty(t)?"":""+t}),r.min&&(t=function(t){var e=parseFloat(r.min);return!i.$isEmpty(t)&&e>t?(i.$setValidity("min",!1),n):(i.$setValidity("min",!0),t)},i.$parsers.push(t),i.$formatters.push(t)),r.max&&(t=function(t){var e=parseFloat(r.max);return!i.$isEmpty(t)&&t>e?(i.$setValidity("max",!1),n):(i.$setValidity("max",!0),t)},i.$parsers.push(t),i.$formatters.push(t)),i.$formatters.push(function(t){return i.$isEmpty(t)||x(t)?(i.$setValidity("number",!0),t):(i.$setValidity("number",!1),n)})},url:function(t,e,r,i,o,s){Un(t,e,r,i,o,s),t=function(t){return i.$isEmpty(t)||Kr.test(t)?(i.$setValidity("url",!0),t):(i.$setValidity("url",!1),n)},i.$formatters.push(t),i.$parsers.push(t)},email:function(t,e,r,i,o,s){Un(t,e,r,i,o,s),t=function(t){return i.$isEmpty(t)||Gr.test(t)?(i.$setValidity("email",!0),t):(i.$setValidity("email",!1),n)},i.$formatters.push(t),i.$parsers.push(t)},radio:function(t,e,n,r){g(n.name)&&e.attr("name",c()),e.on("click",function(){e[0].checked&&t.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){e[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(t,e,n,r){var i=n.ngTrueValue,o=n.ngFalseValue;w(i)||(i=!0),w(o)||(o=!1),e.on("click",function(){t.$apply(function(){r.$setViewValue(e[0].checked)})}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t!==i},r.$formatters.push(function(t){return t===i}),r.$parsers.push(function(t){return t?i:o})},hidden:$,button:$,submit:$,reset:$},ei=["$browser","$sniffer",function(t,e){return{restrict:"E",require:"?ngModel",link:function(n,r,i,o){o&&(ti[zn(i.type)]||ti.text)(n,r,i,o,e,t)}}}],ni="ng-valid",ri="ng-invalid",ii="ng-pristine",oi="ng-dirty",si=["$scope","$exceptionHandler","$attrs","$element","$parse",function(t,e,n,i,s){function a(t,e){e=e?"-"+J(e,"-"):"",i.removeClass((t?ri:ni)+e).addClass((t?ni:ri)+e)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var u=s(n.ngModel),c=u.assign;if(!c)throw r("ngModel")("nonassign",n.ngModel,H(i));this.$render=$,this.$isEmpty=function(t){return g(t)||""===t||null===t||t!==t};var l=i.inheritedData("$formController")||Qr,f=0,h=this.$error={};i.addClass(ii),a(!0),this.$setValidity=function(t,e){h[t]!==!e&&(e?(h[t]&&f--,f||(a(!0),this.$valid=!0,this.$invalid=!1)):(a(!1),this.$invalid=!0,this.$valid=!1,f++),h[t]=!e,a(e,t),l.$setValidity(t,e,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,i.removeClass(oi).addClass(ii)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,i.removeClass(ii).addClass(oi),l.$setDirty()),o(this.$parsers,function(t){n=t(n)}),this.$modelValue!==n&&(this.$modelValue=n,c(t,n),o(this.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}}))};var p=this;t.$watch(function(){var e=u(t);if(p.$modelValue!==e){var n=p.$formatters,r=n.length;for(p.$modelValue=e;r--;)e=n[r](e);p.$viewValue!==e&&(p.$viewValue=e,p.$render())}return e})}],ai=function(){return{require:["ngModel","^?form"],controller:si,link:function(t,e,n,r){var i=r[0],o=r[1]||Qr;o.$addControl(i),t.$on("$destroy",function(){o.$removeControl(i)})}}},ui=v({require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ci=function(){return{require:"?ngModel",link:function(t,e,n,r){if(r){n.required=!0;var i=function(t){return n.required&&r.$isEmpty(t)?void r.$setValidity("required",!1):(r.$setValidity("required",!0),t)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},li=function(){return{require:"ngModel",link:function(t,e,r,i){var s=(t=/\/(.*)\//.exec(r.ngList))&&RegExp(t[1])||r.ngList||",";i.$parsers.push(function(t){if(!g(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(Yn(t))}),e}}),i.$formatters.push(function(t){return S(t)?t.join(", "):n}),i.$isEmpty=function(t){return!t||!t.length}}}},fi=/^(true|false|\d+)$/,hi=function(){return{priority:100,compile:function(t,e){return fi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},pi=Rn(function(t,e,r){e.addClass("ng-binding").data("$binding",r.ngBind),t.$watch(r.ngBind,function(t){e.text(t==n?"":t)})}),$i=["$interpolate",function(t){return function(e,n,r){e=t(n.attr(r.$attr.ngBindTemplate)),n.addClass("ng-binding").data("$binding",e),r.$observe("ngBindTemplate",function(t){n.text(t)})}}],di=["$sce","$parse",function(t,e){return function(n,r,i){r.addClass("ng-binding").data("$binding",i.ngBindHtml);var o=e(i.ngBindHtml);n.$watch(function(){return(o(n)||"").toString()},function(){r.html(t.getTrustedHtml(o(n))||"")})}}],vi=In("",!0),gi=In("Odd",0),mi=In("Even",1),yi=Rn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),wi=[function(){return{scope:!0,controller:"@",priority:500}}],xi={};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Te("ng-"+t);xi[e]=["$parse",function(n){return{compile:function(r,i){var o=n(i[e]);return function(e,n){n.on(zn(t),function(t){e.$apply(function(){o(e,{$event:t})})})}}}}]});var bi=["$animate",function(t){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,u;n.$watch(i.ngIf,function(o){I(o)?u||(u=n.$new(),s(u,function(n){n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),a={clone:n},t.enter(n,r.parent(),r)})):(u&&(u.$destroy(),u=null),a&&(t.leave(Y(a.clone)),a=null))})}}}],Si=["$http","$templateCache","$anchorScroll","$animate","$sce",function(t,e,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Kn.noop,compile:function(o,s){var a=s.ngInclude||s.src,u=s.onload||"",c=s.autoscroll;return function(o,s,l,f,h){var p,$,d=0,v=function(){p&&(p.$destroy(),p=null),$&&(r.leave($),$=null)};o.$watch(i.parseAsResourceUrl(a),function(i){var a=function(){!m(c)||c&&!o.$eval(c)||n()},l=++d;i?(t.get(i,{cache:e}).success(function(t){if(l===d){var e=o.$new();f.template=t,t=h(e,function(t){v(),r.enter(t,null,s,a)}),p=e,$=t,p.$emit("$includeContentLoaded"),o.$eval(u)}}).error(function(){l===d&&v()}),o.$emit("$includeContentRequested")):(v(),f.template=null)})}}}}],Ci=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,n,r,i){n.html(i.template),t(n.contents())(e)}}}],ki=Rn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ei=Rn({terminal:!0,priority:1e3}),Ai=["$locale","$interpolate",function(t,e){var n=/{}/g;return{restrict:"EA",link:function(r,i,s){var a=s.count,u=s.$attr.when&&i.attr(s.$attr.when),c=s.offset||0,l=r.$eval(u)||{},f={},h=e.startSymbol(),p=e.endSymbol(),$=/^when(Minus)?(.+)$/;o(s,function(t,e){$.test(e)&&(l[zn(e.replace("when","").replace("Minus","-"))]=i.attr(s.$attr[e]))}),o(l,function(t,r){f[r]=e(t.replace(n,h+a+"-"+c+p))}),r.$watch(function(){var e=parseFloat(r.$eval(a));return isNaN(e)?"":(e in l||(e=t.pluralCat(e-c)),f[e](r,i,!0))},function(t){i.text(t)})}}}],Oi=["$parse","$animate",function(t,n){var s=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,a,u,c,l){var f,h,p,$,d,v,g=u.ngRepeat,m=g.match(/^\s*(.+)\s+in\s+([\r\n\s\S]*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),y={$id:ye};if(!m)throw s("iexp",g);if(u=m[1],c=m[2],(m=m[4])?(f=t(m),h=function(t,e,n){return v&&(y[v]=t),y[d]=e,y.$index=n,f(r,y)}):(p=function(t,e){return ye(e)},$=function(t){return t}),m=u.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!m)throw s("iidexp",u);d=m[3]||m[1],v=m[2];var w={};r.$watchCollection(c,function(t){var u,c,f,m,y,x,b,S,C,k=a[0],E={},A=[];if(i(t))S=t,f=h||p;else{f=h||$,S=[];for(x in t)t.hasOwnProperty(x)&&"$"!=x.charAt(0)&&S.push(x);S.sort()}for(m=S.length,c=A.length=S.length,u=0;c>u;u++)if(x=t===S?u:S[u],b=t[x],b=f(x,b,u),K(b,"`track by` id"),w.hasOwnProperty(b))C=w[b],delete w[b],E[b]=C,A[u]=C;else{if(E.hasOwnProperty(b))throw o(A,function(t){t&&t.scope&&(w[t.id]=t)}),s("dupes",g,b);A[u]={id:b},E[b]=!1}for(x in w)w.hasOwnProperty(x)&&(C=w[x],u=Y(C.clone),n.leave(u),o(u,function(t){t.$$NG_REMOVED=!0}),C.scope.$destroy());for(u=0,c=S.length;c>u;u++){if(x=t===S?u:S[u],b=t[x],C=A[u],A[u-1]&&(k=A[u-1].clone[A[u-1].clone.length-1]),C.scope){y=C.scope,f=k;do f=f.nextSibling;while(f&&f.$$NG_REMOVED);C.clone[0]!=f&&n.move(Y(C.clone),null,Fn(k)),k=C.clone[C.clone.length-1]}else y=r.$new();y[d]=b,v&&(y[v]=x),y.$index=u,y.$first=0===u,y.$last=u===m-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0===(1&u)),C.scope||l(y,function(t){t[t.length++]=e.createComment(" end ngRepeat: "+g+" "),n.enter(t,null,Fn(k)),k=t,C.scope=y,C.clone=t,E[C.id]=C})}w=E})}}}],Ti=["$animate",function(t){return function(e,n,r){e.$watch(r.ngShow,function(e){t[I(e)?"removeClass":"addClass"](n,"ng-hide")})}}],Mi=["$animate",function(t){return function(e,n,r){e.$watch(r.ngHide,function(e){t[I(e)?"addClass":"removeClass"](n,"ng-hide")})}}],Pi=Rn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ji=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,n,r,i){var s,a,u=[];e.$watch(r.ngSwitch||r.on,function(n){for(var c=0,l=u.length;l>c;c++)u[c].$destroy(),t.leave(a[c]);a=[],u=[],(s=i.cases["!"+n]||i.cases["?"])&&(e.$eval(r.change),o(s,function(n){var r=e.$new();u.push(r),n.transclude(r,function(e){var r=n.element;a.push(e),t.enter(e,r.parent(),r)})}))})}}}],Ni=Rn({transclude:"element",priority:800,require:"^ngSwitch",compile:function(t,e){return function(t,n,r,i,o){i.cases["!"+e.ngSwitchWhen]=i.cases["!"+e.ngSwitchWhen]||[],i.cases["!"+e.ngSwitchWhen].push({transclude:o,element:n})}}}),Di=Rn({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Vi=Rn({controller:["$element","$transclude",function(t,e){if(!e)throw r("ngTransclude")("orphan",H(t));this.$transclude=e}],link:function(t,e,n,r){r.$transclude(function(t){e.empty(),e.append(t)})}}),Ri=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],qi=r("ngOptions"),Ui=v({terminal:!0}),Ii=["$compile","$parse",function(t,r){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,a={$setViewValue:$};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i=this,o={},s=a;i.databound=n.ngModel,i.init=function(t,e,n){s=t,r=n},i.addOption=function(e){K(e,'"option value"'),o[e]=!0,s.$viewValue==e&&(t.val(e),r.parent()&&r.remove())},i.removeOption=function(t){this.hasOption(t)&&(delete o[t],s.$viewValue==t&&this.renderUnknownOption(t))},i.renderUnknownOption=function(e){e="? "+ye(e)+" ?",r.val(e),t.prepend(r),t.val(e),r.prop("selected",!0)},i.hasOption=function(t){return o.hasOwnProperty(t)},e.$on("$destroy",function(){i.renderUnknownOption=$})}],link:function(a,u,c,l){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(C.parent()&&C.remove(),e.val(t),""===t&&d.prop("selected",!0)):g(t)&&d?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var r;n.$render=function(){var t=new we(n.$viewValue);o(e.find("option"),function(e){e.selected=m(t.get(e.value))})},t.$watch(function(){N(r,n.$viewValue)||(r=P(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function p(e,o,a){function u(){var t,n,r,i,u,c={"":[]},y=[""];i=a.$modelValue,u=d(e)||[];var k,E,A,O=h?s(u):u;E={},r=!1;var T,M;if(v)if(g&&S(i))for(r=new we([]),A=0;A<i.length;A++)E[f]=i[A],r.put(g(e,E),i[A]);else r=new we(i);for(A=0;k=O.length,k>A;A++){if(n=A,h){if(n=O[A],"$"===n.charAt(0))continue;E[h]=n}E[f]=u[n],t=p(e,E)||"",(n=c[t])||(n=c[t]=[],y.push(t)),v?t=m(r.remove(g?g(e,E):$(e,E))):(g?(t={},t[f]=i,t=g(e,t)===g(e,E)):t=i===$(e,E),r=r||t),T=l(e,E),T=m(T)?T:"",n.push({id:g?g(e,E):h?O[A]:A,label:T,selected:t})}for(v||(w||null===i?c[""].unshift({id:"",label:"",selected:!r}):r||c[""].unshift({id:"?",label:"",selected:!0})),E=0,O=y.length;O>E;E++){for(t=y[E],n=c[t],C.length<=E?(i={element:b.clone().attr("label",t),label:n.label},u=[i],C.push(u),o.append(i.element)):(u=C[E],i=u[0],i.label!=t&&i.element.attr("label",i.label=t)),T=null,A=0,k=n.length;k>A;A++)r=n[A],(t=u[A+1])?(T=t.element,t.label!==r.label&&T.text(t.label=r.label),t.id!==r.id&&T.val(t.id=r.id),T[0].selected!==r.selected&&T.prop("selected",t.selected=r.selected)):(""===r.id&&w?M=w:(M=x.clone()).val(r.id).attr("selected",r.selected).text(r.label),u.push({element:M,label:r.label,id:r.id,selected:r.selected}),T?T.after(M):i.element.append(M),T=M);for(A++;u.length>A;)u.pop().element.remove()}for(;C.length>E;)C.pop()[0].element.remove()}var c;if(!(c=y.match(i)))throw qi("iexp",y,H(o));var l=r(c[2]||c[1]),f=c[4]||c[6],h=c[5],p=r(c[3]||""),$=r(c[2]?c[1]:f),d=r(c[7]),g=c[8]?r(c[8]):null,C=[[{element:o,label:""}]];w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),o.empty(),o.on("change",function(){e.$apply(function(){var t,r,i,s,u,c,l,p,m=d(e)||[],y={};
if(v){for(i=[],u=0,l=C.length;l>u;u++)for(t=C[u],s=1,c=t.length;c>s;s++)if((r=t[s].element)[0].selected){if(r=r.val(),h&&(y[h]=r),g)for(p=0;p<m.length&&(y[f]=m[p],g(e,y)!=r);p++);else y[f]=m[r];i.push($(e,y))}}else if(r=o.val(),"?"==r)i=n;else if(""===r)i=null;else if(g){for(p=0;p<m.length;p++)if(y[f]=m[p],g(e,y)==r){i=$(e,y);break}}else y[f]=m[r],h&&(y[h]=r),i=$(e,y);a.$setViewValue(i)})}),a.$render=u,e.$watch(u)}if(l[1]){var $=l[0];l=l[1];var d,v=c.multiple,y=c.ngOptions,w=!1,x=Fn(e.createElement("option")),b=Fn(e.createElement("optgroup")),C=x.clone();c=0;for(var k=u.children(),E=k.length;E>c;c++)if(""===k[c].value){d=w=k.eq(c);break}$.init(l,w,C),v&&(l.$isEmpty=function(t){return!t||0===t.length}),y?p(a,u,l):v?h(a,u,l):f(a,u,l,$)}}}}],Hi=["$interpolate",function(t){var e={addOption:$,removeOption:$};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.databound?n.prop("selected",!1):s=e,i?t.$watch(i,function(t,e){r.$set("value",t),t!==e&&s.removeOption(e),s.addOption(t)}):s.addOption(r.value),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Fi=v({restrict:"E",terminal:!0});(Ln=t.jQuery)?(Fn=Ln,f(Ln.fn,{scope:lr.scope,isolateScope:lr.isolateScope,controller:lr.controller,injector:lr.injector,inheritedData:lr.inheritedData}),ne("remove",!0,!0,!1),ne("empty",!1,!1,!1),ne("html",!1,!1,!0)):Fn=re,Kn.element=Fn,function(e){f(e,{bootstrap:Q,copy:P,extend:f,equals:N,element:Fn,forEach:o,injector:be,noop:$,bind:V,toJson:q,fromJson:U,identity:d,isUndefined:g,isDefined:m,isString:w,isFunction:C,isObject:y,isNumber:x,isElement:A,isArray:S,version:er,isDate:b,lowercase:zn,uppercase:Wn,callbacks:{counter:0},$$minErr:r,$$csp:D}),_n=te(t);try{_n("ngLocale")}catch(n){_n("ngLocale",[]).provider("$locale",Le)}_n("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:$n}),t.provider("$compile",Oe).directive({a:zr,input:ei,textarea:ei,form:Zr,script:Ri,select:Ii,style:Fi,option:Hi,ngBind:pi,ngBindHtml:di,ngBindTemplate:$i,ngClass:vi,ngClassEven:mi,ngClassOdd:gi,ngCloak:yi,ngController:wi,ngForm:Xr,ngHide:Mi,ngIf:bi,ngInclude:Si,ngInit:ki,ngNonBindable:Ei,ngPluralize:Ai,ngRepeat:Oi,ngShow:Ti,ngStyle:Pi,ngSwitch:ji,ngSwitchWhen:Ni,ngSwitchDefault:Di,ngOptions:Ui,ngTransclude:Vi,ngModel:ai,ngList:li,ngChange:ui,required:ci,ngRequired:ci,ngValue:hi}).directive({ngInclude:Ci}).directive(Wr).directive(xi),t.provider({$anchorScroll:Se,$animate:yr,$browser:ke,$cacheFactory:Ee,$controller:Pe,$document:je,$exceptionHandler:Ne,$filter:Cn,$interpolate:He,$interval:Fe,$http:qe,$httpBackend:Ue,$location:tn,$log:en,$parse:ln,$rootScope:pn,$q:fn,$sce:mn,$sceDelegate:gn,$sniffer:yn,$templateCache:Ae,$timeout:wn,$window:Sn})}])}(Kn),Fn(e).ready(function(){W(e,Q)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),window.jQuery=window.$=null});
;define("common:widget/ui/angular/angular-ui.js",function(){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function a(e){for(var t in e)if(void 0!==r.style[t])return e[t]}var i=function(a,r,o){o=o||{};var l=e.defer(),s=i[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(s,c),l.resolve(a)})};return s&&a.bind(s,c),t(function(){angular.isString(r)?a.addClass(r):angular.isFunction(r)?r(a):angular.isObject(r)&&a.css(r),s||l.resolve(a)}),l.promise.cancel=function(){s&&a.unbind(s,c),l.reject("Transition cancelled")},l.promise},r=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=a(o),i.animationEndEventName=a(l),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,a){function i(t){function a(){c===i&&(c=void 0)}var i=e(n,t);return c&&c.cancel(),c=i,i.then(a,a),i}function r(){u?(u=!1,o()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function l(){if(u)u=!1,s(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(s)}}function s(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;t.$watch(a.collapse,function(e){e?l():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.$watch("isOpen",function(t){t&&a.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],r=a[1];r.$render=function(){t.toggleClass(i.activeClass,angular.equals(r.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){r.$setViewValue(a?null:e.$eval(n.btnRadio)),r.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){function i(){return o(n.btnCheckboxTrue,!0)}function r(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}var l=a[0],s=a[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?r():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(e,t,n){function a(){i();var n=+e.interval;!isNaN(n)&&n>=0&&(o=t(r,n))}function i(){o&&(t.cancel(o),o=null)}function r(){l?(e.next(),a()):e.pause()}var o,l,s=this,c=s.slides=e.slides=[],u=-1;s.currentSlide=null;var p=!1;s.select=e.select=function(i,r){function o(){if(!p){if(s.currentSlide&&angular.isString(r)&&!e.noTransition&&i.$element){i.$element.addClass(r);{i.$element[0].offsetWidth}angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:r,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:r,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){l(t,n)},function(){l(t,n)})}(i,s.currentSlide)}else l(i,s.currentSlide);s.currentSlide=i,u=d,a()}}function l(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var d=c.indexOf(i);void 0===r&&(r=d>u?"next":"prev"),i&&i!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){p=!0}),s.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(u+1)%c.length;return e.$currentTransition?void 0:s.select(c[t],"next")},e.prev=function(){var t=0>u-1?c.length-1:u-1;return e.$currentTransition?void 0:s.select(c[t],"prev")},e.isActive=function(e){return s.currentSlide===e},e.$watch("interval",a),e.$on("$destroy",i),e.play=function(){l||(l=!0,a())},e.pause=function(){e.noPause||(l=!1,i())},s.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(s.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?s.select(t>=c.length?c[t-1]:c[t]):u>t&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var a={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.createParser=function(e){var n=[],i=e.split("");return angular.forEach(a,function(t,a){var r=e.indexOf(a);if(r>-1){e=e.split(""),i[r]="("+t.regex+")",e[r]="$";for(var o=r+1,l=r+a.length;l>o;o++)i[o]="",e[o]="$";e=e.join(""),n.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}},this.parse=function(t,a){if(!angular.isString(t))return t;a=e.DATETIME_FORMATS[a]||a,this.parsers[a]||(this.parsers[a]=this.createParser(a));var i=this.parsers[a],r=i.regex,o=i.map,l=t.match(r);if(l&&l.length){for(var s,c={year:1900,month:0,date:1,hours:0},u=1,p=l.length;p>u;u++){var d=o[u-1];d.apply&&d.apply.call(c,l[u])}return n(c.year,c.month,c.date)&&(s=new Date(c.year,c.month,c.date,c.hours)),s}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},r=i(t[0]);r!=e[0]&&(a=this.offset(angular.element(r)),a.top+=r.clientTop-r.scrollTop,a.left+=r.clientLeft-r.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,r,o,l,s=n.split("-"),c=s[0],u=s[1]||"center";i=a?this.offset(e):this.position(e),r=t.prop("offsetWidth"),o=t.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":l={top:d[u](),left:p[c]()};break;case"left":l={top:d[u](),left:i.left-r};break;case"bottom":l={top:d[c](),left:p[u]()};break;default:l={top:i.top-o,left:p[u]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,a,i,r,o,l){var s=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){s[n]=angular.isDefined(t[n])?8>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){s[a]=e?new Date(e):null,s.refreshView()}):s[a]=l[a]?new Date(l[a]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){s.render()}},this.render=function(){if(c.$modelValue){var e=new Date(c.$modelValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===s.minMode){var n=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){s.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?s[t]:29}function o(e,t){var n=new Array(t),a=new Date(e),i=0;for(a.setHours(12);t>i;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var s=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),r=new Date(n,a,1),s=i.startingDay-r.getDay(),c=s>0?7-s:-s,u=new Date(r);c>0&&u.setDate(-c+1);for(var p=o(u,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==a,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var g=0;7>g;g++)t.labels[g]={abbr:e(p[g].date,i.formatDayHeader),full:e(p[g].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(p,7),t.showWeeks){t.weekNumbers=[];for(var m=l(t.rows[0][0].date),f=t.rows.length;t.weekNumbers.push(m++)<f;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(r(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),a=i.activeDate.getFullYear(),r=0;12>r;r++)n[r]=angular.extend(i.createDateObject(new Date(a,r,1),i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/r,10)*r+1}var r=a.yearRange;a.step={years:r},a.element=t,a._refreshView=function(){for(var t=new Array(r),n=0,o=i(a.activeDate.getFullYear());r>n;n++)t[n]=angular.extend(a.createDateObject(new Date(o+n,0,1),a.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[r-1].label].join(" - "),e.rows=a.split(t,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+r-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,a,i,r,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(l,s,c,u){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){if(e){if(angular.isDate(e)&&!isNaN(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=r.parse(e,g)||new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}var g,m=angular.isDefined(c.closeOnDateSelection)?l.$parent.$eval(c.closeOnDateSelection):o.closeOnDateSelection,f=angular.isDefined(c.datepickerAppendToBody)?l.$parent.$eval(c.datepickerAppendToBody):o.appendToBody;l.showButtonBar=angular.isDefined(c.showButtonBar)?l.$parent.$eval(c.showButtonBar):o.showButtonBar,l.getText=function(e){return l[e+"Text"]||o[e+"Text"]},c.$observe("datepickerPopup",function(e){g=e||o.datepickerPopup,u.$render()});var h=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");h.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(h.children()[0]);c.datepickerOptions&&angular.forEach(l.$parent.$eval(c.datepickerOptions),function(e,t){v.attr(p(t),e)}),angular.forEach(["minDate","maxDate"],function(e){c[e]&&(l.$parent.$watch(t(c[e]),function(t){l[e]=t}),v.attr(p(e),e))}),c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(d),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e),u.$setViewValue(l.date),u.$render(),m&&(l.isOpen=!1,s[0].focus())},s.bind("input change keyup",function(){l.$apply(function(){l.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,g):"";s.val(e),l.date=d(u.$modelValue)};var b=function(e){l.isOpen&&e.target!==s[0]&&l.$apply(function(){l.isOpen=!1})},$=function(e){l.keydown(e)};s.bind("keydown",$),l.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=f?a.offset(s):a.position(s),l.position.top=l.position.top+s.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(u.$modelValue)?(e=new Date(u.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,s[0].focus()};var y=e(h)(l);f?n.find("body").append(y):s.after(y),l.$on("$destroy",function(){y.remove(),s.unbind("keydown",$),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",a)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",a))};var n=function(e){e&&e.isDefaultPrevented()||t.$apply(function(){t.isOpen=!1})},a=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,a,i,r){var o,l=this,s=e.$new(),c=a.openClass,u=angular.noop,p=t.onToggle?n(t.onToggle):angular.noop;this.init=function(a){l.$element=a,t.isOpen&&(o=n(t.isOpen),u=o.assign,e.$watch(o,function(e){s.isOpen=!!e}))},this.toggle=function(e){return s.isOpen=arguments.length?!!e:!s.isOpen},this.isOpen=function(){return s.isOpen},s.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},s.$watch("isOpen",function(t,n){r[t?"addClass":"removeClass"](l.$element,c),t?(s.focusToggleElement(),i.open(s)):i.close(s),u(e,t),angular.isDefined(t)&&t!==n&&p(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){s.isOpen=!1}),e.$on("$destroy",function(){s.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,a){a.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,t,n,a){if(a){a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,a[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,a,i,r){function o(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e}function l(e){var t=n.find("body").eq(0),a=g.get(e).value;g.remove(e),c(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),t.toggleClass(d,g.length()>0),s()})}function s(){if(u&&-1==o()){var e=p;c(u,p,150,function(){e.$destroy(),e=null}),u=void 0,p=void 0}}function c(n,a,i,r){function o(){o.done||(o.done=!0,n.remove(),r&&r())}a.animate=!1;var l=e.transitionEndEventName;if(l){var s=t(o,i);n.bind(l,function(){t.cancel(s),o(),a.$apply()})}else t(o,0)}var u,p,d="modal-open",g=r.createNew(),m={};return i.$watch(o,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=g.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){m.dismiss(t.key,"escape key press")})))}),m.open=function(e,t){g.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var r=n.find("body").eq(0),l=o();l>=0&&!u&&(p=i.$new(!0),p.index=l,u=a("<div modal-backdrop></div>")(p),r.append(u));var s=angular.element("<div modal-window></div>");s.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:g.length()-1,animate:"animate"}).html(t.content);var c=a(s)(t.scope);g.top().value.modalDomEl=c,r.append(c),r.addClass(d)},m.close=function(e,t){var n=g.get(e).value;n&&(n.deferred.resolve(t),l(e))},m.dismiss=function(e,t){var n=g.get(e).value;n&&(n.deferred.reject(t),l(e))},m.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},m.getTop=function(){return g.top()},m}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,a,i,r,o,l){function s(e){return e.template?a.when(e.template):i.get(e.templateUrl,{cache:r}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(a.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=a.defer(),r=a.defer(),u={result:i.promise,opened:r.promise,close:function(e){l.close(u,e)},dismiss:function(e){l.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=a.all([s(t)].concat(c(t.resolve)));return p.then(function(e){var a=(t.scope||n).$new();a.$close=u.close,a.$dismiss=u.dismiss;var r,s={},c=1;t.controller&&(s.$scope=a,s.$modalInstance=u,angular.forEach(t.resolve,function(t,n){s[n]=e[c++]}),r=o(t.controller,s)),l.open(u,{scope:a,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),p.then(function(){r.resolve(!0)},function(){r.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},r=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,o){i=r,this.config=o,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){r(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,r){function o(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],a=1,i=t,r=angular.isDefined(u)&&t>u;r&&(p?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var l=a;i>=l;l++){var s=o(l,l,l===e);n.push(s)}if(r&&!p){if(a>1){var c=o(a-1,"...",!1);n.unshift(c)}if(t>i){var d=o(i+1,"...",!1);n.push(d)}}return n}var s=r[0],c=r[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,s.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),s.render()});var d=s.render;s.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,a,i){var r=i[0],o=i[1];o&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,r.init(o,e))
}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,r,o,l,s,c,u){return function(i,p,d){function g(e){var t=e||m.trigger||d,a=n[t]||t;return{show:t,hide:a}}var m=angular.extend({},t,a),f=e(i),h=u.startSymbol(),v=u.endSymbol(),b="<div "+f+'-popup title="'+h+"tt_title"+v+'" content="'+h+"tt_content"+v+'" placement="'+h+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var e=r(b);return function(t,n,a){function r(){t.tt_isOpen?d():u()}function u(){(!D||t.$eval(a[p+"Enable"]))&&(t.tt_popupDelay?w||(w=o(f,t.tt_popupDelay,!1),w.then(function(e){e()})):f()())}function d(){t.$apply(function(){h()})}function f(){return w=null,y&&(o.cancel(y),y=null),t.tt_content?(v(),$.css({top:0,left:0,display:"block"}),k?s.find("body").append($):n.after($),M(),t.tt_isOpen=!0,t.$digest(),M):angular.noop}function h(){t.tt_isOpen=!1,o.cancel(w),w=null,t.tt_animation?y||(y=o(b,500)):b()}function v(){$&&b(),$=e(t,function(){}),t.$digest()}function b(){y=null,$&&($.remove(),$=null)}var $,y,w,k=angular.isDefined(m.appendToBody)?m.appendToBody:!1,x=g(void 0),D=angular.isDefined(a[p+"Enable"]),M=function(){var e=c.positionElements(n,$,t.tt_placement,k);e.top+="px",e.left+="px",$.css(e)};t.tt_isOpen=!1,a.$observe(i,function(e){t.tt_content=e,!e&&t.tt_isOpen&&h()}),a.$observe(p+"Title",function(e){t.tt_title=e}),a.$observe(p+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:m.placement}),a.$observe(p+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?m.popupDelay:n});var T=function(){n.unbind(x.show,u),n.unbind(x.hide,d)};a.$observe(p+"Trigger",function(e){T(),x=g(e),x.show===x.hide?n.bind(x.show,r):(n.bind(x.show,u),n.bind(x.hide,d))});var C=t.$eval(a[p+"Animation"]);t.tt_animation=angular.isDefined(C)?!!C:m.animation,a.$observe(p+"AppendToBody",function(e){k=angular.isDefined(e)?l(e)(t):k}),k&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&h()}),t.$on("$destroy",function(){o.cancel(y),o.cancel(w),T(),b()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var a=n.indexOf(e);if(e.active&&n.length>1){var i=a==n.length-1?a-1:a+1;t.select(n[i])}n.splice(a,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,a){return function(t,n,i,r){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,r){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===f[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function s(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function c(e){u(),m.$setViewValue(new Date(g)),p(e)}function u(){m.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=g.getHours(),a=g.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:s(n),e.minutes="m"===t?a:s(a),e.meridian=g.getHours()<12?f[0]:f[1]}function d(e){var t=new Date(g.getTime()+6e4*e);g.setHours(t.getHours(),t.getMinutes()),c()}var g=new Date,m={$setViewValue:angular.noop},f=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):r.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){m=n,m.$render=this.render;var i=a.eq(0),o=a.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):r.mousewheel;l&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o)};var h=r.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){h=parseInt(e,10)});var v=r.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=r.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,m.$error.time){var n=o(),a=l();angular.isDefined(n)&&angular.isDefined(a)&&(g.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var a=function(t,n){m.$setViewValue(null),m.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(g.setHours(e),c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=s(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(g.setMinutes(e),c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=s(e.minutes)})})},this.render=function(){var e=m.$modelValue?new Date(m.$modelValue):null;isNaN(e)?(m.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(g=e),u(),p())},e.incrementHours=function(){d(60*h)},e.decrementHours=function(){d(60*-h)},e.incrementMinutes=function(){d(v)},e.decrementMinutes=function(){d(-v)},e.toggleMeridian=function(){d(720*(g.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,a,i,r,o){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,c,u,p){var d,g=s.$eval(u.typeaheadMinLength)||1,m=s.$eval(u.typeaheadWaitMs)||0,f=s.$eval(u.typeaheadEditable)!==!1,h=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,$=u.typeaheadAppendToBody?s.$eval(u.typeaheadAppendToBody):!1,y=t(u.ngModel).assign,w=o.parse(u.typeahead),k=s.$new();s.$on("$destroy",function(){k.$destroy()});var x="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var D=angular.element("<div typeahead-popup></div>");D.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&D.attr("template-url",u.typeaheadTemplateUrl);var M=function(){k.matches=[],k.activeIdx=-1,c.attr("aria-expanded",!1)},T=function(e){return x+"-option-"+e};k.$watch("activeIdx",function(e){0>e?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",T(e))});var C=function(e){var t={$viewValue:e};h(s,!0),n.when(w.source(s,t)).then(function(n){var a=e===p.$viewValue;if(a&&d)if(n.length>0){k.activeIdx=0,k.matches.length=0;for(var i=0;i<n.length;i++)t[w.itemName]=n[i],k.matches.push({id:T(i),label:w.viewMapper(k,t),model:n[i]});k.query=e,k.position=$?r.offset(c):r.position(c),k.position.top=k.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else M();a&&h(s,!1)},function(){M(),h(s,!1)})};M(),k.query=void 0;var E;p.$parsers.unshift(function(e){return d=!0,e&&e.length>=g?m>0?(E&&a.cancel(E),E=a(function(){C(e)},m)):C(e):(h(s,!1),M()),f?e:e?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),e)}),p.$formatters.push(function(e){var t,n,a={};return b?(a.$model=e,b(s,a)):(a[w.itemName]=e,t=w.viewMapper(s,a),a[w.itemName]=void 0,n=w.viewMapper(s,a),t!==n?t:e)}),k.select=function(e){var t,n,i={};i[w.itemName]=n=k.matches[e].model,t=w.modelMapper(s,i),y(s,t),p.$setValidity("editable",!0),v(s,{$item:n,$model:t,$label:w.viewMapper(s,i)}),M(),a(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==k.matches.length&&-1!==l.indexOf(e.which)&&(e.preventDefault(),40===e.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===e.which?(k.activeIdx=(k.activeIdx?k.activeIdx:k.matches.length)-1,k.$digest()):13===e.which||9===e.which?k.$apply(function(){k.select(k.activeIdx)}):27===e.which&&(e.stopPropagation(),M(),k.$digest()))}),c.bind("blur",function(){d=!1});var O=function(e){c[0]!==e.target&&(M(),k.$digest())};i.bind("click",O),s.$on("$destroy",function(){i.unbind("click",O)});var A=e(D)(k);$?i.find("body").append(A):c.after(A)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var l=a(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(l,{cache:t}).success(function(e){r.replaceWith(n(jQuery.trim(e))(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')
}])});
;define("common:widget/ui/angular/angular-ui/angular-ui.js",function(e){var t=e("common:widget/ui/jquery-ext/jquery-ext.js");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function a(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var i=function(a,o,r){r=r||{};var l=e.defer(),s=i[r.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(s,c),l.resolve(a)})};return s&&a.bind(s,c),t(function(){angular.isString(o)?a.addClass(o):angular.isFunction(o)?o(a):angular.isObject(o)&&a.css(o),s||l.resolve(a)}),l.promise.cancel=function(){s&&a.unbind(s,c),l.reject("Transition cancelled")},l.promise},o=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=a(r),i.animationEndEventName=a(l),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,a){function i(t){function a(){c===i&&(c=void 0)}var i=e(n,t);return c&&c.cancel(),c=i,i.then(a,a),i}function o(){u?(u=!1,r()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(r))}function r(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function l(){u?(u=!1,s(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(s))}function s(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;t.$watch(a.collapse,function(e){e?l():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,a,i){var o,r;i.addGroup(t),t.isOpen=!1,a.isOpen&&(o=e(a.isOpen),r=o.assign,t.$parent.$watch(o,function(e){t.isOpen=!!e})),t.$watch("isOpen",function(e){e&&i.closeOthers(t),r&&r(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,a,i){i.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],o=a[1];o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){t.hasClass(i.activeClass)||e.$apply(function(){o.$setViewValue(e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){function i(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}var l=a[0],s=a[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function a(){i();var n=+e.interval;!isNaN(n)&&n>=0&&(r=t(o,n))}function i(){r&&(t.cancel(r),r=null)}function o(){l?(e.next(),a()):e.pause()}var r,l,s=this,c=s.slides=[],u=-1;s.currentSlide=null;var p=!1;s.select=function(i,o){function r(){p||(s.currentSlide&&angular.isString(o)&&!e.noTransition&&i.$element?(i.$element.addClass(o),i.$element[0].offsetWidth,angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){l(t,n)},function(){l(t,n)})}(i,s.currentSlide)):l(i,s.currentSlide),s.currentSlide=i,u=d,a())}function l(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var d=c.indexOf(i);void 0===o&&(o=d>u?"next":"prev"),i&&i!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(r)):r())},e.$on("$destroy",function(){p=!0}),s.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(u+1)%c.length;return e.$currentTransition?void 0:s.select(c[t],"next")},e.prev=function(){var t=0>u-1?c.length-1:u-1;return e.$currentTransition?void 0:s.select(c[t],"prev")},e.select=function(e){s.select(e)},e.isActive=function(e){return s.currentSlide===e},e.slides=function(){return c},e.$watch("interval",a),e.$on("$destroy",i),e.play=function(){l||(l=!0,a())},e.pause=function(){e.noPause||(l=!1,i())},s.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(s.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?s.select(t>=c.length?c[t-1]:c[t]):u>t&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,a,i){if(a.active){var o=e(a.active),r=o.assign,l=t.active=o(t.$parent);t.$watch(function(){var e=o(t.$parent);return e!==t.active&&(e!==l?l=t.active=e:r(t.$parent,e=l=t.active)),e})}i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,a){function i(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function o(e,t){return new Date(e,t,0).getDate()}function r(e,t){for(var n=new Array(t),a=e,i=0;t>i;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}function l(e,t,a,i){return{date:e,label:n(e,t),selected:!!a,secondary:!!i}}var s={day:i(t.dayFormat,a.dayFormat),month:i(t.monthFormat,a.monthFormat),year:i(t.yearFormat,a.yearFormat),dayHeader:i(t.dayHeaderFormat,a.dayHeaderFormat),dayTitle:i(t.dayTitleFormat,a.dayTitleFormat),monthTitle:i(t.monthTitleFormat,a.monthTitleFormat)},c=i(t.startingDay,a.startingDay),u=i(t.yearRange,a.yearRange);this.minDate=a.minDate?new Date(a.minDate):null,this.maxDate=a.maxDate?new Date(a.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var a=e.getFullYear(),i=e.getMonth(),u=new Date(a,i,1),p=c-u.getDay(),d=p>0?7-p:-p,m=new Date(u),g=0;d>0&&(m.setDate(-d+1),g+=d),g+=o(a,i+1),g+=(7-g%7)%7;for(var f=r(m,g),h=new Array(7),v=0;g>v;v++){var b=new Date(f[v]);f[v]=l(b,s.day,t&&t.getDate()===b.getDate()&&t.getMonth()===b.getMonth()&&t.getFullYear()===b.getFullYear(),b.getMonth()!==i)}for(var $=0;7>$;$++)h[$]=n(f[$].date,s.dayHeader);return{objects:f,title:n(e,s.dayTitle),labels:h}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var a=new Array(12),i=e.getFullYear(),o=0;12>o;o++){var r=new Date(i,o,1);a[o]=l(r,s.month,t&&t.getMonth()===o&&t.getFullYear()===i)}return{objects:a,title:n(e,s.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=new Array(u),a=e.getFullYear(),i=parseInt((a-1)/u,10)*u+1,o=0;u>o;o++){var r=new Date(i+o,0,1);n[o]=l(r,s.year,t&&t.getFullYear()===r.getFullYear())}return{objects:n,title:[n[0].label,n[u-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:u}}],this.isDisabled=function(t,n){var a=this.modes[n||0];return this.minDate&&a.compare(t,this.minDate)<0||this.maxDate&&a.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:a.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,i,o,r){function l(){e.showWeekNumbers=0===g&&h}function s(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function c(t){var n=null,i=!0;m.$modelValue&&(n=new Date(m.$modelValue),isNaN(n)?(i=!1,a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(f=n)),m.$setValidity("date",i);var o=d.modes[g],r=o.getVisibleDates(f,n);angular.forEach(r.objects,function(e){e.disabled=d.isDisabled(e.date,g)}),m.$setValidity("date-disabled",!n||!d.isDisabled(n)),e.rows=s(r.objects,o.split),e.labels=r.labels||[],e.title=r.title}function u(e){g=e,l(),c()}function p(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var d=r[0],m=r[1];if(m){var g=0,f=new Date,h=n.showWeeks;o.showWeeks?e.$parent.$watch(t(o.showWeeks),function(e){h=!!e,l()}):l(),o.min&&e.$parent.$watch(t(o.min),function(e){d.minDate=e?new Date(e):null,c()}),o.max&&e.$parent.$watch(t(o.max),function(e){d.maxDate=e?new Date(e):null,c()}),m.$render=function(){c(!0)},e.select=function(e){if(0===g){var t=m.$modelValue?new Date(m.$modelValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),m.$setViewValue(t),c(!0)}else f=e,u(g-1)},e.move=function(e){var t=d.modes[g].step;f.setMonth(f.getMonth()+e*(t.months||0)),f.setFullYear(f.getFullYear()+e*(t.years||0)),c()},e.toggleMode=function(){u((g+1)%d.modes.length)},e.getWeekNumber=function(t){return 0===g&&e.showWeekNumbers&&7===t.length?p(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(e,t,n,a,i,o,r){return{restrict:"EA",require:"ngModel",link:function(l,s,c,u){function p(e){y?y(l,!!e):h.isOpen=!!e}function d(e){if(e){if(angular.isDate(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}function m(e,n,a){e&&(l.$watch(t(e),function(e){h[n]=e}),D.attr(a||n,n))}function g(){h.position=b?a.offset(s):a.position(s),h.position.top=h.position.top+s.prop("offsetHeight")}var f,h=l.$new(),v=angular.isDefined(c.closeOnDateSelection)?l.$eval(c.closeOnDateSelection):o.closeOnDateSelection,b=angular.isDefined(c.datepickerAppendToBody)?l.$eval(c.datepickerAppendToBody):o.appendToBody;c.$observe("datepickerPopup",function(e){f=e||o.dateFormat,u.$render()}),h.showButtonBar=angular.isDefined(c.showButtonBar)?l.$eval(c.showButtonBar):o.showButtonBar,l.$on("$destroy",function(){M.remove(),h.$destroy()}),c.$observe("currentText",function(e){h.currentText=angular.isDefined(e)?e:o.currentText}),c.$observe("toggleWeeksText",function(e){h.toggleWeeksText=angular.isDefined(e)?e:o.toggleWeeksText}),c.$observe("clearText",function(e){h.clearText=angular.isDefined(e)?e:o.clearText}),c.$observe("closeText",function(e){h.closeText=angular.isDefined(e)?e:o.closeText});var $,y;c.isOpen&&($=t(c.isOpen),y=$.assign,l.$watch($,function(e){h.isOpen=!!e})),h.isOpen=$?$(l):!1;var w=function(e){h.isOpen&&e.target!==s[0]&&h.$apply(function(){p(!1)})},k=function(){h.$apply(function(){p(!0)})},x=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");x.attr({"ng-model":"date","ng-change":"dateSelection()"});var D=angular.element(x.children()[0]);c.datepickerOptions&&D.attr(angular.extend({},l.$eval(c.datepickerOptions))),u.$parsers.unshift(d),h.dateSelection=function(e){angular.isDefined(e)&&(h.date=e),u.$setViewValue(h.date),u.$render(),v&&p(!1)},s.bind("input change keyup",function(){h.$apply(function(){h.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,f):"";s.val(e),h.date=u.$modelValue},m(c.min,"min"),m(c.max,"max"),c.showWeeks?m(c.showWeeks,"showWeeks","show-weeks"):(h.showWeeks=r.showWeeks,D.attr("show-weeks","showWeeks")),c.dateDisabled&&D.attr("date-disabled",c.dateDisabled);var C=!1,T=!1;h.$watch("isOpen",function(e){e?(g(),n.bind("click",w),T&&s.unbind("focus",k),s[0].focus(),C=!0):(C&&n.unbind("click",w),s.bind("focus",k),T=!0),y&&y(l,e)}),h.today=function(){h.dateSelection(new Date)},h.clear=function(){h.dateSelection(null)};var M=e(x)(h);b?n.find("body").append(M):s.after(M)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(a,i){a.$watch("$location.path",function(){n()}),i.parent().bind("click",function(){n()}),i.bind("click",function(a){var o=i===t;a.preventDefault(),a.stopPropagation(),t&&n(),o||i.hasClass("disabled")||i.prop("disabled")||(i.parent().addClass("open"),t=i,n=function(a){a&&(a.preventDefault(),a.stopPropagation()),e.unbind("click",n),i.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(n,a,i){n.windowClass=i.windowClass||"",t(function(){n.animate=!0,a[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,a){function i(){for(var e=-1,t=u.keys(),n=0;n<t.length;n++)u.get(t[n]).value.backdrop&&(e=n);return e}function o(t){var n=e.find("body").eq(0),a=u.get(t).value;u.remove(t),a.modalDomEl.remove(),n.toggleClass(s,u.length()>0),l&&-1==i()&&(l.remove(),l=void 0),a.modalScope.$destroy()}var r,l,s="modal-open",c=n.$new(!0),u=a.createNew(),p={};return n.$watch(i,function(e){c.index=e}),e.bind("keydown",function(e){var t;27===e.which&&(t=u.top(),t&&t.value.keyboard&&n.$apply(function(){p.dismiss(t.key)}))}),p.open=function(n,a){u.add(n,{deferred:a.deferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard});var o=e.find("body").eq(0);i()>=0&&!l&&(r=angular.element("<div modal-backdrop></div>"),l=t(r)(c),o.append(l));var p=angular.element("<div modal-window></div>");p.attr("window-class",a.windowClass),p.attr("index",u.length()-1),p.html(a.content);var d=t(p)(a.scope);u.top().value.modalDomEl=d,o.append(d),o.addClass(s)},p.close=function(e,t){var n=u.get(e).value;n&&(n.deferred.resolve(t),o(e))},p.dismiss=function(e,t){var n=u.get(e).value;n&&(n.deferred.reject(t),o(e))},p.getTop=function(){return u.top()},p}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,a,i,o,r,l){function s(e){return e.template?a.when(e.template):i.get(e.templateUrl,{cache:o}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(a.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=a.defer(),o=a.defer(),u={result:i.promise,opened:o.promise,close:function(e){l.close(u,e)},dismiss:function(e){l.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var p=a.all([s(t)].concat(c(t.resolve)));return p.then(function(e){var a=(t.scope||n).$new();a.$close=u.close,a.$dismiss=u.dismiss;var o,s={},c=1;t.controller&&(s.$scope=a,s.$modalInstance=u,angular.forEach(t.resolve,function(t,n){s[n]=e[c++]}),o=r(t.controller,s)),l.open(u,{scope:a,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){i.reject(e)}),p.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,a){var i=this,o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a){t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=a},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===e.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.getAttributeValue=function(t,n,i){return angular.isDefined(t)?i?a(t)(e.$parent):e.$parent.$eval(t):n},this.render=function(){this.page=parseInt(e.page,10)||1,this.page>0&&this.page<=e.totalPages&&(e.pages=this.getPages(this.page,e.totalPages))},e.selectPage=function(t){!i.isActive(t)&&t>0&&t<=e.totalPages&&(e.page=t,e.onSelectPage({page:t}))},e.$watch("page",function(){i.render()}),e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),i.page>t?e.selectPage(t):i.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,o){function r(e,t,n,a){return{number:e,text:t,active:n,disabled:a}}var l,s=o.getAttributeValue(i.boundaryLinks,t.boundaryLinks),c=o.getAttributeValue(i.directionLinks,t.directionLinks),u=o.getAttributeValue(i.firstText,t.firstText,!0),p=o.getAttributeValue(i.previousText,t.previousText,!0),d=o.getAttributeValue(i.nextText,t.nextText,!0),m=o.getAttributeValue(i.lastText,t.lastText,!0),g=o.getAttributeValue(i.rotate,t.rotate);o.init(t.itemsPerPage),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){l=parseInt(e,10),o.render()}),o.getPages=function(e,t){var n=[],a=1,i=t,f=angular.isDefined(l)&&t>l;f&&(g?(a=Math.max(e-Math.floor(l/2),1),i=a+l-1,i>t&&(i=t,a=i-l+1)):(a=(Math.ceil(e/l)-1)*l+1,i=Math.min(a+l-1,t)));for(var h=a;i>=h;h++){var v=r(h,h,o.isActive(h),!1);n.push(v)}if(f&&!g){if(a>1){var b=r(a-1,"...",!1,!1);n.unshift(b)}if(t>i){var $=r(i+1,"...",!1,!1);n.push($)}}if(c){var y=r(e-1,p,!1,o.noPrevious());n.unshift(y);var w=r(e+1,d,!1,o.noNext());n.push(w)}if(s){var k=r(1,u,!1,o.noPrevious());n.unshift(k);var x=r(t,m,!1,o.noNext());n.push(x)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,a,i){function o(e,t,n,a,i){return{number:e,text:t,disabled:n,previous:s&&a,next:s&&i}}var r=i.getAttributeValue(a.previousText,e.previousText,!0),l=i.getAttributeValue(a.nextText,e.nextText,!0),s=i.getAttributeValue(a.align,e.align);i.init(e.itemsPerPage),i.getPages=function(e){return[o(e-1,r,i.noPrevious(),!0,!1),o(e+1,l,i.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,o,r,l,s,c,u){return function(i,p,d){function m(e){var t=e||g.trigger||d,a=n[t]||t;return{show:t,hide:a}}var g=angular.extend({},t,a),f=e(i),h=u.startSymbol(),v=u.endSymbol(),b="<div "+f+'-popup title="'+h+"tt_title"+v+'" content="'+h+"tt_content"+v+'" placement="'+h+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,link:function(e,t,n){function a(){e.tt_isOpen?d():u()}function u(){(!D||e.$eval(n[p+"Enable"]))&&(e.tt_popupDelay?($=r(f,e.tt_popupDelay),$.then(function(e){e()})):e.$apply(f)())}function d(){e.$apply(function(){h()})}function f(){return e.tt_content?(v&&r.cancel(v),y.css({top:0,left:0,display:"block"}),w?s.find("body").append(y):t.after(y),C(),e.tt_isOpen=!0,C):angular.noop}function h(){e.tt_isOpen=!1,r.cancel($),e.tt_animation?v=r(function(){y.remove()},500):y.remove()}var v,$,y=o(b)(e),w=angular.isDefined(g.appendToBody)?g.appendToBody:!1,k=m(void 0),x=!1,D=angular.isDefined(n[p+"Enable"]),C=function(){var n,a,i,o;switch(n=w?c.offset(t):c.position(t),a=y.prop("offsetWidth"),i=y.prop("offsetHeight"),e.tt_placement){case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width};break;case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-a/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-a};break;default:o={top:n.top-i,left:n.left+n.width/2-a/2}}o.top+="px",o.left+="px",y.css(o)};e.tt_isOpen=!1,n.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&h()}),n.$observe(p+"Title",function(t){e.tt_title=t}),n.$observe(p+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:g.placement}),n.$observe(p+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?g.popupDelay:n});var T=function(){x&&(t.unbind(k.show,u),t.unbind(k.hide,d))};n.$observe(p+"Trigger",function(e){T(),k=m(e),k.show===k.hide?t.bind(k.show,a):(t.bind(k.show,u),t.bind(k.hide,d)),x=!0});var M=e.$eval(n[p+"Animation"]);e.tt_animation=angular.isDefined(M)?!!M:g.animation,n.$observe(p+"AppendToBody",function(t){w=angular.isDefined(t)?l(t)(e):w}),w&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&h()}),e.$on("$destroy",function(){r.cancel(v),r.cancel($),T(),y.remove(),y.unbind(),y=null})}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,a,i){return i("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(e,t,n,a){var i=this,o=[],r=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,l=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.addBar=function(e,t){var n=0,a=e.$parent.$index;angular.isDefined(a)&&o[a]&&(n=o[a].value),o.push(e),this.update(t,e.value,n),e.$watch("value",function(e,n){e!==n&&i.update(t,e,n)}),e.$on("$destroy",function(){i.removeBar(e)})},this.update=function(e,t,n){var i=this.getPercentage(t);l?(e.css("width",this.getPercentage(n)+"%"),a(e,{width:i+"%"})):e.css({transition:"none",width:i+"%"})},this.removeBar=function(e){o.splice(o.indexOf(e),1)},this.getPercentage=function(e){return Math.round(100*e/r)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,a){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):a.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):a.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):a.stateOff,this.createRateObjects=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=0,a=e.length;a>n;n++)e[n]=angular.extend({index:n},t,e[n]);return e},e.range=this.createRateObjects(angular.isDefined(t.ratingStates)?angular.copy(e.$parent.$eval(t.ratingStates)):new Array(this.maxRange)),e.rate=function(t){e.readonly||e.value===t||(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t
})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),(1===n.length||e.active)&&t.select(e)},t.removeTab=function(e){var a=n.indexOf(e);if(e.active&&n.length>1){var i=a==n.length-1?a-1:a+1;t.select(n[i])}n.splice(a,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1,e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,a){return function(t,n,i,o){var r,l;i.active?(r=e(i.active),l=r.assign,t.$parent.$watch(r,function(e,n){e!==n&&(t.active=!!e)}),t.active=r(t.$parent)):l=r=angular.noop,t.$watch("active",function(e){l(t.$parent,e),e?(o.select(t),t.onSelect()):t.onDeselect()}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function(e,t,n,a){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,o,r,l){function s(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(i.showMeridian&&(12===e&&(e=0),i.meridian===h[1]&&(e+=12)),e):void 0}function c(){var e=parseInt(i.minutes,10);return e>=0&&60>e?e:void 0}function u(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function p(e){d(),l.$setViewValue(new Date(f)),m(e)}function d(){l.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function m(e){var t=f.getHours(),n=f.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:u(t),i.minutes="m"===e?n:u(n),i.meridian=f.getHours()<12?h[0]:h[1]}function g(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),p()}if(l){var f=new Date,h=angular.isDefined(r.meridians)?i.$parent.$eval(r.meridians):n.meridians||a.DATETIME_FORMATS.AMPMS,v=n.hourStep;r.hourStep&&i.$parent.$watch(e(r.hourStep),function(e){v=parseInt(e,10)});var b=n.minuteStep;r.minuteStep&&i.$parent.$watch(e(r.minuteStep),function(e){b=parseInt(e,10)}),i.showMeridian=n.showMeridian,r.showMeridian&&i.$parent.$watch(e(r.showMeridian),function(e){if(i.showMeridian=!!e,l.$error.time){var t=s(),n=c();angular.isDefined(t)&&angular.isDefined(n)&&(f.setHours(t),p())}else m()});var $=o.find("input"),y=$.eq(0),w=$.eq(1),k=angular.isDefined(r.mousewheel)?i.$eval(r.mousewheel):n.mousewheel;if(k){var x=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};y.bind("mousewheel wheel",function(e){i.$apply(x(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),w.bind("mousewheel wheel",function(e){i.$apply(x(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}if(i.readonlyInput=angular.isDefined(r.readonlyInput)?i.$eval(r.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var D=function(e,t){l.$setViewValue(null),l.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=s();angular.isDefined(e)?(f.setHours(e),p("h")):D(!0)},y.bind("blur",function(){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=u(i.hours)})}),i.updateMinutes=function(){var e=c();angular.isDefined(e)?(f.setMinutes(e),p("m")):D(void 0,!0)},w.bind("blur",function(){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=u(i.minutes)})})}l.$render=function(){var e=l.$modelValue?new Date(l.$modelValue):null;isNaN(e)?(l.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),d(),m())},i.incrementHours=function(){g(60*v)},i.decrementHours=function(){g(60*-v)},i.incrementMinutes=function(){g(b)},i.decrementMinutes=function(){g(-b)},i.toggleMeridian=function(){g(720*(f.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,a,i,o,r){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,c,u,p){var d,m=s.$eval(u.typeaheadMinLength)||1,g=s.$eval(u.typeaheadWaitMs)||0,f=s.$eval(u.typeaheadEditable)!==!1,h=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,$=u.typeaheadAppendToBody?t(u.typeaheadAppendToBody):!1,y=t(u.ngModel).assign,w=r.parse(u.typeahead),k=angular.element("<div typeahead-popup></div>");k.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&k.attr("template-url",u.typeaheadTemplateUrl);var x=s.$new();s.$on("$destroy",function(){x.$destroy()});var D=function(){x.matches=[],x.activeIdx=-1},C=function(e){var t={$viewValue:e};h(s,!0),n.when(w.source(s,t)).then(function(n){if(e===p.$viewValue&&d){if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var a=0;a<n.length;a++)t[w.itemName]=n[a],x.matches.push({label:w.viewMapper(x,t),model:n[a]});x.query=e,x.position=$?o.offset(c):o.position(c),x.position.top=x.position.top+c.prop("offsetHeight")}else D();h(s,!1)}},function(){D(),h(s,!1)})};D(),x.query=void 0;var T;p.$parsers.unshift(function(e){return d=!0,e&&e.length>=m?g>0?(T&&a.cancel(T),T=a(function(){C(e)},g)):C(e):(h(s,!1),D()),f?e:e?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),e)}),p.$formatters.push(function(e){var t,n,a={};return b?(a.$model=e,b(s,a)):(a[w.itemName]=e,t=w.viewMapper(s,a),a[w.itemName]=void 0,n=w.viewMapper(s,a),t!==n?t:e)}),x.select=function(e){var t,n,a={};a[w.itemName]=n=x.matches[e].model,t=w.modelMapper(s,a),y(s,t),p.$setValidity("editable",!0),v(s,{$item:n,$model:t,$label:w.viewMapper(s,a)}),D(),c[0].focus()},c.bind("keydown",function(e){0!==x.matches.length&&-1!==l.indexOf(e.keyCode)&&(e.preventDefault(),40===e.keyCode?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.keyCode?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.keyCode||9===e.keyCode?x.$apply(function(){x.select(x.activeIdx)}):27===e.keyCode&&(e.stopPropagation(),D(),x.$digest()))}),c.bind("blur",function(){d=!1});var M=function(e){c[0]!==e.target&&(D(),x.$digest())};i.bind("click",M),s.$on("$destroy",function(){i.unbind("click",M)});var O=e(k)(x);$?i.find("body").append(O):c.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,n,a,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,r,l){var s=i(l.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:n}).success(function(e){r.replaceWith(a(t.trim(e))(o))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr ng-show="labels.length > 0" class="h6">\n      <th ng-show="showWeekNumbers" class="text-center">#</th>\n      <th ng-repeat="label in labels" class="text-center">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n	<li ng-transclude></li>\n"+'	<li ng-show="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n			<button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n	</li>\n</ul>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n    <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}])});
;define("common:widget/ui/angular/angular.js",function(a,n,u){a("common:widget/ui/angular/angular-source.js"),a("common:widget/ui/angular/angular-route.js"),a("common:widget/ui/angular/angular-ui/angular-ui.js"),a("common:widget/ui/angular/angular-sanitize.js"),u.exports=window.angular});
;define("common:widget/ui/jq-sortable/jq-sortable.js",function(t,e,i){var s=t("common:widget/ui/jquery/jquery.js");!function(t,e){function i(e,i){var n,o,r,h=e.nodeName.toLowerCase();return"area"===h?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(r=t("img[usemap=#"+o+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(h)?!e.disabled:"a"===h?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,n,o=t(this[0]);o.length&&o[0]!==document;){if(s=o.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function n(e,i,s,n){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),h={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?h["inner"+s].call(this):this.each(function(){t(this).css(r,n(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?h["outer"+s].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)}})}(s),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(e,i,s){var n,o,r,h,a={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),h=new i,h.options=t.widget.extend({},h.options),t.each(s,function(e,s){return t.isFunction(s)?void(a[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(a[e]=s)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:o?h.widgetEventPrefix:e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(i){for(var n,o,r=s.call(arguments,1),h=0,a=r.length;a>h;h++)for(n in r[h])o=r[h][n],r[h].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(r){var h="string"==typeof r,a=s.call(arguments,1),l=this;return r=!h&&a.length?t.widget.extend.apply(null,[r].concat(a)):r,this.each(h?function(){var s,n=t.data(this,o);return n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,a),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):void 0):t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var e=t.data(this,o);e?e.option(r||{})._init():t.data(this,o,new n(r,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,r,h=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(h={},n=i.split("."),i=n.shift(),n.length){for(o=h[i]=t.widget.extend({},this.options[i]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(i=n.pop(),s===e)return o[i]===e?null:o[i];o[i]=s}else{if(s===e)return this.options[i]===e?null:this.options[i];h[i]=s}return this._setOptions(h),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,r){function h(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var a=s.match(/^(\w+)\s*(.*)$/),l=a[1]+o.eventNamespace,c=a[2];c?n.delegate(c,l,h):i.bind(l,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,r=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var r,h=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),r=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),r&&t.effects&&t.effects.effect[h]?s[e](n):h!==e&&s[h]?s[h](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(s),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(s),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,r=this.options,h=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?h=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(h=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?h=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(h=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),h!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,r=o+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>h&&a>s+l,p="y"===this.options.axis||e+c>o&&r>e+c,f=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&h<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,n,o,r=[],h=[],a=this._connectWith();if(a&&e)for(i=a.length-1;i>=0;i--)for(n=t(a[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=h.length-1;i>=0;i--)h[i][0].each(function(){r.push(this)});return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,r,h,a,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(n=t(p[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(r=u[i][1],h=u[i][0],s=0,l=h.length;l>s;s++)a=t(h[s]),a.data(this.widgetName+"-item",r),c.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,r,h,a,l,c,u,p,f,d=null,m=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],m=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",s,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,h=null,f=d.floating||i(this.currentItem),a=f?"left":"top",l=f?"width":"height",c=this.positionAbs[a]+this.offset.click[a],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!f||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[a],p=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(p=!0,u+=this.items[o][l]),Math.abs(u-c)<r&&(r=Math.abs(u-c),h=this.items[o],this.direction=p?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;h?this._rearrange(s,h,null,!0):this._rearrange(s,null,this.containers[m].element,!0),this._trigger("change",s,this._uiHash()),this.containers[m]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",s,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])
},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,r=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/n.grid[1])*n.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),!this.placeholder[0].parentNode&&!this.helper)return!1;if(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(s),i.exports=s});
;define("common:widget/ui/angular/sortable/sortable.js",function(e){var t=e("common:widget/ui/jq-sortable/jq-sortable.js");angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,n,o){return{require:"?ngModel",link:function(i,l,a,r){function u(e,t){return t&&"function"==typeof t?function(n,o){e(n,o),t(n,o)}:e}function s(e){var n=t(e).sortable("option","helper");return"clone"===n||"function"==typeof n}var c,d={},m={receive:null,remove:null,start:null,stop:null,update:null};return angular.extend(d,e),angular.element.fn&&angular.element.fn.jquery?(r?(i.$watch(a.ngModel+".length",function(){n(function(){l.data("ui-sortable")&&t(l).sortable("refresh")})}),m.start=function(e,t){t.item.sortable={index:t.item.index(),cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},_isCanceled:!1}},m.activate=function(){c=l.contents();var e=t(l).sortable("option","placeholder");if(e&&e.element&&"function"==typeof e.element){var n=e.element();n=angular.element(n);var o=l.find('[class="'+n.attr("class")+'"]');c=c.not(o)}},m.update=function(e,n){n.item.sortable.received||(n.item.sortable.dropindex=n.item.index(),n.item.sortable.droptarget=n.item.parent(),t(l).sortable("cancel")),s(l)&&(c=c.not(c.last())),c.appendTo(l),n.item.sortable.received&&!n.item.sortable.isCanceled()&&i.$apply(function(){r.$modelValue.splice(n.item.sortable.dropindex,0,n.item.sortable.moved)})},m.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?i.$apply(function(){r.$modelValue.splice(t.item.sortable.dropindex,0,r.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||s(l)||c.appendTo(l)},m.receive=function(e,t){t.item.sortable.received=!0},m.remove=function(e,t){t.item.sortable.isCanceled()||i.$apply(function(){t.item.sortable.moved=r.$modelValue.splice(t.item.sortable.index,1)[0]})},i.$watch(a.uiSortable,function(e){l.data("ui-sortable")&&angular.forEach(e,function(e,n){m[n]&&("stop"===n&&(e=u(e,function(){i.$apply()})),e=u(m[n],e)),t(l).sortable("option",n,e)})},!0),angular.forEach(m,function(e,t){d[t]=u(e,d[t])})):o.info("ui.sortable: ngModel not provided!",l),void t(l).sortable(d)):void o.error("ui.sortable: jQuery should be included before AngularJS!")}}}])});
;define("common:widget/ui/backtop/backtop.js",function(t,e){var o=t("common:widget/lib/tangram/base/base.js");e=function(e){var i,n,l,r,c,d=0,s=0,a=0,b=0,u=0,f=0,p=0,g=function(){if(!o.G("lv-backtop")){n=6==o.browser.ie?e.dom.create("a",{title:"返回顶部",id:"lv-backtop",href:"javascript:;",hidefocus:"true",style:"display:none; top:expression(eval(documentElement.scrollTop<body.scrollHeight-documentElement.clientHeight-"+d+") ? documentElement.scrollTop+documentElement.clientHeight-"+(c+d)+" : body.scrollHeight-"+(c+l)+")"}):e.dom.create("a",{title:"返回顶部",id:"lv-backtop",href:"javascript:;",hidefocus:"true",style:"display:none"});var t=e.dom.create("div",{"class":"lv-backtop-wrapper"});t.appendChild(n),document.body.appendChild(t)}},h=function(){if(b=6==e.browser.ie?0:e.page.getScrollLeft(),i){if(f=e.dom.getPosition(i).left+i.scrollWidth-b-1,e.browser.firefox)0==b&&(f+=1);else{var l=i.currentStyle?parseInt(i.currentStyle.borderLeftWidth,10)+parseInt(i.currentStyle.borderRightWidth,10):parseInt(o.dom.getComputedStyle(i,"borderLeftWidth"),10)+parseInt(o.dom.getComputedStyle(i,"borderRightWidth"),10);l=o.lang.isNumber(l)?l:0,f+=l}if(e.page.getViewWidth()<=i.scrollWidth+r+20&&(f-=r),parseInt(e.dom.getStyle(n,"left"),10)!=f){var c=t("isPad");c&&(f-=25),objLeft&&(f+=objLeft),e.dom.setStyle(n,"left",f)}}else e.dom.setStyle(n,"right",0)},m=function(){if(a=e.page.getScrollTop(),!(a>0))return n.style.display="none",!1;backPosition?a>backPosition+100?o.show(n):o.hide(n):o.show(n),s=e.page.getViewHeight(),u=e.page.getHeight();var i=t("isPad");a-d>u-s-l?i||(p=a+s-(u-l)):p=d,parseInt(e.dom.getStyle(n,"bottom"),10)!=p&&e.dom.setStyle(n,"bottom",p)},w=function(){return a=e.page.getScrollTop(),a>0?void(backPosition?a>backPosition+100?o.show(n):o.hide(n):o.show(n)):(n.style.display="none",!1)},v=function(){h(),m()},y=function(){e.event.on(window,"resize",v),e.event.on(window,"scroll",v),e.event.on(window,"touchmove",function(){o.hide(n)}),e.event.on(n,"click",function(){backPosition?window.scrollTo(0,backPosition):window.scrollTo(0,0)});var t=o.q("J_taggle-btn")[0];t&&e.event.on(t,"click",v)},k=function(){e.event.on(window,"resize",function(){h(),w()}),e.event.on(window,"scroll",function(){h(),w()}),e.event.on(n,"click",function(){backPosition?window.scrollTo(0,backPosition):window.scrollTo(0,0)})};return function(t){var n={body:o.g("body")||null,bottom:0,buttonWidth:25,buttonHeight:78,footerHeight:40};o.extend(n,t),l=n.footerHeight,r=n.buttonWidth,c=n.buttonHeight,d=n.bottom,objLeft=n.left,backPosition=n.backPosition,i=n.body,g(),h(),6==e.browser.ie?(w(),k()):(m(),y())}}(o)});
;define("common:widget/ui/lite/lite.js",function(e,t,a){var r=e("common:widget/lib/tangram/base/base.js"),i=function(e,t,a,r,i){if(!e)return"";var n=e.indexOf("http");if(-1===n)var o=["http://hiphotos.baidu.com/","lvpics","/pic/item/",e,".jpg"].join("");else var o=e;return void 0!==t&&a&&r?(!i&&(i=100),["http://webmap",t,".map.bdimg.com/maps/services/thumbnails","?width=",a,"&height=",r,"&quality=",i,"&align=middle,middle","&src=",o].join("")):o};a.exports.getImg=i;var n=function(e,t,a,r,i){if(!e)return"";var n=e.indexOf("http");if(-1===n)var o=["http://hiphotos.baidu.com/","lvpics","/abpic/item/",e,".jpg"].join("");else var o=e;return void 0!==t&&a&&r?(!i&&(i=100),["http://webmap",t,".map.bdimg.com/maps/services/thumbnails","?width=",a,"&height=",r,"&quality=",i,"&align=middle,middle","&src=",o].join("")):o};a.exports.getAbImg=n,a.exports.getUserHead=function(e,t){var a=t||0,r=["http://hiphotos.baidu.com/lvpics/pic/item/9c66db2ccffc1e178f987c8d4a90f603728de945.jpg"];return e&&(r=1==a?["http://himg.bdimg.com/","sys","/portrait/item/",e,".jpg"]:["http://hiphotos.baidu.com/","lvpics","/pic/item/",e,".jpg"]),r.join("")},a.exports.getUserAbHead=function(e,t){var a=t||0,r=["http://hiphotos.baidu.com/lvpics/pic/item/9c66db2ccffc1e178f987c8d4a90f603728de945.jpg"];return e&&(r=1==a?["http://himg.bdimg.com/","sys","/portrait/item/",e,".jpg"]:["http://hiphotos.baidu.com/","lvpics","/abpic/item/",e,".jpg"]),r.join("")},a.exports.cut=function(e,t,a){return t=t||40,a=a||"...",0===t?"":r.string.getByteLength(e)>t?r.string.subByte(e,t-a.length)+a:e},a.exports.getUserLevel=function(e){var t=[-1,50,100,200,400,800,1600,3200,6400,1e4,15e3,2e4,3e4,5e4,7e4,1e5];e=parseInt(e,10);for(var a=0,r=t.length;r>a;a++)if(e<=t[a])return a;return t.length},a.exports.getUserTitle=function(e){var t=a.exports.getUserLevel(e),r=["草鞋徒步者","草鞋徒步者","登山鞋先锋","轮滑小旋风","单车骑行军","摩托车车手","马车驾驶员","三轮摩托党","小汽车司机","越野车领队","房车观光客","滑翔伞玩家 ","游艇冲锋队","直升飞机主","商务机大亨","时空旅行者"];return r[t]},a.exports.date=function(e,t){t=t||0;var a=new Date;return 0!==t&&a.setTime(1e3*t),e=e.replace("Y","yyyy"),e=e.replace("m","MM"),e=e.replace("d","dd"),e=e.replace("H","HH"),e=e.replace("i","mm"),e=e.replace("s","ss"),r.date.format(a,e)},a.exports.feeddate=function(e,r,i){function n(){var e=new Date;return e.setDate(u-1),{curYear:e.getFullYear(),curMonth:e.getMonth()+1,curDate:e.getDate()}}function o(){var e=new Date;return e.setDate(u+1),{curYear:e.getFullYear(),curMonth:e.getMonth()+1,curDate:e.getDate()}}function s(e,t,a){var r=e+"/"+(t-1)+"/"+a;return Math.round(new Date(r).getTime()/1e3)}var c={today:"今天",yesterday:"昨天"},p=new Date,u=p.getDate(),h=p.getFullYear(),g=p.getMonth()+1,l=s(h,g,u),d=n(),m=s(d.curYear,d.curMonth,d.curDate),b=o(),f=s(b.curYear,b.curMonth,b.curDate);return e>l&&f>e?c.today+a.exports.date(r,e):e>m?c.yesterday+t.date(r,e):t.date(i,e)},t.getPid=function(e){if(!e)return"";var t=e.split("/");return t[t.length-1].slice(0,-4)},a.exports.getTimeUnit=function(e){var t="";switch(e){case"m":t="个月";break;case"w":t="周";break;case"d":t="天";break;case"h":t="个小时"}return t},a.exports.createImage=function(e,t,a,r,o,s,c,p,u,h,g){!a&&(a=0),!r&&(r=0);var l=1,d=1;t=c?i(t,h,o,s,g):n(t,h,o,s,g);var m="";p||(m='target="_blank"');var b={},f=0,v=0;l=0==a?1:a,d=0==r?1:r,void 0!==h&&o&&s&&(l=o>a&&a?a:o,d=s>r&&r?r:s);var k=o/l,x=s/d;k>x?(b.width=o,b.height=Math.round(d*k),f=-Math.round((b.height-s)/2)):(b.height=s,b.width=Math.round(l*x),v=-Math.round((b.width-o)/2));var w=b.width,j=b.height,y="",M="";e&&(y="<a "+m+' href="'+e+'">',M="</a>");var D=y+'<img width="'+w+'" height="'+j+'" style="margin:'+f+"px 0px 0px "+v+'px" src="'+t+'"/>'+M;return u&&(D=y+'<img width="'+w+'" height="'+j+'" style="margin:'+f+"px 0px 0px "+v+'px" data-src="'+t+'" src="'+u+'"/>'+M),D},a.exports.lowflowTest=function(e,t){for(var a=r.cookie.get("BAIDUID")||"c",i=a.length,n=0,o=0;i>o;o++)n+=a.charCodeAt(o);var s=n%100;e=e?e:100,t=t?t:0;var c=r.url.getQueryValue(location.href,"low");return c?1==c:e>s&&s>=t},a.exports.formatText=function(e){for(var t=/([ \t\f\v]*)(\r\n|\n|\r)([ \t\f\v]*)/,a=r.string.trim(e).split(t),i=[],n=0,o=a.length;o>n;n++){var s=a[n];""!=s&&i.push('<p class="text-p text-desc-p">'+s.replace(" ","&nbsp;")+"</p>")}return e=i.join("\n")},a.exports.moduleUrlMap=function(e){var t="";switch(e){case"photolist":t="fengjing";break;case"allview":t="jingdian";break;case"line":case"new_line":t="luxian";break;case"map":t="ditu";break;case"traffic":t="jiaotong";break;case"accommodation":t="zhusu";break;case"dining":t="meishi";break;case"shopping":t="gouwu";break;case"entertainment":t="huodong";break;case"geography_history":case"new_geography_history":t="wenhua";break;case"leave_info":t="chujing";break;case"useful":t="xinxi";break;case"attention":t="tips";break;case"ticket_info":t="menpiao";break;default:t=""}return t},a.exports.moduleNameMap=function(e){var t={photolist:"图片",allview:"景点",line:"路线",notes:"游记",map:"地图",traffic:"交通",accommodation:"住宿",dining:"美食",shopping:"购物",entertainment:"活动",geography_history:"文化地理",leave_info:"出境信息",attention:"小贴士",ticket_info:"门票信息"};return t[e]||""},a.exports.albumTypeUrlMap=function(e){var t="";switch(e=parseInt(e)){case 0:t="fengjing";break;case 1:t="photo-ditu";break;case 2:t="photo-meishi";break;case 3:t="photo-gouwu";break;case 4:t="photo-huodong";break;case 5:t="photo-jiaotong";break;case 6:t="photo-churu";break;case 7:t="photo-xinxi";break;case 8:t="photo-tips";break;case 9:t="photo-luxian";break;case 10:t="photo-liangdian";break;case 11:t="photo-zhuanti";break;case 12:t="photo-hezuo";break;case 13:t="photo-zhusu";break;default:t="fengjing"}return t},a.exports.sceneFilterTypeUrlMap=function(e){var t="";switch(e){case"season":t="s";break;case"area":t="a";break;case"landscape":t="l";break;case"theme":t="t";break;default:t="t"}return t},a.exports.sceneFilterMonthUrlMap=function(e){var t="";switch(e=parseInt(e)){case 1:t="jan";break;case 2:t="feb";break;case 3:t="mar";break;case 4:t="apr";break;case 5:t="may";break;case 6:t="jun";break;case 7:t="jul";break;case 8:t="aug";break;case 9:t="sept";break;case 10:t="oct";break;case 11:t="nov";break;case 12:t="dec";break;default:t="jan"}return t},a.exports.useSurlOrSidForSceneLink=function(e){return e.surl&&""!=e.surl?"/"+e.surl+"/":e.sid?"/scene/view/"+e.sid:"###"}});
;define("common:widget/ui/eJS/eJS.js",function(require,exports,module){var EJS=null;!function(){var rsplit=function(e,t){for(var n,i,r,s=t.exec(e),o=new Array;null!=s;)n=s.index,i=t.lastIndex,0!=n&&(r=e.substring(0,n),o.push(e.substring(0,n)),e=e.slice(n)),o.push(s[0]),e=e.slice(s[0].length),s=t.exec(e);return""==!e&&o.push(e),o},chop=function(e){return e.substr(0,e.length-1)},extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};EJS=function(e){if(e="string"==typeof e?{view:e}:e,this.set_options(e),e.precompiled)return this.template={},this.template.process=e.precompiled,void EJS.update(this.name,this);if(e.element){if("string"==typeof e.element){var t=e.element;if(e.element=document.getElementById(e.element),null==e.element)throw t+"does not exist!"}this.text=e.element.value?e.element.value:e.element.innerHTML,this.name=e.element.id,this.type="["}else if(e.url){e.url=EJS.endExt(e.url,this.extMatch),this.name=this.name?this.name:e.url;var n=e.url,i=EJS.get(this.name,this.cache);if(i)return i;if(i==EJS.INVALID_PATH)return null;try{this.text=EJS.request(n+(this.cache?"":"?"+Math.random()))}catch(r){}if(null==this.text)throw{type:"EJS",message:"There is no template at "+n}}var i=new EJS.Compiler(this.text,this.type);i.compile(e,this.name),EJS.update(this.name,this),this.template=i},EJS.prototype={render:function(e,t){e=e||{},this._extra_helpers=t;var n=new EJS.Helpers(e,t||{});return this.template.process.call(e,e,n)},update:function(element,options){return"string"==typeof element&&(element=document.getElementById(element)),null==options?(_template=this,function(e){EJS.prototype.update.call(_template,element,e)}):void("string"==typeof options?(params={},params.url=options,_template=this,params.onComplete=function(request){var object=eval(request.responseText);EJS.prototype.update.call(_template,element,object)},EJS.ajax_request(params)):element.innerHTML=this.render(options))},out:function(){return this.template.out},set_options:function(e){this.type=e.type||EJS.type,this.cache=null!=e.cache?e.cache:EJS.cache,this.text=e.text||null,this.name=e.name||null,this.ext=e.ext||EJS.ext,this.extMatch=new RegExp(this.ext.replace(/\./,"."))}},EJS.endExt=function(e,t){return e?(t.lastIndex=0,e+(t.test(e)?"":this.ext)):null},EJS.Scanner=function(e,t,n){extend(this,{left_delimiter:t+"%",right_delimiter:"%"+n,double_left:t+"%%",double_right:"%%"+n,left_equal:t+"%=",left_comment:t+"%#"}),this.SplitRegexp="["==t?/(\[%%)|(%%\])|(\[%=)|(\[%#)|(\[%)|(%\]\n)|(%\])|(\n)/:new RegExp("("+this.double_left+")|(%%"+this.double_right+")|("+this.left_equal+")|("+this.left_comment+")|("+this.left_delimiter+")|("+this.right_delimiter+"\n)|("+this.right_delimiter+")|(\n)"),this.source=e,this.stag=null,this.lines=0},EJS.Scanner.to_text=function(e){return null==e||void 0===e?"":e instanceof Date?e.toDateString():e.toString?e.toString():""},EJS.Scanner.prototype={scan:function(e){if(scanline=this.scanline,regex=this.SplitRegexp,""==!this.source)for(var t=rsplit(this.source,/\n/),n=0;n<t.length;n++){var i=t[n];this.scanline(i,regex,e)}},scanline:function(e,t,n){this.lines++;for(var i=rsplit(e,t),r=0;r<i.length;r++){var s=i[r];if(null!=s)try{n(s,this)}catch(o){throw{type:"EJS.Scanner",line:this.lines}}}}},EJS.Buffer=function(e,t){this.line=new Array,this.script="",this.pre_cmd=e,this.post_cmd=t;for(var n=0;n<this.pre_cmd.length;n++)this.push(e[n])},EJS.Buffer.prototype={push:function(e){this.line.push(e)},cr:function(){this.script=this.script+this.line.join("; "),this.line=new Array,this.script=this.script+"\n"},close:function(){if(this.line.length>0){for(var e=0;e<this.post_cmd.length;e++)this.push(pre_cmd[e]);this.script=this.script+this.line.join("; "),line=null}}},EJS.Compiler=function(e,t){this.pre_cmd=["var ___ViewO = [];"],this.post_cmd=new Array,this.source=" ",null!=e&&("string"==typeof e?(e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),this.source=e):e.innerHTML&&(this.source=e.innerHTML),"string"!=typeof this.source&&(this.source="")),t=t||"<";var n=">";switch(t){case"[":n="]";break;case"<":break;default:throw t+" is not a supported deliminator"}this.scanner=new EJS.Scanner(this.source,t,n),this.out=""},EJS.Compiler.prototype={compile:function(options,name){options=options||{},this.out="";var put_cmd="___ViewO.push(",insert_cmd=put_cmd,buff=new EJS.Buffer(this.pre_cmd,this.post_cmd),content="",clean=function(e){return e=e.replace(/\\/g,"\\\\"),e=e.replace(/\n/g,"\\n"),e=e.replace(/"/g,'\\"')};this.scanner.scan(function(e,t){if(null==t.stag)switch(e){case"\n":content+="\n",buff.push(put_cmd+'"'+clean(content)+'");'),buff.cr(),content="";break;case t.left_delimiter:case t.left_equal:case t.left_comment:t.stag=e,content.length>0&&buff.push(put_cmd+'"'+clean(content)+'")'),content="";break;case t.double_left:content+=t.left_delimiter;break;default:content+=e}else switch(e){case t.right_delimiter:switch(t.stag){case t.left_delimiter:"\n"==content[content.length-1]?(content=chop(content),buff.push(content),buff.cr()):buff.push(content);break;case t.left_equal:buff.push(insert_cmd+"(EJS.Scanner.to_text("+content+")))")}t.stag=null,content="";break;case t.double_right:content+=t.right_delimiter;break;default:content+=e}}),content.length>0&&buff.push(put_cmd+'"'+clean(content)+'")'),buff.close(),this.out=buff.script+";";var to_be_evaled="/*"+name+"*/this.process = function(_CONTEXT,_VIEW) { try { with(_VIEW) { with (_CONTEXT) {"+this.out+" return ___ViewO.join('');}}}catch(e){e.lineNumber=null;throw e;}};";try{eval(to_be_evaled)}catch(e){if("undefined"==typeof JSLINT)throw e;JSLINT(this.out);for(var i=0;i<JSLINT.errors.length;i++){var error=JSLINT.errors[i];if("Unnecessary semicolon."!=error.reason){error.line++;var e=new Error;throw e.lineNumber=error.line,e.message=error.reason,options.view&&(e.fileName=options.view),e}}}}},EJS.config=function(e){EJS.cache=null!=e.cache?e.cache:EJS.cache,EJS.type=null!=e.type?e.type:EJS.type,EJS.ext=null!=e.ext?e.ext:EJS.ext;var t=EJS.templates_directory||{};EJS.templates_directory=t,EJS.get=function(e,n){return 0==n?null:t[e]?t[e]:null},EJS.update=function(e,n){null!=e&&(t[e]=n)},EJS.INVALID_PATH=-1},EJS.config({cache:!0,type:"<",ext:".ejs"}),EJS.Helpers=function(e,t){this._data=e,this._extras=t,extend(this,t)},EJS.Helpers.prototype={view:function(e,t,n){return n||(n=this._extras),t||(t=this._data),new EJS(e).render(t,n)},to_text:function(e,t){return null==e||void 0===e?t||"":e instanceof Date?e.toDateString():e.toString?e.toString().replace(/\n/g,"<br />").replace(/''/g,"'"):""}},EJS.newRequest=function(){for(var e=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=0;t<e.length;t++)try{var n=e[t]();if(null!=n)return n}catch(i){continue}},EJS.request=function(e){var t=new EJS.newRequest;t.open("GET",e,!1);try{t.send(null)}catch(n){return null}return 404==t.status||2==t.status||0==t.status&&""==t.responseText?null:t.responseText},EJS.ajax_request=function(e){e.method=e.method?e.method:"GET";var t=new EJS.newRequest;t.onreadystatechange=function(){4==t.readyState&&e.onComplete(200==t.status?t:t)},t.open(e.method,e.url),t.send(null)}}(EJS),module.exports=EJS});
;define("common:widget/ui/baiduMap/js/map-overlay.js",function(t,i,e){function s(t,i){var e=t.cloneNode(!0);document.body.appendChild(e);var s,a;return i?(s=t.clientWidth,a=t.clientHeight):(s=e.clientWidth,a=e.clientHeight),document.body.removeChild(e),e=null,{width:s,height:a}}var a=t("common:widget/lib/tangram/base/base.js"),o=(t("common:widget/ui/jquery-ext/jquery-ext.js"),t("common:widget/ui/lite/lite.js")),n=t("common:widget/ui/eJS/eJS.js"),r=t("common:widget/ui/nslog/nslog.js"),h={setData:function(t){var i=this;this._data=t;var e=a.object.clone(t);switch(e.score_width="",e.remark_content="",e.remark_count=0,e.extData=a.json.stringify(e),parseInt(e.type,10)){case 1:var s=new n({url:"/static/common/widget/ui/baiduMap/js/scene-infowindow.ejs"});e.url="/"+e.surl,e.info=e.travel_time?"建议游玩"+e.travel_time:"",e.score_width=17*e.star,e.ext&&(e.remark_count=e.ext.remark_count||0,e.remark_content=e.ext.remark_content||""),e.xid=e.sid,e.address=e.ext?e.ext.address||"":"",e.short_addr=o.cut(e.address,50),e.name=e.name||e.sname,e.remark?(e.short_remark=o.cut(e.remark.words,160),e.remark=e.remark.words):(e.short_remark="",e.remark="");var h=window.location.href;r.nslog(h,101,{cmd:"click",pos:"scene-infowindow-show"});break;case 2:var s=new n({url:"/static/common/widget/ui/baiduMap/js/restaurant-infowindow.ejs"});e.xid=e.xid||e.uid||e.url,e.url="/scene/poi/restaurant?surl=&place_uid="+e.xid,e.info=e.recommendation?"特色："+o.cut(e.recommendation,16):"",e.remark_count=e.comment_num||0,e.score_width=17*e.overall_rating,e.address=e.addr||"",e.short_addr=o.cut(e.address,20),e.price=e.price||"",e.tag=e.tag||"";var h=window.location.href;r.nslog(h,101,{cmd:"click",pos:"restaurant-infowindow-show"});break;case 3:var s=new n({url:"/static/common/widget/ui/baiduMap/js/hotel-infowindow.ejs"});e.xid=e.uid||e.xid||e.url,e.url="/scene/poi/hotel?surl=&place_uid="+e.xid,e.info="",e.remark_count=e.comment_num||0,e.score_width=17*e.overall_rating,e.address=e.hotel_address||e.addr||e.address||"",e.short_addr=o.cut(e.address,20),e.short_name=o.cut(e.name,20);var h=window.location.href;r.nslog(h,101,{cmd:"click",pos:"hotel-infowindow-show"});break;default:e.url="javascript:"}if(e.has_son&&6!=parseInt(e.level,10)||(e.has_son=0),e.cutName=o.cut(e.name,12),e.image)e.image='<img width="70" height="70" src='+e.image+">";else if(e.pic_url||e.pic_width&&e.pic_height)e.image=o.createImage(null,e.pic_url,e.pic_width,e.pic_height,70,70,!1);else{var d="http://lvyou4.bdimg.com/static/common/img/scene-bg_68783ed.png";e.image='<img width="70" height="70" src="'+d+'">'}e.is_collect="",e.is_collect_text="";var c="http://lvyou1.bdimg.com/static/common/widget/ui/baiduMap/js/img/loading-new_d646d95.gif";e.hotel_image="<img src="+c+">",e.pic_url||(e.pic_url=""),this._body.innerHTML=s.render(e),setTimeout(function(){i._panBox()},100),e.pic_url||1!=e.type?3==e.type:a.ajax.get("/destination/ajax/plan/getscenelist?format=ajax&type=1&sid="+e.xid,function(t,n){var r=a.json.parse(n);if(0==r.errno){var h=r.data.list;h.length&&(e.pic_url=h[0].pic_url,e.pic_width=h[0].pic_width,e.pic_height=h[0].pic_height,e.pic_url&&(e.image=o.createImage(null,e.pic_url,e.pic_width,e.pic_height,60,60,!1),i._body.innerHTML=s.render(e)))}})},_bindHeadClick:function(){var t=this,i=this._head;a.event.on(i,"click",function(i){var e=a.event.getTarget(i),s=e.getAttribute("data-action");if(s)switch(s){case"close":t.hide(),t.dispatchEvent("onclose"),a.event.stop(i)}})}},d=function(t,i,e,s,a,o){this._point=t,this._opts=a||{},this._isInfoWindowOpen=!1,this._data=i,this._offset=20,this._target=o,this._pointHeight=0,this.popWidth=e,this.popHeight=s,this.dialogShowPath=!1,e&&(this.dialogShowPath=!0),this._OFFSET=80,this._selfClose=!0};d.init=function(){d.prototype=new BMap.Overlay,a.extend(d.prototype,a.extend({_getBottomEdge:function(){var t=this._map,i=t.getSize().height,e=t.pointToPixel(this._point),s=i-e.y-this.size.height-this._offset-this._pointHeight;return 0>s?Math.abs(s):0},_getLeftEdge:function(){var t=this._map,i=t.pointToPixel(this._point),e=i.x-this.size.width/2-this._offset+this._OFFSET;return 0>e?Math.abs(e):0},_getRightEdge:function(){var t=this._map,i=t.getSize().width,e=t.pointToPixel(this._point),s=i-e.x-this.size.width/2-this._offset-this._OFFSET;return 0>s?Math.abs(s):0},initialize:function(t){var i=this;this._map=t;var e="scene-overlay",o=e;6==a.browser.ie&&(o=e+" scene-overlay-noshadow");var n="";this.popWidth&&this.popWidth>0&&(n="width:"+this.popWidth+"px");var r=this._div=a.dom.create("div",{"class":o,style:n}),h=this._head=a.dom.create("div",{"class":e+"-header"}),d=this._closeBtn=a.dom.create("div",{"class":"close-btn","data-action":"close",title:"关闭"});a.event.on(d,"click",function(){i._target.currentMarker&&(i._target.currentMarker.status=!0,a.event.fire(i._target.currentMarker,"mouseout"))});var c=this._body=a.dom.create("div",{"class":e+"-body"}),_=this._arrow=a.dom.create("div",{"class":"arrow"});_.innerHTML='<span class="arrow-down"></span><span class="arrow-up"></span>',r.appendChild(_),r.appendChild(h),r.appendChild(c),h.appendChild(d),this.setData(this._data),this._bindHeadClick();s(this._div,this.dialogShowPath);return r.style.zIndex=BMap.Overlay.getZIndex(this._point.lat),this._map.getPanes().floatPane.appendChild(r),r},draw:function(){var t=this._map,i=this._resize(),e=t.pointToOverlayPixel(this._point),s=this._opts.left||10,a=this._opts.top||0;this._div.style.left=e.x-i.width/2+(73+s)+"px",this._div.style.top=e.y-i.height-(27+a)+"px"},reposition:function(t,i){this._opts=i||{},this._point=t,this.show(),this.draw()},_getInfoBoxSize:function(){this._boxWidth=parseInt(this._div.offsetWidth,10),this._boxHeight=parseInt(this._div.offsetHeight,10)},_panBox:function(){this._getInfoBoxSize();var t=parseInt(this._map.getContainer().offsetHeight,10),i=parseInt(this._map.getContainer().offsetWidth,10),e=this._boxHeight,s=this._boxWidth;if(!(e>=t||s>=i)){this._map.getBounds().containsPoint(this._point)||this._map.setCenter(this._point);var a,o,n,r=this._map.pointToPixel(this._point),h=s-r.x,d=s+r.x-i;if(this._marker)var c=this._marker.getIcon();{this._marker?c.anchor.height+this._marker.getOffset().height-c.infoWindowAnchor.height:0}a=e-r.y+100+2,panX=h>0?h:d>0?-d:0,n=a>0?a:o>0?-o:0,this._map.panBy(panX,n)}},_ajust:function(){var t=this._map,i=this._getOffset();i&&t.panBy(i.x,i.y)},_resize:function(){return this.size=s(this._div,this.dialogShowPath),this.size},_redraw:function(){this._resize()},_getOffset:function(){var t=(this._map,this._getBottomEdge()),i=this._getLeftEdge(),e=this._getRightEdge(),s={x:0,y:0};return t||i||e?(t&&(s.y-=t),i?s.x+=i:e&&(s.x-=e),s):null},render:function(t){t.addOverlay(this)}},h))},e.exports=d});
;define("common:widget/ui/baiduMap/js/full-overlay.js",function(e,t,r){var a=e("common:widget/ui/jquery-ext/jquery-ext.js"),s=e("common:widget/ui/nslog/nslog.js"),l=function(e,t,r,a,s){this._point=e,this._text=t,this._map=r,this._style=a||{},this._divText=this._style.divText||"",this._zIndex=this._style.zIndex||1,this._target=s,this._divClass=this._style.divClass||"plan-fullMarker",this._class=this._style["class"]||"plan-text"};l.init=function(){l.prototype=new BMap.Overlay,l.prototype.initialize=function(e){this._map=e;var t=this._div=document.createElement("div");if(t.className=this._divClass,t.style.zIndex=this._zIndex,t.status=!0,this._divText){var r=this._span=document.createElement("span");t.appendChild(r),r.appendChild(document.createTextNode(this._divText))}var l=this,o=this._arrow=document.createElement("div");o.className=this._class;var i=this._text.replace(/[\u4e00-\u9fa5]/g,"aa").length;o.style.width=8*i+"px";var r=this._span=document.createElement("span");o.appendChild(r),r.appendChild(document.createTextNode(this._text)),t.appendChild(o);var n;return a(t).bind("mouseenter",function(){var e=this;n=setTimeout(function(){e.style.zIndex=5,a(e).addClass(a(e).hasClass("scene-fullMarker")?"hover-scene-fullMarker":a(e).hasClass("food-fullMarker")?"hover-food-fullMarker":a(e).hasClass("hotel-fullMarker")?"hover-hotel-fullMarker":"hover-plan-fullMarker"),a(l._arrow).addClass(a(l._arrow).hasClass("plan-text")?"hover-plan-text":"hover-scenelist-text")},200)}),a(t).bind("mouseleave",function(){n&&clearTimeout(n),this.status&&(this.style.zIndex=l._zIndex,a(this).removeClass("hover-scene-fullMarker hover-plan-fullMarker hover-hotel-fullMarker hover-food-fullMarker"),a(l._arrow).removeClass("hover-plan-text hover-scenelist-text"))}),a(t).bind("click",function(e){e.stopPropagation(),this.status=!1,l._target.oldMarker=l._target.currentMarker,l._target.currentMarker=this,l._target.oldMarker&&(l._target.oldMarker.status=!0,l._target.oldMarker==l._target.currentMarker&&(l._target.oldMarker.status=!1),a(l._target.oldMarker).trigger("mouseleave",{})),l._target.createPop(l._point,{popWidth:l._target.popWidth,left:50,top:30}),s.nslog(location.href,1702,{cmd:"click",pos:"edit-map-scene-click"})}),a(l).bind("mouseenter",function(){l._div.oldZIndex=l._div.style.zIndex,l._div.style.zIndex=5,a(l._div).addClass(a(l._div).hasClass("scene-fullMarker")?"hover-scene-fullMarker":a(l._div).hasClass("food-fullMarker")?"hover-food-fullMarker":a(l._div).hasClass("hotel-fullMarker")?"hover-hotel-fullMarker":"hover-plan-fullMarker"),a(l._arrow).addClass(a(l._arrow).hasClass("plan-text")?"hover-plan-text":"hover-scenelist-text")}),a(l).bind("mouseleave",function(){l._div.style.zIndex=l._div.oldZIndex,a(l._div).removeClass("hover-scene-fullMarker hover-plan-fullMarker hover-hotel-fullMarker hover-food-fullMarker"),a(l._arrow).removeClass("hover-plan-text hover-scenelist-text")}),this._map.getPanes().markerPane.appendChild(t),t},l.prototype.draw=function(){var e=this._map,t=e.pointToOverlayPixel(this._point);this._div.style.left=t.x-12+"px",this._div.style.top=t.y-36+"px"}},r.exports=l});
;define("common:widget/ui/mercatorProjection/js/point.js",function(t,i,n){function o(t){return"string"==typeof t}function s(t,i){isNaN(t)&&(t=isNaN(t)?0:t),o(t)&&(t=parseFloat(t)),isNaN(i)&&(i=isNaN(i)?0:i),o(i)&&(i=parseFloat(i)),this.lng=t,this.lat=i}n.exports=s});
;define("common:widget/ui/mercatorProjection/mercatorProjection.js",function(t,n,e){function a(){}var o=t("common:widget/ui/jquery/jquery.js"),i=t("common:widget/ui/mercatorProjection/js/point.js");o.extend(a,{EARTHRADIUS:6370996.81,MCBAND:[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(t,n){if(!t||!n)return 0;var e,a,o,i;return(t=this.convertMC2LL(t))?(e=this.toRadians(t.lng),a=this.toRadians(t.lat),(n=this.convertMC2LL(n))?(o=this.toRadians(n.lng),i=this.toRadians(n.lat),this.getDistance(e,o,a,i)):0):0},getDistanceByLL:function(t,n){if(!t||!n)return 0;t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74),n.lng=this.getLoop(n.lng,-180,180),n.lat=this.getRange(n.lat,-74,74);var e,a,o,i;return e=this.toRadians(t.lng),o=this.toRadians(t.lat),a=this.toRadians(n.lng),i=this.toRadians(n.lat),this.getDistance(e,a,o,i)},convertMC2LL:function(t){var n,e;n=new i(Math.abs(t.lng),Math.abs(t.lat));for(var a=0;a<this.MCBAND.length;a++)if(n.lat>=this.MCBAND[a]){e=this.MC2LL[a];break}var o=this.convertor(t,e),t=new i(o.lng.toFixed(6),o.lat.toFixed(6));return t},convertLL2MC:function(t){var n,e;t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74),n=new i(t.lng,t.lat);for(var a=0;a<this.LLBAND.length;a++)if(n.lat>=this.LLBAND[a]){e=this.LL2MC[a];break}if(!e)for(var a=this.LLBAND.length-1;a>=0;a--)if(n.lat<=-this.LLBAND[a]){e=this.LL2MC[a];break}var o=this.convertor(t,e),t=new i(o.lng.toFixed(2),o.lat.toFixed(2));return t},convertor:function(t,n){if(t&&n){var e=n[0]+n[1]*Math.abs(t.lng),a=Math.abs(t.lat)/n[9],o=n[2]+n[3]*a+n[4]*a*a+n[5]*a*a*a+n[6]*a*a*a*a+n[7]*a*a*a*a*a+n[8]*a*a*a*a*a*a;return e*=t.lng<0?-1:1,o*=t.lat<0?-1:1,new i(e,o)}},getDistance:function(t,n,e,a){return this.EARTHRADIUS*Math.acos(Math.sin(e)*Math.sin(a)+Math.cos(e)*Math.cos(a)*Math.cos(n-t))},toRadians:function(t){return Math.PI*t/180},toDegrees:function(t){return 180*t/Math.PI},getRange:function(t,n,e){return null!=n&&(t=Math.max(t,n)),null!=e&&(t=Math.min(t,e)),t},getLoop:function(t,n,e){for(;t>e;)t-=e-n;for(;n>t;)t+=e-n;return t}}),o.extend(a.prototype,{lngLatToMercator:function(t){return a.convertLL2MC(t)},lngLatToPoint:function(t){var n=a.convertLL2MC(t);return{x:n.lng,y:n.lat}},mercatorToLngLat:function(t){return a.convertMC2LL(t)},pointToLngLat:function(t){var n=new i(t.x,t.y);return a.convertMC2LL(n)},pointToPixel:function(t,n,e,a){if(t){t=this.lngLatToMercator(t);var o=this.getZoomUnits(n),i=Math.round((t.lng-e.lng)/o+a.width/2),r=Math.round((e.lat-t.lat)/o+a.height/2);return{x:i,y:r}}},pixelToPoint:function(t,n,e,a){if(t){var o=this.getZoomUnits(n),r=e.lng+o*(t.x-a.width/2),s=e.lat-o*(t.y-a.height/2),h=new i(r,s);return this.mercatorToLngLat(h)}},getZoomUnits:function(t){return Math.pow(2,18-t)}}),e.exports=a});
;define("common:widget/ui/baiduMap/baiduMap.js",function(t,e,a){function n(t,e){return m?m:m=new h(t,e)}var i,o=i=t("common:widget/ui/jquery-ext/jquery-ext.js"),r=t("common:widget/ui/nslog/nslog.js"),s=t("common:widget/ui/baiduMap/js/map-overlay.js"),c=t("common:widget/ui/baiduMap/js/full-overlay.js"),l=(t("common:widget/lib/template.js"),t("common:widget/ui/mercatorProjection/mercatorProjection.js")),p=[],m="";o.getScript("http://api.map.baidu.com/api?v=2.0&ak=4bf91aa6f1ed5fa33169ad81c8112825&callback=BAIDU_MAP_INIT");var h=function(t,e){if(t){var a=this;this._mapContainer=t,window.BMap&&window.BMap.CustomLayer?(c.init(),s.init(),a.init(e)):(p.push(a),window.BAIDU_MAP_INIT=function(){o(p).each(function(t,a){a.init(e),c.init(),s.init()})})}};o.extend(h.prototype,{init:function(t){var e=this;t=t||{};var a=this._map=new BMap.Map(this._mapContainer,{enableMapClick:!1,vectorMapLevel:99});!a.setMapStyle&&localStorage&&(localStorage.clear(),r.nslog(location.href,1e3,{type:1e3,cmd:"show",pos:"baidu-map-fail",refer:document.referrer})),this.enableScrollWheelZoom=!0,this.showNavigation=!0,this.planData=t.planData,a.centerAndZoom(new BMap.Point(116.404,39.915),15),this.showPop=t.showPop,this.isCenter=!1,o.extend(this,t),this.labelType=t.label||"name",this.topPoints={},this.topPlanPoints={},this.searchPoints={},this.customData={},this.topMarkers=[],this.topPlanMarkers=[],this.searchMarkers=[],this.projection=new l,this.enableScrollWheelZoom&&a.enableScrollWheelZoom(),a.addControl(new BMap.NavigationControl),this.polyLine=[],this.labelList=[],this.currentLabel=null,o(this).trigger("on_maploaded"),this.overFunction=function(t){t.spots[0].getUserData().name;e._recentMarker=e._createMarker(t.spots[0].getPosition(),{zIndex:1})},this.outFunction=function(){e.labelList.pop();e._map.removeOverlay(e._recentMarker)},this.addtoplan()},addHotspot:function(){this.clearHotspot(),this._map.addEventListener("hotspotover",this.overFunction),this._map.addEventListener("hotspotout",this.outFunction)},reload:function(){},clearHotspot:function(){this._map.removeEventListener("hotspotover",this.overFunction),this._map.removeEventListener("hotspotout",this.outFunction)},bindMapLoad:function(t){this._map.addEventListener("tilesloaded",t)},dragStart:function(t){this.dragStartCallback&&this._map.removeEventListener("dragstart",this.dragStartCallback),this._map.addEventListener("dragstart",t.dragStartCallback),this.dragStartCallback=t.dragStartCallback},dragEnd:function(t){this.dragEndCallback&&this._map.removeEventListener("dragend",this.dragEndCallback),this._map.addEventListener("dragend",t.dragEndCallback),this.dragEndCallback=t.dragEndCallback},zoomEnd:function(t){this.zoomEndCallback&&this._map.removeEventListener("zoomend",this.zoomEndCallback),this._map.addEventListener("zoomend",t.zoomEndCallback),this.zoomEndCallback=t.zoomEndCallback},getMap:function(){return this._map},getCenter:function(){return this._map.getCenter()},getZoom:function(){return this._map.getZoom()},enableScrollWheel:function(){this._map.enableScrollWheelZoom()},setCenterAndZoom:function(t,e){var a=this._map.getViewport(t),n=e&&e.center||a.center,i=e&&e.zoom||a.zoom;this._map.centerAndZoom(n,i)},resetCenter:function(t,e){var a=[];o(t).each(function(t,e){e.map_x&&"0"!=e.map_x&&a.push(new BMap.Point(e.map_x,e.map_y))}),this.setCenterAndZoom(a,{zoom:e})},clearOverlays:function(){this._map.clearOverlays()},_createMarker:function(t,e){var a=e||{},n=a.markIconUrl||this.markIconUrl,i=a.iconWidth||14,o=a.iconHeight||18,r=(t.xid,new BMap.Icon(n,new BMap.Size(i,o)),new BMap.Marker(t));return e.zIndex&&(r.setZIndex(e.zIndex),r.setTop(!1)),this._map.addOverlay(r),r},createMarkers:function(t,e){for(var a=this,n=[],i=0;i<t.length;i++){var o=t[i];if(o.map_x&&o.map_y){var r=new BMap.Point(o.map_x,o.map_y);a._createMarker(r),n.push(r)}}e&&a.setCenterAndZoom(n)},setNameCenter:function(t){this._map.setCenter(t),this._map.setZoom(12)},createFullMarkers:function(t,e,a){this.callback=a;var n=this;e=e||{divClass:"scene-fullMarker"},o.each(t,function(t,a){if(a.map_x&&a.map_y){var i=new BMap.Point(a.map_x,a.map_y);i.xid=a.xid||a.sid||a.uid||"0",n.topPoints[i.xid]=a;var o=new c(i,a.name||a.sname||a.hotel_name||a.title,n._map,{"class":"scenelist-text",divClass:a.divClass||e.divClass},n);n.topMarkers.push(o),n._map.addOverlay(o)}})},clearFullMarkers:function(){var t=this;this.topMarkers&&this.topMarkers.length>0&&o.each(this.topMarkers,function(e,a){t._map.removeOverlay(a)}),this.topMarkers=[]},createSearchMarkers:function(t,e,a){this.callback=a;var n=this;e=e||{},e.divClass=e.divClass||"scene-fullMarker",o.each(t,function(t,a){if(a.map_x&&a.map_y){var i=new BMap.Point(a.map_x,a.map_y);i.xid=a.xid||a.sid||a.uid||"0",n.searchPoints[i.xid]=a;var o=new c(i,a.name||a.sname||a.hotel_name||a.title,n._map,{"class":"scenelist-text",divClass:a.divClass||e.divClass},n);n.searchMarkers.push(o),n._map.addOverlay(o)}})},clearSearchMarkers:function(){var t=this;this.searchMarkers&&this.searchMarkers.length>0&&o.each(this.searchMarkers,function(e,a){t._map.removeOverlay(a)}),this.searchMarkers=[]},createPlanMarkers:function(t,e,a){this.callback=a;var n=this;o.each(t,function(t,e){if(e.map_x&&e.map_y){var a=new BMap.Point(e.map_x,e.map_y);a.xid=e.xid||e.sid||e.uid||"0",n.topPlanPoints[e.xid]=e;var i=new c(a,e.name||e.sname||e.hotel_name||e.title,n._map,{divText:t+1,zIndex:3,"class":"plan-text",divClass:"plan-fullMarker"},n);n.topPlanMarkers.push(i),n._map.addOverlay(i)}})},clearPlanMarkers:function(){var t=this;this.topPlanMarkers&&this.topPlanMarkers.length>0&&o.each(this.topPlanMarkers,function(e,a){t._map.removeOverlay(a)}),this.topPlanMarkers=[]},clearLabel:function(){var t=this;o(t.labelList).each(function(e,a){t._map.removeOverlay(a)}),t.labelList=[]},_createLabel:function(t,e,a){var n=a.offsetX||-40,i=a.offsetY||-18,r=new BMap.Label(a.label,{position:t,offset:new BMap.Size(n,i)});e&&(e.style&&r.setStyle(e.style),e.contentTpl&&r.setContent(o.string.format(e.contentTpl,a)),r._index=a.index-1,e.onclick&&r.addEventListener("click",e.onclick),e.onmouseover&&r.addEventListener("mouseover",e.onmouseover)),this._map.addOverlay(r),this.labelList.push(r)},createLabels:function(t,e){{var a=this;arguments.callee}if(!this._map)return void console.log("sss",o.data(a,"on_maploaded"));var n=[],i="display:inline-block;border: 1px solid #61a9d8;background-color:#eff8ff;border-radius: 0px 4px 4px 0px;padding:5px 6px 5px;color:#6599be;font-weight: bold;border-left:0 none;box-shadow: 0px 2px 2px #aaacad;position:relative;top:1px;";a.clearLabel();for(var r=0;r<t.length;r++){var s=t[r];if(s.map_x&&s.map_y&&"0"!=s.map_x&&"0"!=s.map_y){var c=new BMap.Point(s.map_x,s.map_y);a._createLabel(c,e,{index:r+1,style:i,text:s.label}),n.push(c)}}a.setCenterAndZoom(n)},clearCurrentPop:function(){this._map.removeOverlay(this.currentPop),this.currentPop=null},getBounds:function(){var t=this._map.getBounds();return t},createPop:function(t,e){var a=this.currentPop,n=t.xid,i=e.data||this.topPoints[n]||this.searchPoints[n]||this.topPlanPoints[n],o=e.popWidth,r={left:e.left,top:e.top,move:!0};this.showPop&&(a?(a.setData(i),a.reposition(t,r)):(a=new s(t,i,o,0,r,this),a.render(this._map)),this.currentPop=a)},activeMarker:function(t,e){{var a=(e.isCenter||!1,e.showPop);t.xid||e.xid}t.marker.setTop(!0),t.marker.status=!0;t.marker;t&&(a&&this.createPop(t,{popWidth:this.popWidth}),this._map.panTo(t))},createLine:function(t,e){var a=this,n=arguments.callee;if(!this._map)return void o(a).bind("on_maploaded",function(){n.call(a,t,e)});o(a).unbind("on_maploaded");var i=e||2;this.clearLine(),this.getTraffic(t,i,{},function(t){if(t){var e=t.getPlan(0);if(e)for(var n=0,i=e.getNumRoutes();i>n;n++){var o=e.getRoute(n),r=new BMap.Polyline(o.getPath(),{strokeColor:"#fe847d",strokeWeight:6,strokeOpacity:1});a._map.addOverlay(r),a.polyLine.push(r)}}})},getTraffic:function(t,e,a,n){var i=this;return function(){var o=!1,r=parseInt(e,10),s=null,c=t[0],l=t[1];if(c&&l){var p=new BMap.Point(c.map_x,c.map_y),m=new BMap.Point(l.map_x,l.map_y),h=i._map.getDistance(p,m)/1e3;r?o=!1:(o=!0,1>h?(i._trafficType=1,r=1):20>h?(i._trafficType=3,r=3):(i._trafficType=2,r=2));var d=function(t){switch(t){case 1:s=new BMap.WalkingRoute(p);break;case 2:s=new BMap.DrivingRoute(p);break;case 3:s=new BMap.TransitRoute(p,{pageCapacity:1})}},u=function(t,e){t&&s.setSearchCompleteCallback(function(a){if(s.getStatus()==BMAP_STATUS_SUCCESS||void 0==s.getStatus())t(a,r);else{if(!o)return void t(!1,r);2==r?(r=1,d(r),u(t,e),console.log(s),s.search(p,m)):3==r&&(r=2,d(r),u(t,e),console.log(s),s.search(p,m))}})};d(r),u(n,a),s.search(p,m)}}()},getTrafficContent:function(t,e,a,n){var i=[];this.getTraffic(t,e,a,function(t,e){if(t){var a=t.getPlan(0);if(a){distance=a.getDistance(!1);for(var o=0,r=a.getNumRoutes();r>o;o++)if(1==e||2==e)for(var s=a.getRoute(0),c=s.getNumSteps(),l=0;c>l;l++)i.push(s.getStep(l).getDescription(!1));else if(a.getDescription){var p=a.getDescription(!1);i=p.match(/(乘坐|步行)[^乘坐|步行]+/gi)}n({content:i,type:e,distance:a.getDistance(),time:a.getDuration(),from:t.getStart(),to:t.getEnd(),hasTraffic:1})}}else n({hasTraffic:0,type:e})})},renderTrafficPanel:function(t){var e=[];if(1==t.traffic||2==t.traffic)for(var a=t.firstPlan.getRoute(0),n=a.getNumSteps(),i=0;n>i;i++)e.push(a.getStep(i).getDescription(!1));else if(t.firstPlan.getDescription){var o=t.firstPlan.getDescription(!1);e=o.match(/(乘坐|步行)[^乘坐|步行]+/gi)}t.dom;var r={list:e,from:t.start.name,to:t.end.name,config:t.traffci};return r},update:function(t,e){this.createPoint(t,e)},removeLine:function(){},clearLine:function(){var t=this;o(this.polyLine).each(function(e,a){t._map.removeOverlay(a)}),this.polyLine=[]},addCustomLayer:function(t){t=t||{},this._customData={geotableId:48349,q:"",tags:t.tag||"",filter:""};this.customLayer&&this._map.removeTileLayer(this.customLayer),this.customLayer=new BMap.CustomLayer(this._customData),this._map.addTileLayer(this.customLayer),this.customLayer.addEventListener("hotspotclick",t.callback)},clearCustomLayer:function(){this._map.removeTileLayer(this.customLayer)},pointToPixel:function(t){var e=this.projection.lngLatToMercator(t);return e},pixelToPoint:function(t){var e=this.projection.mercatorToLngLat(t);return e},localSearch:function(t){var e=new BMap.LocalSearch(this._map,{onSearchComplete:t.callback});return e},getCustomData:function(){return this._customData},createInfoWindow:function(t){if(t.anchor){var e=this;e._infoWindow||(e._infoWindow=new BMap.InfoWindow("",{offset:new BMap.Size(10,-10),width:0,enableMessage:!1})),e._infoWindow.setContent(t.contentHTML),e._map.openInfoWindow(e._infoWindow,t.anchor.getPosition())}},closeInfoWindow:function(){this._infoWindow&&this._map.closeInfoWindow()},reSetInfoWindowStyle:function(){var t=this;setTimeout(function(){var e=t._infoWindow.map.infoWindowDoms,a=e.popDom,n=o(a).children("div"),i=n.length;n.each(function(t,e){if(t==i-1)o(e).css({width:162,"background-color":"white",padding:5,border:"1px solid #ccc"});else if(t==i-2){var a=parseInt(o(e).css("top"),10)-4;o(e).css({top:a,"z-index":11})}else o(e).hide()});var r=e.closeButton,s=parseInt(o(r).css("left"),10)-55;r.src="/static/widget/destination/view-sub/line-main/img/scene-overlay-close.png",o(r).css({left:s})},2)},addCustomData:function(t){this.customData[t.sid]=t},getMapData:function(t){var e=this,a=e.topPlanPoints[t]||e.topPoints[t]||e.searchPoints[t]||e.customData[t];if(a.name=a.sname||a.name,!a.map_x){var n={lng:a.ext.map_x,lat:a.ext.map_y},i={map_x:e.pixelToPoint(n).lng,map_y:e.pixelToPoint(n).lat};a.map_x=i.map_x,a.map_y=i.map_y}return a},addtoplan:function(){var t=this;o(document).delegate(".J_add-to-plan","click",function(){var e=o(this).attr("data-xid"),a=o(this).attr("type"),n=(o(this).attr("name"),o(this).attr("data-picurl")),i={xid:e,type:a,traffic:{}},r=t.topPlanPoints[e]||t.topPoints[e]||t.searchPoints[e]||t.customData[e];if(r.name=r.sname||r.name,r.xid=e,1==a&&(r.album_pic_url=n),!r.map_x){var s={lng:r.ext.map_x,lat:r.ext.map_y},c={map_x:t.pixelToPoint(s).lng,map_y:t.pixelToPoint(s).lat};r.map_x=c.map_x,r.map_y=c.map_y}t.planData.addPath(i,r,"from_map")})}}),a.exports=n});
;define("common:widget/ui/cascadeSelect/cascadeSelect.js",function(e,t,n){function o(e){var t=this;c.object.extend(t,e),t.selects=[]}var c=e("common:widget/lib/tangram/base/base.js");o.prototype={render:function(e,t){var n=1,o=this;for(t.defaults=t.defaults||[],o.renderLevel=e,o._renderRoot(t.containers[0],t.defaults[0]);e>n;n++)o._toChange(n,t.containers[n],t.defaults[n])},_renderRoot:function(e,t){var n=this;n.appendData(1,n.data,e,t),n.selects[0].onchange=function(){n._toChange(1,e,t)}},getSelectedOptions:function(){for(var e=[],t=this,n=0;n<t.selects.length;n++)e.push(t.getSelectedOption(n+1));return e},getSelectedOption:function(e){var t=this,n=t.selects[e-1];return n.options.length>0?n.options[n.selectedIndex]:null},appendData:function(e,t,n,o,s){var a,i,l=this,n=c.g(n),r=l.selects[e-1]||l._createSelect(e,n),d=0,t=t||[],h=t.length;if(r.options.length=0,e-1>0&&s&&s!=r[e-2].value)return!1;for(r.style.display=0==t.length?"none":"";h>d;d++)a=t[d],a.text=a.text||a.value,i=new Option(a.text,a.value),i.item=a,i.select=r,r.options[r.options.length]=i,i.value==o&&(i.selected=!0);e-2>=0&&l.getSelectedOption(e-1)&&(l.getSelectedOption(e-1).item.children=t),r.onchange=function(){l._toChange(e,n,o)}},_toChange:function(e,t,n){var o=this,c=o.selects[e-1],s=c.options[c.selectedIndex];e<o.renderLevel&&s.item.children?o.appendData(e+1,s.item.children,t,n):o.onchange&&o.onchange(e,s.item),o.onselectchange&&o.onselectchange(e,s.item),o._sync(e+1)},_sync:function(e){for(var t,n,o=this,c=o.selects.length,s=e;c>s;s++)t=o.selects[s-1].options[0],n=null==t?[]:t.item.children,o.appendData(s+1,n)},_createSelect:function(e,t){var n=this,o=c.dom.create("select"),t=c.g(t);return t.appendChild(o),n.selects[e-1]=o,o}},n.exports=o});
;define("common:widget/ui/citySelector/citySelector.js",function(t,e,i){var a=t("common:widget/lib/tangram/base/base.js"),n=t("common:widget/lib/tangram/ui/Tab/Tab.js"),o=t("common:widget/lib/tangram/ui/Popup/Popup.js"),s=[],c=a.lang.createClass(function(t){var e={from:0,url:"/business/ajax/hotel/getcitylist"};a.extend(this,e),s.push(this),a.extend(this,t),this._init()}).extend({events:{ON_SELECTED:"onselected",ON_HID:"onhid",ON_SHOWN:"onshown"},show:function(t,e){this._ele=t;var i=this;!e&&a.event.on(this._ele,"click",function(t){a.event.stop(t)});var n=a.dom.getPosition(t);n.left+400>a.page.getViewWidth()&&(n.left-=400-t.clientWidth),n.top+=t.clientHeight,this._popup.open(),this._popup.update(n),a.dom.show(this._tab.getMain()),a.array.each(s,function(t){t!=i&&t.hide()}),i.dispatchEvent(i.events.ON_SHOWN)},hide:function(){var t=this;setTimeout(function(){t._popup.close(),a.dom.hide(t._tab.getMain()),t.dispatchEvent(t.events.ON_HID)},0)},_bind:function(){var t=this,e=this._popup.getMain();a.event.on(e,"click",function(e){var i=a.event.getTarget(e),n=a.dom.getAttr(i,"data-action");switch(n){case"place-choose":var o=a.dom.getAttr(i,"data-sname");t._ele.value=o,t.dispatchEvent(t.events.ON_SELECTED,{sid:a.dom.getAttr(i,"data-sid"),sname:o}),t.hide();break;case"close":t._popup.close()}a.event.stop(e)}),a.event.on(document,"click",function(){t.hide()})},_init:function(){var t=this;this._getData(function(e){t._create(e)})},_getData:function(t){var e={from:this.from,format:"ajax",t:(new Date).getTime()};a.ajax.get(this.url+"?"+a.url.jsonToQuery(e),function(e){var i=a.json.parse(e.responseText);0===i.errno&&t&&t(i.data.list||[])})},_dataToDataset:function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],s={head:"hot"==o.title.toLowerCase()?"热门":o.title},c=[];c.push("<div class='place-choose-container clearfix'>");for(var r=0,h=o.cities.length;h>r;r++){var d=o.cities[r];c.push(a.string.format("<div class='place-item'><a href='###' data-action='place-choose' data-sname='#{sname}' data-sid='#{sid}'>#{sname}</a></div>",d))}c.push("</div>"),s.body=c.join(""),e.push(s)}return e},_create:function(t){var e=this,i=e._dataToDataset(t),s=(this._tab=new n({items:i,switchType:"click"}),a.dom.create("div"));s.innerHTML="<a class='close' href='###' data-action='close'>×</a>",this._popup=new o({content:s,width:"400px",classPrefix:"city-selector"}),this._popup.render(document.body),this._tab.render(s),this._bind(),this._popup.close()}});i.exports=c});
;define("common:widget/ui/clicklog/clicklog.js",function(e,l,n){var a=e("common:widget/ui/jquery/jquery.js"),o=function(l,n,a,t){var i=(new Date).getTime(),c=e("pagePath").join(".").replace("page.",""),r=["http://lvyou.baidu.com/click.gif?pid="+o.pid,"url="+encodeURIComponent(l),"client_type=1","da_trd=lvyou","da_src="+c+"Pg","da_act="+(a.da_act||a.pos),"lbs_lvyou_model="+e("pagePath")[0],"t="+i];for(var u in a)r.push(u+"="+a[u]);for(var u in o.globalParams)r.push(u+"="+o.globalParams[u]);o.imageReq(r.join("&"),t)};o.pid=308,o.globalParams={},o.set=function(e,l){o.globalParams[e]=l},o.imageReq=function(e,l){var n="iknowlog_"+(new Date).getTime(),a=window[n]=new Image;a.onload=a.onerror=function(){window[n]=null,l&&l()},a.src=e,a=null};var t=function(){a(document).on("mousedown",function(e){for(var l=e||window.event,n=l.target||l.srcElement,t=3,i=!1,c=null,r=!0,u=window.location.href;n;){if(1==n.nodeType){if(t>0){if(u=n.href&&n.href.length>2?n.href:window.location.href,r&&a(n).hasClass("clicklog")){var g={x:l.pageX,y:l.pageY},p=a.parseJSON(a(n).attr("clicklog")),d=0;if(p){d=p.type||0,p.type=null;try{delete p.type}catch(e){}g=a.extend(g,p),o(u,d,g),r=!1}g=null,p=null,d=null}!i&&n.href&&(i=!0,c=u)}if(i&&a(n).hasClass("clicklog-area")){var g={x:l.pageX,y:l.pageY},p=a.parseJSON(a(n).attr("clicklog")),d=0;if(p){d=p.type||0,p.type=null;try{delete p.type}catch(e){}g=a.extend(g,p),o(u,d,g)}g=null,p=null,d=null}}t--,n=n.parentNode}n=null}),a(".clicklog-show").each(function(e,l){var n=a.parseJSON(a(l).attr("clicklog")),t=0,i=l.href&&l.href.length>2?l.href:window.location.href;if(n){t=n.type||0,n.type=null;try{delete n.type}catch(c){}n.cmd="show",o(i,t,n)}})};n.exports={init:t,clicklog:o}});
;define("common:widget/ui/countback/countback.js",function(n,t,e){var o=n("common:widget/lib/tangram/base/base.js");e.exports.countback=e.exports.countback||{instances:{}},e.exports.countback=function(n){var t=function(n,t){"string"==typeof n.textContent?n.textContent=t:n.innerText=t},e=function(t,e){n.dom.setStyle(e,"color",t)},o=function(o,r){if(n.dom.hasClass(o,r.defaultprompt))return t(r.numberContainer,0),!1;var i=n.string.trim(o.value),u=r.gbk!==!0?i.length:Math.ceil(n.string.getByteLength(i)/2);t(r.numberContainer,u),u>r.max?(e(r.alertColor,r.numberContainer),r.onfail()):(e(r.defaultColor,r.numberContainer),r.onsuccess())};return function(t,e){if(t){var r=t,i={numberContainer:null,max:140,gbk:!0,defaultColor:"#666",alertColor:"#cc0000",defaultprompt:"prompt-default",oninput:function(){},onfail:function(){},onsuccess:function(){}};n.object.extend(i,e),null===i.numberContainer&&(i.numberContainer=document.createElement("span"),n.dom.insertAfter(i.numberContainer,r)),o(r,i),n.event.on(r,"focus",function(){o(r,i)});var u=n.browser.ie&&n.browser.ie<9?"propertychange":"input";n.event.on(r,u,function(){o(r,i),n.lang.isFunction(i.oninput)&&i.oninput()}),9==n.browser.ie&&n.event.on(r,"keyup",function(t){8==t.keyCode&&(o(r,i),n.lang.isFunction(i.oninput)&&i.oninput())})}}}(o)});
;define("common:widget/ui/eJS/view.js",function(){EJS.Helpers.prototype.date_tag=function(t,e){e instanceof Date||(e=new Date);for(var r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[],o=[],i=[],a=e.getFullYear(),s=e.getMonth(),l=e.getDate(),p=a-15;a+15>p;p++)n.push({value:p,text:p});for(var u=0;12>u;u++)o.push({value:u,text:r[u]});for(var f=0;31>f;f++)i.push({value:f+1,text:f+1});var _=this.select_tag(t+"[year]",a,n,{id:t+"[year]"}),c=this.select_tag(t+"[month]",s,o,{id:t+"[month]"}),g=this.select_tag(t+"[day]",l,i,{id:t+"[day]"});return _+c+g},EJS.Helpers.prototype.form_tag=function(t,e){return e=e||{},e.action=t,1==e.multipart&&(e.method="post",e.enctype="multipart/form-data"),this.start_tag_for("form",e)},EJS.Helpers.prototype.form_tag_end=function(){return this.tag_end("form")},EJS.Helpers.prototype.hidden_field_tag=function(t,e,r){return this.input_field_tag(t,e,"hidden",r)},EJS.Helpers.prototype.input_field_tag=function(t,e,r,n){return n=n||{},n.id=n.id||t,n.value=e||"",n.type=r||"text",n.name=t,this.single_tag_for("input",n)},EJS.Helpers.prototype.is_current_page=function(t){return window.location.href==t||window.location.pathname==t?!0:!1},EJS.Helpers.prototype.link_to=function(t,e,r){if(!t)var t="null";if(!r)var r={};return r.confirm&&(r.onclick=' var ret_confirm = confirm("'+r.confirm+'"); if(!ret_confirm){ return false;} ',r.confirm=null),r.href=e,this.start_tag_for("a",r)+t+this.tag_end("a")},EJS.Helpers.prototype.submit_link_to=function(t,e,r){if(!t)var t="null";if(!r)var r={};return r.onclick=r.onclick||"",r.confirm&&(r.onclick=' var ret_confirm = confirm("'+r.confirm+'"); if(!ret_confirm){ return false;} ',r.confirm=null),r.value=t,r.type="submit",r.onclick=r.onclick+(e?this.url_for(e):"")+"return false;",this.start_tag_for("input",r)},EJS.Helpers.prototype.link_to_if=function(t,e,r,n,o,i){return this.link_to_unless(0==t,e,r,n,o,i)},EJS.Helpers.prototype.link_to_unless=function(t,e,r,n,o){return n=n||{},t?o&&"function"==typeof o?o(e,r,n,o):e:this.link_to(e,r,n)},EJS.Helpers.prototype.link_to_unless_current=function(t,e,r,n){return r=r||{},this.link_to_unless(this.is_current_page(e),t,e,r,n)},EJS.Helpers.prototype.password_field_tag=function(t,e,r){return this.input_field_tag(t,e,"password",r)},EJS.Helpers.prototype.select_tag=function(t,e,r,n){n=n||{},n.id=n.id||t,n.value=e,n.name=t;var o="";o+=this.start_tag_for("select",n);for(var i=0;i<r.length;i++){var a=r[i],s={value:a.value};a.value==e&&(s.selected="selected"),o+=this.start_tag_for("option",s)+a.text+this.tag_end("option")}return o+=this.tag_end("select")},EJS.Helpers.prototype.single_tag_for=function(t,e){return this.tag(t,e,"/>")},EJS.Helpers.prototype.start_tag_for=function(t,e){return this.tag(t,e)},EJS.Helpers.prototype.submit_tag=function(t,e){return e=e||{},e.type=e.type||"submit",e.value=t||"Submit",this.single_tag_for("input",e)},EJS.Helpers.prototype.tag=function(t,e,r){if(!r)var r=">";var n=" ";for(var o in e){if(null!=e[o])var i=e[o].toString();else var i="";"Class"==o&&(o="class"),n+=-1!=i.indexOf("'")?o+'="'+i+'" ':o+"='"+i+"' "}return"<"+t+n+r},EJS.Helpers.prototype.tag_end=function(t){return"</"+t+">"},EJS.Helpers.prototype.text_area_tag=function(t,e,r){return r=r||{},r.id=r.id||t,r.name=r.name||t,e=e||"",r.size&&(r.cols=r.size.split("x")[0],r.rows=r.size.split("x")[1],delete r.size),r.cols=r.cols||50,r.rows=r.rows||4,this.start_tag_for("textarea",r)+e+this.tag_end("textarea")},EJS.Helpers.prototype.text_tag=EJS.Helpers.prototype.text_area_tag,EJS.Helpers.prototype.text_field_tag=function(t,e,r){return this.input_field_tag(t,e,"text",r)},EJS.Helpers.prototype.url_for=function(t){return'window.location="'+t+'";'},EJS.Helpers.prototype.img_tag=function(t,e,r){return r=r||{},r.src=t,r.alt=e,this.single_tag_for("img",r)}});
;define("common:widget/ui/share/share.js",function(t,e,i){var n=t("common:widget/lib/tangram/base/base.js");!function(){function t(t){this.type=t,this.fnParams=new Array}n.extend(t.prototype,{_setSiteUrl:function(t,e){var i=[];for(var n in e)i.push(n+"="+encodeURIComponent(e[n]||""));siteUrl=t+"?",siteUrl+=i.join("&"),this.fnParams.push(siteUrl)},_addWindowParams:function(t){this.fnParams=this.fnParams.concat(t)},_getWindowLocalString:function(t,e){return["width=",t,",","height=",e,",","left=",(screen.width-t)/2,",","top="+(screen.height-e)/2].join("")},init:function(t){var e=t.pic.split("|");n.array.each(e,function(t){var e=new Image;e.src=t});var i=n.object.clone(t);i.title=n.string.decodeHTML(i.title),i.title=n.string.decodeHTML(i.title);var r=i.pic.charAt(i.pic.length-1);i.pic.length>0&&"|"===r&&(i.pic=i.pic.substring(0,i.pic.length-1));var a=i.url.split("?");a.length>1?i.url=/share=/i.test(a[1])?a.join("?"):[a[0],"?share="+this.type+"&",a[1]].join(""):(a=i.url.split("#"),a.length>1?i.url=[a[0],"?share="+this.type,"#",a[1]].join(""):i.url+="?share="+this.type);var s=i.withoutPic;switch(delete i.withoutPic,this.type){case"renren":i.pic=i.pic.split("|")[0],this._setSiteUrl("http://widget.renren.com/dialog/share",i),this._addWindowParams(["sharer","toolbar=0,status=0,"+this._getWindowLocalString(550,400)]);break;case"sina":i.pic=i.pic.split("|")[0],i.appkey=i.sina_appkey,s&&n.extend(i,{searchPic:"false"}),this._setSiteUrl("http://service.weibo.com/share/share.php",i),this._addWindowParams(["sharer",this._getWindowLocalString(615,505)]);break;case"tqq":i.appkey=i.tqq_appkey,this._setSiteUrl("http://v.t.qq.com/share/share.php",i),this._addWindowParams(["sharer","toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no,"+this._getWindowLocalString(700,480)]);break;case"qzone":this._setSiteUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",i),this._addWindowParams(["sharer","toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no,"+this._getWindowLocalString(700,480)]);break;case"qq":i.pics=i.pic,i.site="baidu",i.summary="",i.pic="",i.url=i.url.split("?")[0]+"#"+i.url.split("?")[1],this._setSiteUrl("http://connect.qq.com/widget/shareqq/index.html",i),this._addWindowParams(["sharer","toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no,"+this._getWindowLocalString(700,480)]);break;default:return}},exec:function(){var t=window.open;t.apply?t.apply(window,this.fnParams):t(this.fnParams[0],this.fnParams[1],this.fnParams[2])},load:function(){window.open("/static/common/html/loading-jump.html","sharer","width=600,height=500")}});var e=new Array("renren","sina","tqq","qzone","qq","webchat");t.testSupport=function(t){return n.array.contains(e,t)},i.exports.shareComponent=t}(),function(){var e={};n.extend(e,{_getContent:function(){this._bdShare=n.dom.query(".share-bar")},init:function(t){this._getContent();var e=t.pic.split(";"),i=!1;n.array.each(e,function(t){if(""!=n.string.trim(t)&&!i){var e=new Image;e.src=t,i=!0}});var r=n.object.clone(t),a=r.pic.charAt(r.pic.length-1);r.pic.length>0&&";"===a&&(r.pic=r.pic.substring(0,r.pic.length-1));var s=t.url||location.href;-1!=s.indexOf("#")&&(s=s.slice("#")[0]),s+=-1!=s.indexOf("?")?"&isshare=1&sharefr=pc":"?isshare=1&sharefr=pc";var o={text:t.title||document.title,pic:r.pic||"",url:s,desc:t.desc||"",comment:t.comment||""};o=n.json.stringify(o),n.array.each(this._bdShare,function(t){n.dom.setAttr(t,"data",o)})},update:function(e){var i=e||t("share");this.init(i)},noPic:function(t){var e=t&&0==t?0:1;"undefined"!=typeof bds_config&&(bds_config.searchPic=e)},exec:function(){}}),i.exports.bdShareComponent=e}()});
;define("common:widget/ui/ugc-score/ugc-score.js",function(e,i,t){var o,s=o=e("common:widget/ui/jquery/jquery.js"),n=e("common:widget/ui/share/share.js"),a=e("common:widget/ui/subcookie/subcookie.js");e("common:widget/lib/template.js");var c=e("user"),r=function(e,i){c&&c.is_login&&(this.style=e,this._config=i,this.saveKey="BDLVWEEK",this.subKey="LV_UGCSCORE_PLANT")};s.extend(r.prototype,{init:function(){switch(this.style){case"window":this.config={showDuring:500,animateDuring:1e3,stayDuring:1e4,hideDuring:300,type:"plus",score:100,scoreChange:100,wealth:6e3,wealthChange:200,level:4,levelName:"屌丝",right:"video",rightName:"游记插入视频",words:null,rurl:null};break;default:this.config={animateDuring:1e3,showDuring:0,stayDuring:1500,hideDuring:300,dom:null,top:10,left:0,scoreChange:100,wealthChange:200,rurl:null}}if(!!this._config&&s.extend(this.config,this._config),this.config.location={pos:{},width:0,height:0},this.config.dom){this.config.dom instanceof o||(this.config.dom=s(this.config.dom));var e=this.config.dom;this.config.location.pos=e.offset(),this.config.location.width=e.width(),this.config.location.height=e.height()}!this.config.pageFresh&&this.config.rurl?this.getScore():this.config.pageFresh&&this.hasPlant()&&(this.dig(),this.config.rurl&&this.getScore())},changeStyle:function(){},create:function(){switch(this.style){case"pop":this.createPop();break;case"window":this.createWindow()}},createPop:function(){this.pop=s(['<div class="ugc-score-pop" id="J_ugc-score-pop">','<a href="/help/point/" class="ugc-score-change" target="_blank">','<span class="ugc-score-icon ugc-score">'+this.config.scoreChange+"</span>",'<span class="ugc-score-icon ugc-wealth">'+this.config.wealthChange+"</span>","</a>","</div>"].join("")),this.pop.appendTo(s("body"));var e,i,t=this;this.config.dom?(e=this.config.location.pos.top-t.pop.height()-t.config.top,i=this.config.location.pos.left+this.config.location.width/2-t.pop.width()/2+t.config.left):(e=s(window).height()/2+s(window).scrollTop(),i=s(window).width()/2-t.pop.width()/2),this.pop.css({top:e,left:i,opacity:1}).delay(t.config.stayDuring).animate({top:e-40,opacity:0},{duration:t.config.animateDuring,complete:function(){t.pop.remove()}})},createWindow:function(){var e,i=this.config.words,t=this.config.type;switch(t){case"plus":e="给你加一点点分";break;case"minus":e="给你扣一点点分";break;case"levelup":e=["<p>","<strong>恭喜你！成功升级到：</strong>",'<span class="ugc-score-icon ugc-level-<#-level#>"><#-levelName#></span>',"</p>","<p>","<span>奖励升级红包：财富值</span>",'<span class="ugc-score-icon ugc-wealth"><#-wealthChange#></span>',"</p>","<p>","<span>奖励专属特权：</span>",'<span class="ugc-score-icon ugc-right-<#-right#>"><#-rightName#></span>',"</p>"].join("")}e=i||e,this.pop=['<div class="ugc-score-window" id="J_ugc-score-window">','<div class="ugc-score-',this.config.classWrapper||t,'">','<a href="###" title="关闭" class="ugc-score-close J_score-close"></a>','<div class="ugc-score-image"></div>','<div class="ugc-score-words">',e,'<a href="/help/point/" class="ugc-score-change" target="_blank">','旅历值 <span class="ugc-score-icon ugc-score"><#-scoreChange#></span>','财富值 <span class="ugc-score-icon ugc-wealth"><#-wealthChange#></span>',"</a>","</div>","<#-ugcScoreShareHTML#>","</div>","</div>"].join(""),this.config.ugcScoreShareHTML=this.config.isWithSharebar?['<div class="ugc-score-share share-bar">',"<span>分享到: </span>","<a class=\"share-sina sns-share-btn nslog\" title=\"新浪微博\" data-from=\"sina\" data-nslog=\"{'type':718, 'page':'ugc-score', 'pos':'sina-share'}\" href=\"###\"></a>","<a class=\"share-qzone sns-share-btn nslog\" title=\"qq空间\" data-from=\"qzone\" data-nslog=\"{'type':718, 'page':'ugc-score', 'pos':'qzone-share'}\" href=\"###\"></a>","<a class=\"share-renren sns-share-btn nslog\" title=\"人人网\" data-from=\"renren\" data-nslog=\"{'type':718, 'page':'ugc-score', 'pos':'renren-share'}\" href=\"###\"></a>","<a class=\"share-tqq sns-share-btn nslog\" title=\"腾讯微博\" data-from=\"tqq\" data-nslog=\"{'type':718, 'page':'ugc-score', 'pos':'tqq-share'}\" href=\"###\"></a>","</div>"].join(""):"",this.pop=s(__inline(this.pop,this.config)),this.pop.appendTo(s("body")).hide();var o=this;this.footLayer=s("#J_foot-layer"),setTimeout(function(){o.show()},o.config.showDuring)},plant:function(){a.set(this.saveKey,this.subKey,1)},hasPlant:function(){return parseInt(a.get(this.saveKey,this.subKey),10)},dig:function(){a.set(this.saveKey,this.subKey,0)},show:function(){var e=s(window).width(),i=this;this.pop.fadeIn(),this.width=this.pop.width(),this.pop.css({position:"fixed",left:(e-i.width)/2,bottom:i.footLayer.length>0?i.footLayer.height():0}),this.eventBind(),setTimeout(function(){i.animate()},i.config.showDuring)},animate:function(){var e=this;if(this.pop){var i=s(window).width(),t={left:i-e.width};e.pop.animate(t,e.config.animateDuring,function(){e.hideTimer()})}},hideTimer:function(){var e=this;e.popHideTimer=setTimeout(function(){"levelup"!==e.config.type&&e.hide()},e.config.stayDuring)},hide:function(){var e=s(window).width(),i=this;i.pop.animate({left:e+i.width+100,bottom:0},i.config.hideDuring,function(){i.destroy()})},destroy:function(){this.pop&&this.pop.remove()},getScore:function(){var e=this,i="/ugc/ajax/getugcinfo?format=ajax&t="+(new Date).getTime();s.get(i,{rurl:e.config.rurl||""},function(i){if(0==i.errno){var t=i.data;!!t&&s.extend(e.config,{score:t.score,scoreChange:"+"+t.score_change,wealth:t.wealth,wealthChange:"+"+t.wealth_change,level:t.level,right:t.right}),e.config.type=parseInt(t.level)>parseInt(c.level,10)?"levelup":parseInt(t.score_change,10)>0?"plus":"minus","levelup"==e.config.type&&(e.style="window",F.context("user").level=c.level=t.level),setTimeout(function(){e.create()},e.config.showDuring)}},"json")},eventBind:function(){var e=this;this.pop.on("click",".J_score-close",function(){e.hide(e.pop)}),this.pop.on("mouseenter",function(){clearTimeout(e.popHideTimer),e.popHideTimer=null}),this.pop.on("mouseleave",function(){e.hideTimer()}),this.pop.on("click",".sns-share-btn",function(){var i=s(this).attr("data-from");if(i){var t=new n.shareComponent(i);e.config.shareFunction?e.config.shareFunction(i):(t.init({title:e.config.shareTitle||F.context("share").title,url:location.href,pic:""}),t.load(),t.exec())}})}});var h=function(e,i){return new r(e,i)},g=function(e,i){var t=new r(e,i);return t.init(),t};t.exports={create:h,init:g}});
;define("common:widget/ui/favorite/favorite.js",function(t,e,n){var i=t("common:widget/lib/tangram/base/base.js"),o=t("common:widget/ui/nslog/nslog.js"),s=(t("common:widget/ui/dialog/dialog.js"),t("common:widget/ui/inputprompt/inputprompt.js"),t("common:widget/ui/login/login.js")),r=t("common:widget/ui/ugc-score/ugc-score.js"),a=i.lang.createClass(function(t){this.opts=i.object.extend({action:""},t)}).extend({send:function(e,n){var o=this,s=t("user").bdstoken,r={xid:e,type:n,bdstoken:s};i.ajax.post("/user/favorite/save?format=ajax",i.url.jsonToQuery(r),function(t){var e=i.json.parse(t.responseText);0===e.errno?o.dispatchEvent("onsuccess",{_type:n}):o.dispatchEvent("onerror",e.errno)})}});n.exports.Core=a;var u=i.lang.createClass(function(t){this.xid,this.type,this.nslog,this.favoriteCount,this._isFavorited=!!t.isFavorited,this.pop=!1,i.extend(this,t),this.core=new a({action:this.action}),u.instances.push(this)}).extend({render:function(t){this._ui=this.uiCreate(this.favoriteCount),i.dom.empty(t),t.appendChild(this._ui),this._isFavorited&&this.uiUpdate(),!this._isFavorited&&this.init()},uiCreate:function(t){var e=i.dom.create("span",{className:"common-favorite-btn"}),n=function(){i.addClass(this,"re-hover")},o=function(){i.removeClass(this,"re-hover")};i.on(e,"mouseover",n),i.on(e,"mouseout",o),this.unbind=function(){i.un(e,"mouseover",n),i.un(e,"mouseout",o)};var s=['<span class="common-favorite-btn-l"></span>','<span class="common-favorite-btn-num"><em class="favorite-btn-count">'+(t?t:0)+"</em></span>",'<span class="common-favorite-btn-r"></span>','<span class="common-favorite-btn-hover-tip" style="display:none;">收藏</span>'];return e.innerHTML=s.join(""),e},uiUpdate:function(){var t=this;this.unbind(),i.removeClass(this._ui,"re-hover"),i.dom.addClass(this._ui,"gray-btn");var e=i.dom.query("em.favorite-btn-count",this._ui)[0];e.innerHTML=t.favoriteCount,this._ui.title="你已经收藏过这篇游记啦"},getHitTarget:function(t){return t},getHoverTips:function(t){var e=i.dom.query("span.common-favorite-btn-hover-tip",t);return e},update:function(){var t=this._ui;this.favoriteCount++;var e=this._isFavorited?this.favoriteCount:this.favoriteCount;this.uiUpdate(t,e);var n=this._ui,o=this.getHoverTips(this._ui);i.lang.isArray(n)?i.array.each(n,function(t,e){i.dom.hide(o[e]),i.event.un(t,"click"),i.event.un(t,"mouseover"),i.event.un(t,"mouseout")}):(i.dom.hide(o[0]),i.event.un(n,"click"),i.event.un(n,"mouseover"),i.event.un(n,"mouseout"))},onError:function(){},doFavorite:function(){var t=this;t._isFavorited||t.dispatchEvent("onfavorite",{xid:t.xid,favoriteType:t.type})},init:function(){var t=this,e=this.getHitTarget(this._ui);if(this.hoverTips=this.getHoverTips(this._ui),e){var n=function(e,n){i.un(n,"click");var r=window.location.href;o.nslog(r,202,t.nslog),s.check(function(){t.doFavorite()}),i.event.stop(e)},r=function(e){i.dom.show(t.hoverTips[e])},a=function(e){i.dom.hide(t.hoverTips[e])};i.lang.isArray(e)?i.array.each(e,function(t,e){i.event.on(t,"click",function(e){n(e,t)}),i.event.on(t,"mouseover",i.fn.bind(r,this,e)),i.event.on(t,"mouseout",i.fn.bind(a,this,e))}):(i.event.on(e,"click",function(t){n(t,e)}),i.event.on(e,"mouseover",i.fn.bind(r,this,0)),i.event.on(e,"mouseout",i.fn.bind(a,this,0)))}this.addEventListener("onfavorite",function(e){var n=e.xid,i=e.favoriteType;t.core.send(n,i)}),this.core.addEventListener("onsuccess",function(t){u.uiUpdate(e,t._type)}),this.core.addEventListener("onerror",function(){})}});u.instances=[],u.uiUpdate=function(t,e){i.array.each(u.instances,function(t){t.update()});var n=null;switch(parseInt(e,10)){case 1:n="notes_favorite";break;case 2:break;case 3:n="notes_favorite";break;case 6:n="footprint_favorite";break;case 10:n="pictravel_favorite"}n&&r.init("pop",{rurl:n,dom:t})},u.onError=function(){i.array.each(u.instances,function(t){t.onError()})},n.exports.FavoriteButton=u});
;define("common:widget/ui/score/score.js",function(s,o,r){var i=s("common:widget/lib/tangram/base/base.js"),c={toHTML:function(s){if(i.browser.ie<9)return this._toGif(s);var o=['<div class="#{cssClass}">','<span class="score-up"><span class="score-up-number">+#{score}</span></span>',"</div>"].join("");return i.string.format(o,s)},_toGif:function(s){var o=['<div class="#{cssClass}">','<img src="/static/common/img/score-up/score-#{score}.gif" alt="加#{score}分" />',"</div>"].join("");return i.string.format(o,s)}};r.exports.notice=c});
;define("common:widget/ui/follow/follow.js",function(o,l,n){function t(){return d+=1,"lv_follow_"+d.toString(32)}function a(o,l){var n="follow"===l?1:0;s.lang.eventCenter.dispatchEvent("followUpdate",{uid:o,relation:n});var a=s.dom.q("J-follow-btn");s.array.each(a,function(n){var a,e=n.getElementsByTagName("a"),r="";e.length>0&&(a=e[0],r=s.dom.getAttr(a,"data-nslog"));var i=n.id||t();n.id=i;var c=s.dom.getAttr(n,"data-uid"),f=s.dom.getAttr(n,"data-cancel"),d=s.dom.getAttr(n,"data-style-follow")||"",g=s.dom.getAttr(n,"data-style-unfollow")||"",p=[];o==c&&(""!==r&&(u[i]=r),"follow"===l?""==g?(p.push('<span class="btn-already"><span class="icon icon-fans">已关注</span>'),1==f&&p.push(' | <a href="###" class="J-followUserCancelBtn" onclick="'+m+'">取消</a>'),p.push("</span>")):p.push('<a class="'+g+'" href="###" onclick="'+m+'">取消关注</a>'):"unfollow"===l&&(u[i]&&(d+=" nslog"),p.push('<a class="btn '+d+'" href="###" onclick="'+w+'" '),u[i]&&p.push('data-nslog="'+u[i]+'"'),p.push('><em><span class="icon icon-follow">关注</span></em></a>')),n.innerHTML=p.join(""))})}function e(l,n,t){r.check(function(){var e="follow"===n?"save":"cancel",r=o("user"),u="/user/follow/"+e+"?format=ajax",d="uid="+l+"&bdstoken="+r.bdstoken;s.ajax.post(u,d,function(o,e){var r=s.json.parse(e);0==r.errno?("follow"==n?(c.splash("关注成功"+i.notice.toHTML({score:1})),f.init("pop",{dom:t,rurl:"follow"})):c.splash("已取消关注"),a(l,n)):c.splash(!1)})})}var s=o("common:widget/lib/tangram/base/base.js"),r=o("common:widget/ui/login/login.js"),i=o("common:widget/ui/score/score.js"),c=o("common:widget/ui/dialog/dialog.js"),f=o("common:widget/ui/ugc-score/ugc-score.js"),u={},d=0,w="var tmpEle = this;require.async('common:widget/ui/follow/follow.js', function(follower){follower.follow(tmpEle, 'follow');tmpEle = null;});return false;",m="var tmpEle = this;require.async('common:widget/ui/follow/follow.js', function(follower){follower.follow(tmpEle, 'unfollow');tmpEle = null;});return false;",g=function(o,l){var n=s.dom.getAncestorByClass(o,"J-follow-btn"),t=s.dom.getAttr(n,"data-uid");e(t,l,n)},p=function(o,l){a(o,l)};n.exports={follow:g,update:p}});
;define("common:widget/ui/form/form.js",function(e,n,a){var t=e("common:widget/lib/tangram/base/base.js"),o={formToJson:function(e,n){function a(e,n,a){a!==!0?h[e]=n:(h[e]||(h[e]=[]),h[e].push(n))}n=n||{};var t,o,r,c,l,i,s,u,d,m=e.elements,f=m.length,b=n.replacer||function(e){return e},h={};for(t=0;f>t;t++)if(o=m[t],c=o.name,!o.disabled&&c)switch(r=o.type,l=o.value,r){case"radio":if(!o.checked)break;case"textarea":case"text":case"password":case"hidden":case"select-one":a(c,b(l,c));break;case"checkbox":if(o.checked){a(c,b(l,c),!0);break}break;case"select-multiple":for(i=o.options,u=i.length,s=0;u>s;s++)d=i[s],d.selected&&a(c,b(d.value,c),!0)}return h},getCallback:function(e){var n="CBbk"+Math.floor(2147483648*Math.random()).toString(36);return e&&(window[n]=function(){callback.apply(null,arguments),window[n]=null}),n},jsonToForm:function(e,n){var a={url:"",method:"POST",callback:function(){}};t.object.extend(a,n);var o=document.createElement("div");o.style.display="none";var r='<input name="#{name}" value="#{value}" />',c=["<form + "+t.string.encodeHTML(a.url)+'" method="'+t.string.encodeHTML(a.method)+'">'];a.callback&&c.push(t.format(r,{name:"callback",value:this.getCallback(a.callback)}));for(var l in e){var i=e[l];"object"==typeof i&&(i=t.json.stringify(i),i=this.encodeUnicode(i)),c.push(t.format(r,{name:t.string.encodeHTML(l),value:t.string.encodeHTML(i)}))}c.push("</form>"),o.innerHTML=c.join("");var s=o.firstChild;return s}};a.exports=o});
;define("common:widget/ui/front-watch/front-watch.js",function(e,n,o){var r=e("common:widget/lib/tangram/base/base.js"),t=function(e,n,o){var t={errorMessage:e,scriptUrl:n,lineNumber:o},i=r.url.jsonToQuery(t,function(e){return encodeURIComponent(e)}),a="http://lvyou.baidu.com/static/absolute/m.gif",s=new Image;s.src=a+"?"+i};window.onerror=t,o.exports={send:t}});
;define("common:widget/ui/googleMap/full-overlay.js",function(t,i,e){var n,o=n=t("common:widget/ui/jquery/jquery.js"),s=(t("common:widget/ui/nslog/nslog.js"),function(t){this._point=t.point,this._text=t.text,this._map=t.map,this._style=t.style||{},this._divText=this._style.divText||"",this._zIndex=this._style.zIndex||1,this._target=t.target,this._divClass=this._style.divClass||"fullMarker",this._class=this._style["class"]||"plan-text",this._div=null,o.extend(this,t),this.setMap(t.map)});s.prototype=new google.maps.OverlayView,o.extend(s.prototype,{onAdd:function(){var t=this;t.setContent(),t.bindEvent(),this.getPanes().overlayImage.appendChild(t._div)},draw:function(){var t=this.getProjection(),i=t.fromLatLngToDivPixel(this._point),e=this._div,n=new google.maps.Size(-20,-45);e.style.left=i.x+n.width+"px",e.style.top=i.y+n.height+"px"},getPosition:function(){var t=this.getProjection();if(t){var i=t.fromLatLngToDivPixel(this._point),e=t.fromDivPixelToLatLng(new google.maps.Point(i.x+13,i.y+20));return e}},onRemove:function(){this._div.parentNode.removeChild(this._div),this._div=null},setContent:function(){var t=this._div=document.createElement("div");t.innerHTML=this.content,t.style.position="absolute"},addListener:function(t,i){var e=this;setTimeout(function(){o(e._div).bind(t,function(t){i.call(e,t)})},1)},bindEvent:function(){var t=this;t.onmouseover&&o(t._div).bind("mouseover",function(i){t.onmouseover.call(t,i)})}}),e.exports=s});
;define("common:widget/ui/googleMap/js/plan-fulloverlay.js",function(e,t,r){var s,a=s=e("common:widget/ui/jquery/jquery.js"),l=e("common:widget/ui/nslog/nslog.js"),o=function(e,t,r,s,a){this._point=e,this._text=t,this._map=r,this._style=s||{},this._divText=this._style.divText||"",this._zIndex=this._style.zIndex||1,this._target=a,this._divClass=this._style.divClass||"fullMarker",this._class=this._style["class"]||"plan-text",this._div=null};o.init=function(){o.prototype=new google.maps.OverlayView,o.prototype.onAdd=function(e){this._map=e;var t=this._div=document.createElement("div");if(t.className=this._divClass,t.style.zIndex=this._zIndex,t.target=this._target,t.status=!0,this._divText){var r=this._span=document.createElement("span");t.appendChild(r),r.appendChild(document.createTextNode(this._divText))}var s=this,o=this._arrow=document.createElement("div");o.className=this._class;var i=this._text.replace(/[\u4e00-\u9fa5]/g,"aa").length;o.style.width=8*i+"px";var r=this._span=document.createElement("span");o.appendChild(r),r.appendChild(document.createTextNode(this._text)),t.appendChild(o);var n;a(t).bind("mouseenter",function(){var e=this;n=setTimeout(function(){e.style.zIndex=5,a(e).addClass(a(e).hasClass("scene-fullMarker")?"hover-scene-fullMarker":a(e).hasClass("food-fullMarker")?"hover-food-fullMarker":a(e).hasClass("hotel-fullMarker")?"hover-hotel-fullMarker":"hover-plan-fullMarker"),a(s._arrow).addClass(a(s._arrow).hasClass("plan-text")?"hover-plan-text":"hover-scenelist-text")},200)}),a(t).bind("mouseleave",function(){n&&clearTimeout(n),this.status&&(this.style.zIndex=s._zIndex,a(this).removeClass("hover-scene-fullMarker hover-plan-fullMarker hover-hotel-fullMarker hover-food-fullMarker"),a(s._arrow).removeClass("hover-plan-text hover-scenelist-text"))}),a(t).bind("click",function(){s._target.currentMarker&&("boolean"==typeof s._target.currentMarker.status?(s._target.currentMarker.status=!0,s._target.oldMarker==s._target.currentMarker&&(s._target.oldMarker.status=!1),a(s._target.currentMarker).trigger("mouseleave",{})):s._target.currentMarker.setMap(null)),this.status=!1,s._target.currentMarker=this,s._target.createPop(s._point,{popWidth:s._target.popWidth,showPop:!0,x:10,y:-330}),l.nslog(location.href,1702,{cmd:"click",pos:"edit-map-scene-click"})}),a(s).bind("mouseenter",function(){s._div.oldZIndex=s._div.style.zIndex,s._div.style.zIndex=5,a(s._div).addClass(a(s._div).hasClass("scene-fullMarker")?"hover-scene-fullMarker":a(s._div).hasClass("food-fullMarker")?"hover-food-fullMarker":a(s._div).hasClass("hotel-fullMarker")?"hover-hotel-fullMarker":"hover-plan-fullMarker"),a(s._arrow).addClass(a(s._arrow).hasClass("plan-text")?"hover-plan-text":"hover-scenelist-text")}),a(s).bind("mouseleave",function(){s._div.style.zIndex=s._div.oldZIndex,a(s._div).removeClass("hover-scene-fullMarker hover-plan-fullMarker hover-hotel-fullMarker hover-food-fullMarker"),a(s._arrow).removeClass("hover-plan-text hover-scenelist-text")}),this.getPanes().overlayImage.appendChild(t)},o.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this._point),r=this._div,s=new google.maps.Size(-20,-45);r.style.left=t.x+s.width+"px",r.style.top=t.y+s.height+"px"},o.prototype.getPosition=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this._point),r=e.fromDivPixelToLatLng(new google.maps.Point(t.x+13,t.y+20));return r},o.prototype.onRemove=function(){this._div.parentNode.removeChild(this._div),this._div=null}},r.exports=o});
;define("common:widget/ui/googleMap/js/infobox.js",function(t,e,i){var s,o=s=t("common:widget/ui/jquery-ext/jquery-ext.js"),n=function(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.target_=t.target||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&(t.visible="undefined"==typeof t.isHidden?!0:!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null};n.init=function(){window.google&&(n.prototype=new google.maps.OverlayView,n.prototype.createInfoBoxDiv_=function(){var t,e,i,s=this,o=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},n=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),s.enableEventPropagation_||o(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],o));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",n),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},n.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},n.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},n.prototype.panBox_=function(t){var e,i,s=0,o=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),i=e.getBounds();var n=e.getDiv(),h=n.offsetWidth,d=n.offsetHeight,l=this.pixelOffset_.width,r=this.pixelOffset_.height,a=this.div_.offsetWidth,p=this.div_.offsetHeight,_=this.infoBoxClearance_.width,f=this.infoBoxClearance_.height,g=this.getProjection().fromLatLngToContainerPixel(this.position_);if(g.x<-l+_?s=g.x+l-_:g.x+a+l+_>h&&(s=g.x+a+l+_-h),this.alignBottom_?g.y<-r+f+p?o=g.y+r-f-p:g.y+r+f>d&&(o=g.y+r+f-d):g.y<-r+f?o=g.y+r-f:g.y+p+r+f>d&&(o=g.y+p+r+f-d),0!==s||0!==o){{e.getCenter()}e.panBy(s,o)}}},n.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);"undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},n.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=i.ownerDocument.defaultView.getComputedStyle(i,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&i.currentStyle&&(e.top=parseInt(i.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(i.currentStyle.borderRightWidth,10)||0),e},n.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},n.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},n.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},n.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},n.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},n.prototype.getContent=function(){return this.content_},n.prototype.getPosition=function(){return this.position_},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.getVisible=function(){var t;return t="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},n.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},n.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},n.prototype.open=function(t,e){var i=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){i.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},n.prototype.close=function(){var t,e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0,e=this.eventListeners_.length;e>t;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null),"boolean"==typeof this.target_.currentMarker.status?(this.target_.currentMarker.status=!0,o(this.target_.currentMarker).trigger("mouseleave",{})):this.target_.currentMarker.setMap(null)})},i.exports=n});
;define("common:widget/ui/googleMap/googleMap.js",function(e,t,a){function n(e,t){return h?h:h=new u(e,t)}var i,o=i=e("common:widget/ui/jquery-ext/jquery-ext.js"),s=e("common:widget/ui/lite/lite.js"),r=e("common:widget/ui/nslog/nslog.js"),l=e("common:widget/ui/googleMap/js/plan-fulloverlay.js"),c=e("common:widget/ui/googleMap/js/infobox.js"),p=e("common:widget/ui/mercatorProjection/mercatorProjection.js"),m=e("common:widget/ui/eJS/eJS.js"),r=e("common:widget/ui/nslog/nslog.js"),d=[],h="";window.GOOGLE_MAP_INIT=function(){},o.getScript("http://maps.google.cn/maps/api/js?sensor=false&callback=GOOGLE_MAP_INIT"),r.nslog(location.href,1e3,{type:1e3,cmd:"show",pos:"google-map-load",refer:document.referrer});var u=function(e,t){if(t=t||{},e){var a=this;this._mapContainer=e,window.google&&window.google.maps.OverlayView?(l.init(),c.init(),a.init(t)):(d.push(a),window.GOOGLE_MAP_INIT=function(){o(d).each(function(e,a){l.init(),c.init(),a.init(t)})})}};o.extend(u.prototype,{init:function(e){this.mapOptions={center:new google.maps.LatLng(0,0),zoom:8,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,zoomControl:!0,scaleControl:!0},this._map=new google.maps.Map(this._mapContainer,this.mapOptions),this.planData=e.planData,this.points=[],this.polyLine=[],this.labelList=[],this.currentLabel=null,this.currentPop=null,this.topPoints={},this.topPlanPoints={},this.customData={},this.searchMarkers={},this.topMarkers=[],this.topPlanMarkers=[],this.searchMarkers=[],this.projection=new p,o(this).trigger("on_maploaded"),this.map_is_loaded=!1;var t=this;google.maps.event.addListener(this._map,"tilesloaded",function(){t.map_is_loaded||(r.nslog(location.href,1e3,{type:1e3,cmd:"show",pos:"google-map-success"}),t.map_is_loaded=!0)}),this.addtoplan()},bindMapLoad:function(e){var t=this;google.maps.event.addListener(this._map,"tilesloaded",function(){google.maps.event.trigger(t._map,"resize"),e()})},reload:function(){google.maps.event.trigger(this._map,"resize")},dragStart:function(e){this.dragStartCallback&&google.maps.event.removeListener(this.dragStartCallback),this.dragStartCallback=google.maps.event.addListener(this._map,"dragstart",e.dragStartCallback)},dragEnd:function(e){this.dragEndCallback&&google.maps.event.removeListener(this.dragEndCallback),this.dragEndCallback=google.maps.event.addListener(this._map,"dragend",e.dragEndCallback)},zoomEnd:function(e){this.zoomEndCallback&&google.maps.event.removeListener(this.zoomEndCallback),this.zoomEndCallback=google.maps.event.addListener(this._map,"zoom_changed",e.zoomEndCallback)},getMap:function(){return this._map},getCenter:function(){return this._map.getCenter()},getZoom:function(){return this._map.getZoom()},enableScrollWheel:function(){this._map.setOptions({scrollwheel:!0})},addCustomLayer:function(){},clearCustomLayer:function(){},setCenterAndZoom:function(e,t,a){var n=this;if(t)this._map.setCenter(t.center),this._map.setZoom(t.zoom);else{var i=new google.maps.LatLngBounds;o(e).each(function(t){i.extend(e[t])}),this._map.fitBounds(i)}setTimeout(function(){a&&n._map.setZoom(a)},300)},resetCenter:function(e,t){var a=[];o(e).each(function(e,t){t.map_x&&"0"!=t.map_x&&a.push(new google.maps.LatLng(t.map_y,t.map_x))}),this.setCenterAndZoom(a,"",t)},clearOverlays:function(){this.points&&this.points.length>0&&o(this.points).each(function(e,t){t.setMap(null)}),this.currentPop&&this.currentPop.setMap(null)},pointToPixel:function(e){var t=this.projection.lngLatToMercator(e);return t},pixelToPoint:function(e){var t=this.projection.mercatorToLngLat(e);return t},_createMarker:function(e,t){var a=this,n=t||{},i=n.markIconUrl||this.markIconUrl,i=(n.iconWidth||14,n.iconHeight||18,e.xid,"/static/plan/img/hover-map-icon.png"),o={map:a._map,draggable:!1,position:e,icon:i},s=new google.maps.Marker(o);a.points.push(s)},createMarkers:function(e,t){for(var a=this,n=[],i=0;i<e.length;i++){var o=e[i];if(o.map_x&&o.map_y){var s=new google.maps.LatLng(o.map_y,o.map_x);a._createMarker(s),n.push(s)}}t&&a.setCenterAndZoom(n)},clearFullMarkers:function(){this.topMarkers&&this.topMarkers.length>0&&o.each(this.topMarkers,function(e,t){t.setMap(null)}),this.topMarkers=[]},setNameCenter:function(e){var t=this;setTimeout(function(){google.maps.event.trigger(t._map,"resize");var a=new google.maps.Geocoder;a.geocode({address:e},function(e,a){a==google.maps.GeocoderStatus.OK&&(t._map.setCenter(e[0].geometry.location),t._map.setZoom(10))})},100)},createFullMarkers:function(e,t,a){this.callback=a;var n=this;t=t||{divClass:"scene-fullMarker"},o.each(e,function(e,a){if(a.map_x&&a.map_y){var i=new google.maps.LatLng(a.map_y,a.map_x);i.xid=a.xid||a.sid||a.uid||"0",n.topPoints[i.xid]=a;var o=new l(i,a.name||a.sname||a.hotel_name||a.title,n._map,{"class":"scenelist-text",divClass:a.divClass||t.divClass},n);i.marker=o,o.setMap(n._map),n.topMarkers.push(o)}})},createSearchMarkers:function(e,t,a){this.callback=a;var n=this;t=t||{},t.divClass=t.divClass||"scene-fullMarker",o.each(e,function(e,a){if(a.map_x&&a.map_y){var i=new google.maps.LatLng(a.map_y,a.map_x);i.xid=a.xid||a.uid||a.sid||"0",n.topPoints[i.xid]=a;var o=new l(i,a.name||a.sname||a.hotel_name||a.title,n._map,{"class":"scenelist-text",divClass:a.divClass||t.divClass},n);i.marker=o,o.setMap(n._map),n.searchMarkers.push(o)}})},clearSearchMarkers:function(){this.searchMarkers&&this.searchMarkers.length>0&&o.each(this.searchMarkers,function(e,t){t.setMap(null)}),this.topPlanMarkers=[]},clearPlanMarkers:function(){this.topPlanMarkers&&this.topPlanMarkers.length>0&&o.each(this.topPlanMarkers,function(e,t){t.setMap(null)}),this.topPlanMarkers=[]},createPlanMarkers:function(e,t,a){this.callback=a;var n=this;t=t||{divClass:"scene-fullMarker"},o.each(e,function(e,t){if(t.map_x&&t.map_y){var a=new google.maps.LatLng(t.map_y,t.map_x);a.xid=t.xid||t.uid||t.sid||"0",n.topPlanPoints[a.xid]=t;var i=new l(a,t.name||t.sname||t.hotel_name||t.title,n._map,{divText:e+1,zIndex:3,"class":"plan-text",divClass:"plan-fullMarker"},n);a.marker=i,i.setMap(n._map),n.topPlanMarkers.push(i)}})},clearLabel:function(){var e=this;o(e.labelList).each(function(e,t){t.setMap(null)}),e.labelList=[]},_createLabel:function(e,t,a){var n=this,i={point:e,text:a.text,map:n._map,style:{divText:a.index,zIndex:3,"class":"plan-text",divClass:"new-map-label"},target:n,content:o.string.format(t.contentTpl,a),onmouseover:t.onmouseover?t.onmouseover:null},s=new l(i);s._index=a.index-1,this.labelList.push(s),n.points.push(s)},createLabels:function(e,t){var a=this,n=arguments.callee;if(!this._map)return void o(a).bind("on_maploaded",function(){n.call(a,e,t)});var i=[],s="display:inline-block;border: 1px solid #61a9d8;background-color:#eff8ff;border-radius: 0px 4px 4px 0px;padding:5px 6px 5px;color:#6599be;font-weight: bold;font-size:12px;border-left:0 none;box-shadow: 0px 2px 2px #aaacad;position:relative;top:1px;";a.clearLabel();for(var r=0;r<e.length;r++){var l=e[r];if(l.map_x&&l.map_y){var c=new google.maps.LatLng(l.map_y,l.map_x);a._createLabel(c,t,{index:r+1,style:s,text:l.label}),i.push(c)}}a.setCenterAndZoom(i)},clearCurrentPop:function(){this.currentPop&&this.currentPop.setMap(null),this.currentPop=null},createPop:function(e,t){var a=this;if(t.showPop){this.currentPop&&(this.currentPop.hide(),this.currentPop=null);var n=e.xid,i=t.data||this.topPoints[n]||this.searchPoints[n]||this.topPlanPoints[n],l=o.extend(!0,{},i);switch(l.score_width="",l.remark_content="",l.remark_count=0,parseInt(l.type,10)){case 1:var p=new m({url:"/static/common/widget/ui/googleMap/js/scene-infowindow.ejs"});l.url="/"+l.surl,l.info=l.travel_time?"建议游玩"+l.travel_time:"",l.score_width=17*l.star,l.ext&&(l.remark_count=l.ext.remark_count||0,l.remark_content=l.ext.remark_content||""),l.xid=l.sid,l.address=l.ext?l.ext.address||"":"",l.short_addr=s.cut(l.address,50),l.name=l.name||l.sname,l.remark?(l.short_remark=s.cut(l.remark.words,160),l.remark=l.remark.words):(l.short_remark="",l.remark="");var d=window.location.href;r.nslog(d,101,{cmd:"click",pos:"scene-infowindow-show"});break;case 2:var p=new m({url:"/static/common/widget/ui/googleMap/js/restaurant-infowindow.ejs"});l.xid=l.xid||l.uid||l.url,l.url="/scene/poi/restaurant?surl=&place_uid="+l.xid,l.info=l.recommendation?"特色："+s.cut(l.recommendation,16):"",l.remark_count=l.comment_num||0,l.score_width=17*l.overall_rating,l.address=l.addr||"",l.short_addr=s.cut(l.address,20),l.tag=l.tag||"";var d=window.location.href;r.nslog(d,101,{cmd:"click",pos:"restaurant-infowindow-show"});break;case 3:var p=new m({url:"/static/common/widget/ui/googleMap/js/hotel-infowindow.ejs"});l.xid=l.uid||l.xid||l.url,l.url="/scene/poi/hotel?surl=&place_uid="+l.xid,l.info="",l.remark_count=l.comment_num||0,l.score_width=17*l.overall_rating,l.address=l.hotel_address||l.addr||l.address||"",l.short_addr=s.cut(l.address,20);var d=window.location.href;r.nslog(d,101,{cmd:"click",pos:"hotel-infowindow-show"});break;default:l.url="javascript:"}if(l.has_son&&6!=parseInt(l.level,10)||(l.has_son=0),l.cutName=s.cut(l.name,12),l.image)l.image='<img width="70" height="70" src='+l.image+">";else if(l.pic_url||l.pic_width&&l.pic_height)l.image=s.createImage(null,l.pic_url,l.pic_width,l.pic_height,70,70,!1);else{var h="http://lvyou4.bdimg.com/static/common/img/scene-bg_68783ed.png";l.image='<img width="70" height="70" src="'+h+'">'}l.is_collect="",l.is_collect_text="";var u="./img/loading-new.gif";l.hotel_image="<img src="+u+">",l.pic_url||1!=l.type?3==l.type:o.get("/destination/ajax/plan/getscenelist?format=ajax",{type:1,sid:l.xid},function(n){if(0==n.errno){var i=n.data.list;if(i.length>0&&(l.pic_url=i[0].pic_url,l.pic_width=i[0].pic_width,l.pic_height=i[0].pic_height,l.is_collect="",l.is_collect_text="",l.pic_url)){l.image=s.createImage(null,l.pic_url,l.pic_width,l.pic_height,60,60,!1);var o={content:p.render(l),disableAutoPan:!1,pixelOffset:new google.maps.Size(-16,-103),zIndex:3,boxStyle:{width:"250px"},closeBoxURL:"/static/plan/img/delete-icon.png",isHidden:!1,enableEventPropagation:!0,target:a};t.x&&t.y&&(o.pixelOffset=new google.maps.Size(t.x,t.y)),a.currentPop&&(a.currentPop.hide(),a.currentPop=null,a.currentPop=new c(o),a.currentPop.open(a._map,e.marker))}}},"json");var g={content:p.render(l),disableAutoPan:!1,pixelOffset:new google.maps.Size(-16,-103),zIndex:3,boxStyle:{width:"250px"},closeBoxURL:"/static/plan/img/delete-icon.png",isHidden:!1,enableEventPropagation:!0,target:a};t.x&&t.y&&(g.pixelOffset=new google.maps.Size(t.x,t.y)),this.currentPop=new c(g),this.currentPop.open(this._map,e.marker)}},activeMarker:function(e,t){{var a=(t.isCenter||!1,t.showPop);e.xid||t.xid}e.marker.setTop(!0),e.marker.status=!0;e.marker;e&&(a&&this.createPop(e,{popWidth:this.popWidth}),this._map.panTo(e))},getBounds:function(){var e=this._map.getBounds();return e},createLine:function(e,t){var a=this,n=arguments.callee;if(!this._map)return void o(a).bind("on_maploaded",function(){n.call(a,e,t)});var i=t||2;this.clearLine(),this.getTraffic(e,i,{},function(e,t){t.setDirections(e),a.polyLine.push(t)})},getTraffic:function(e,t,a,n){for(var i=this,o=0,s=e.length;s>o;o++)if(o>0){var r=e[o-1],l=e[o];if(!r||!l)return;var c=new google.maps.LatLng(r.map_y,r.map_x),p=new google.maps.LatLng(l.map_y,l.map_x),m=i.getDistance(c,p)/1e3;t||(t=1>m?1:20>m?3:2);var d=["WALKING","DRIVING","TRANSIT"],h=d[t-1],u=new google.maps.DirectionsService,g=new google.maps.DirectionsRenderer;g.setMap(i._map),g.setOptions({suppressMarkers:!0,suppressInfoWindows:!0,hideRouteList:!0,preserveViewport:!0});var f={origin:c,destination:p,travelMode:google.maps.TravelMode[h],optimizeWaypoints:!1,provideRouteAlternatives:!1,durationInTraffic:!1};u.route(f,function(e,a){a==google.maps.DirectionsStatus.OK&&n&n(e,g,t)})}},getDistance:function(e,t){var a=function(e){return e*Math.PI/180},n=6378137,i=a(t.lat()-e.lat()),o=a(t.lng()-e.lng()),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a(e.lat()))*Math.cos(a(t.lat()))*Math.sin(o/2)*Math.sin(o/2),r=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),l=n*r;return l},getTrafficContent:function(e,t,a,n){var i=[];this.getTraffic(e,t,a,function(a,s,r){if(a&&a.routes.length>0&&a.routes[0].legs.length>0){var l=a.routes[0].legs[0];o.each(l.steps,function(e,a){1==t||2==t?i.push(a.instructions):(a.transit&&(a.instructions=a.instructions.replace(" ",a.transit.line.short_name)),i.push(a.instructions))}),n({content:i,type:r,distance:l.distance.text,time:l.duration.text,from:e[0].name,to:e[1].name,hasTraffic:1})}else n({hasTraffic:0,type:r})})},renderTrafficPanel:function(e){var t=[];if(1==e.traffic||2==e.traffic)for(var a=e.firstPlan,n=a.legs[0].steps,i=n.length,s=0;i>s;s++)t.push(n[s].instructions);else{var n=e.firstPlan.legs[0].steps;o(n).each(function(e,a){a.transit&&(a.instructions=a.instructions.replace(" ",a.transit.line.short_name)),t.push(a.instructions)})}e.dom&&e.dom.html(baiduTemplate("J_traffic-panel-tpl",{list:t,typeList:[],from:e.start.name,to:e.end.name,traffic:e.traffic}));var r={list:t,from:e.start.name,to:e.end.name,config:e.traffci};return r},update:function(e,t){this.createPoint(e,t)},removeLine:function(){},clearLine:function(){o(this.polyLine).each(function(e,t){t.setMap(null)}),this.polyLine=[]},createInfoWindow:function(e){var t=this;t._infoWindow||(t._infoWindow=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(10,-60),maxWidth:170})),t._infoWindow.setContent(e.contentHTML),t._infoWindow.open(t._map,e.anchor)},closeInfoWindow:function(){this._infoWindow&&this._infoWindow.close()},reSetInfoWindowStyle:function(){var e=this;setTimeout(function(){e._infoWindow.map.infoWindowDoms},1)},addCustomData:function(e){this.customData[e.sid]=e},getMapData:function(e){var t=this,a=t.topPlanPoints[e]||t.topPoints[e]||t.searchPoints[e]||t.customData[e];if(a.name=a.sname||a.name,!a.map_x){var n={lng:a.ext.map_x,lat:a.ext.map_y},i={map_x:t.pixelToPoint(n).lng,map_y:t.pixelToPoint(n).lat};a.map_x=i.map_x,a.map_y=i.map_y}return a},addtoplan:function(){var e=this;o(document).delegate(".J_google-add-to-plan","click",function(){var t=o(this).attr("data-xid"),a=o(this).attr("type"),n=(o(this).attr("name"),{xid:t,type:a,traffic:{}}),i=e.topPlanPoints[t]||e.topPoints[t]||e.searchPoints[t]||e.customData[t];if(i.name=i.sname||i.name,!i.map_x){var s={lng:i.ext.map_x,lat:i.ext.map_y},r={map_x:e.pixelToPoint(s).lng,map_y:e.pixelToPoint(s).lat};i.map_x=r.map_x,i.map_y=r.map_y}e.planData.addPath(n,i,"from_map")})}}),a.exports=n});
;define("common:widget/ui/googleMap/js/full-overlay.js",function(t,i,e){var n,o=n=t("common:widget/ui/jquery/jquery.js"),s=(t("common:widget/ui/nslog/nslog.js"),function(t){this._point=t.point,this._text=t.text,this._map=t.map,this._style=t.style||{},this._divText=this._style.divText||"",this._zIndex=this._style.zIndex||1,this._target=t.target,this._divClass=this._style.divClass||"fullMarker",this._class=this._style["class"]||"plan-text",this._div=null,o.extend(this,t)});s.init=function(){s.prototype=new google.maps.OverlayView,o.extend(s.prototype,{onAdd:function(){var t=this;t.setContent(),t.bindEvent(),this.getPanes().overlayImage.appendChild(t._div)},draw:function(){var t=this.getProjection(),i=t.fromLatLngToDivPixel(this._point),e=this._div,n=new google.maps.Size(-20,-45);e.style.left=i.x+n.width+"px",e.style.top=i.y+n.height+"px"},getPosition:function(){var t=this.getProjection();if(t){var i=t.fromLatLngToDivPixel(this._point),e=t.fromDivPixelToLatLng(new google.maps.Point(i.x+13,i.y+20));return e}},onRemove:function(){this._div.parentNode.removeChild(this._div),this._div=null},setContent:function(){var t=this._div=document.createElement("div");t.innerHTML=this.content,t.style.position="absolute"},addListener:function(t,i){var e=this;setTimeout(function(){o(e._div).bind(t,function(t){i.call(e,t)})},1)},bindEvent:function(){var t=this;t.onmouseover&&o(t._div).bind("mouseover",function(i){t.onmouseover.call(t,i)})}})},e.exports=s});
;define("common:widget/ui/helper/helper.js",function(e,n,a){var t=e("common:widget/lib/tangram/base/base.js"),i=e("common:widget/lib/tangram/ui/Suggestion/Suggestion.js");a.exports.lvSuggestion=function(e,n){var a=new i(n);return a.render(e),a.formatData=function(e){for(var n={},a=e.s,i=[],r=[],s=[],l=[],u=0;u<a.length;u++){var o=a[u].indexOf("}");-1==a[u].indexOf("__1")?s.push(a[u].slice(o+3)):l.push(a[u].slice(o+6))}if(a=s.concat(l),t.array.each(a,function(e){var n="",a=e.split("$$"),t=a[0],s=a[2],l=a[9],u=a[1].split(","),o=a[5],g=a[6],c=u.length;n='<span class="parent-sug">'+u[c-1]+"</span>"+a[0],r.push({sname:t,sid:s,surl:l,itemName:n,map_x:o,map_y:g,parent:u}),i.push({content:n,value:a[0],sid:s,surl:l,item:e})}),i=t.array.unique(i),i.length>1)for(var g=0;g<i.length-1;g++)for(var c=g+1;c<i.length;c++)if(i[g].sid==i[c].sid){if(-1==i[c].value.indexOf("___")){var f;f=i[g],i[g]=i[c],i[c]=f}i.splice(c,1),c--}for(var p=0;p<i.length;p++)-1!=i[p].value.indexOf("___")&&(i[p].content=i[p].content.slice(0,i[p].content.length-3),i[p].value=i[p].value.slice(0,i[p].value.length-3));return n={data:i,sugBuffer:r}},a}});
;define("common:widget/ui/imageUploader/imageUploader.js",function(require,exports,module){function getIsSupportFlash(){return isSupportFlash}function create(t,i,a){return a?new noFlashUpload(t,i):getIsSupportFlash()?new flashUpload(t,i):new noFlashUpload(t,i)}function getId(){return guid++,"flashUpload"+guid}var baidu=require("common:widget/lib/tangram/base/base.js"),guid=0,EVENTS={ON_READY:"onready",ON_RESET:"onreset",ON_PAUSE:"onpause",ON_PLAY:"onplay",ON_COMPLETE:"oncomplete",ON_ERROR_SINGLE:"onerrorsingle",ON_ERROR:"onerror",ON_AVAILABLE_COUNT_CHANGE:"onavailable"},flashUpload=baidu.lang.createClass(function(t,i){this._aid=t,this._data=i,this._flashId=getId(),this._paused=!0,this._reset()}).extend({_create:function(t){var i=this;this._uploadHandler=t.uploadHandler||"uploadHandler",this._countHandler=t.countHandler||"countHandler",this._uploadUrl=t.uploadUrl,baidu.swf.create({id:this._flashId,vars:{countchange:this._countHandler,BDUSS:require("BDUSS")},url:"/static/common/flash/fis-multi-upload.swf?t="+require("timestamp")["multi-upload"],wmode:"transparent",width:t.width||800,height:t.height||400},t.container),window[this._uploadHandler]=function(t){i._total=t.total;var a=t.index;i._has++,"undefined"==typeof t.data||0!==t.data.errno?(i._err++,i.dispatchEvent(EVENTS.ON_ERROR_SINGLE,a)):0===t.data.errno&&i._result.push(t.data.data),i._total==i._has&&(i._result.length>0?i.dispatchEvent(EVENTS.ON_COMPLETE,i._result,i._err,i._total):i.dispatchEvent(EVENTS.ON_ERROR))},window[this._countHandler]=function(t){i.dispatchEvent(EVENTS.ON_AVAILABLE_COUNT_CHANGE,t)},window.flashComplete=function(){i.dispatchEvent(EVENTS.ON_COMPLETE,i._result,i._err,i._total)}},_getMovie:function(){return this._flash},getAlbumId:function(){return this._aid},setAlbumId:function(t){this._aid=t},getAlbumName:function(){return this._albumName},setAlbumName:function(t){this._albumName=t},getExtendData:function(){return this._data},render:function(t){this._create(t),this._flash=baidu.swf.getMovie(this._flashId),this.dispatchEvent(EVENTS.ON_READY)},play:function(){this._paused=!1;var t=this,i={aid:t.getAlbumId()};i=baidu.extend(i,this.getExtendData()),i=baidu.extend(i,{bdstoken:require("user").bdstoken}),this._getMovie().upload(this._uploadUrl,baidu.json.stringify(i),t._uploadHandler),this.dispatchEvent(EVENTS.ON_PLAY)},pause:function(){this._paused||(this._paused=!0,this._getMovie().pauseUpload(),this.dispatchEvent(EVENTS.ON_PAUSE))},_reset:function(){this._total=0,this._has=0,this._err=0,this._result=new Array},reset:function(){var t=this;this._reset();try{t._getMovie().reset()}catch(i){}this.dispatchEvent(EVENTS.ON_RESET)}}),noFlashUpload=baidu.lang.createClass(function(t,i){this._aid=t,this._data=i,this._paused=!0,this._reset()}).extend({_create:function(t){function i(){var t=[];for(var i in n)t.push('<input type="hidden" name="'+i+'" value="'+n[i]+'"/>');return t.join("")}var a=this,e=t.container,s=this._formsCount=t.formsCount;this._uploadUrl=t.synUploadUrl+"?callback=_uploadCallback",this._wrapper=baidu.dom.create("div",{"class":"upload-noflash-container"});var n={aid:this._aid,bdstoken:require("user").bdstoken};baidu.extend(n,this._data);for(var r=['<form class="noflash-form" action="'+a._uploadUrl+'" method="post" name="" target="noflash_file_frame" enctype="multipart/form-data">','<span class="file-path"></span>','<a class="btn recommend-btn" href="###"><em>选择文件</em></a>',i(),'<input class="file-choose" type="file" size="1" name="upload_file"  />','<span class="upload-file-name">未选择文件</span>','<span class="upload-noflash-status hide"></span>',"</form>"].join(""),o=[],d=0;s>d;d++)o.push(r);o.push(['<iframe src="" name="noflash_file_frame" id="noflash_file_frame" style="display:none"></iframe>','<div class="upload-noflash-tip">','<p class="upload-tip">支持JPG、GIF、PNG、BMP格式，每张小于3M；一次最多可以上传'+s+"张。</p>",'<div class="tip-trigle-outer"><div class="tip-trigle-inner"></div></div>',"</div>"].join("")),this._wrapper.innerHTML=o.join(""),this._formList=baidu.dom.query("form.noflash-form",this._wrapper),e.appendChild(this._wrapper),window._uploadCallback=function(t){var i=baidu.q("upload-noflash-status")[a._index];a._total++,0===t.errno?(i.innerHTML='<img src="/static/common/ui/imageUploader/img/upload-success.png" alt="" />',a._result.push(t.data)):(a._err++,i.innerHTML='<img src="/static/common/ui/imageUploader/img/upload-fail.png" alt="" />'),baidu.removeClass(i,"hide"),a._index<a._formsCount&&(a._index++,a._formSubmit(a._index))}},_bind:function(){var t=this;this._valid=new Array;for(var i=0;i<this._formsCount;i++)this._valid[i]=!0;baidu.each(baidu.dom.query(".file-choose",this._wrapper),function(i,a){baidu.on(i,"change",function(){var e=baidu.trim(i.value),s=/^.*?\.(jpeg|jpg|gif|png|bmp)$/gi;if(baidu.q("file-path")[a].innerHTML=e,s.test(e)){t._valid[a]=!0;var n=e.split("\\"),r=n[n.length-1];baidu.dom.next(i).innerHTML=r}else t._valid[a]=!1,baidu.dom.next(i).innerHTML='<span class="not-pic">请选择图片</span>';t.isAvaliable()?t.dispatchEvent(EVENTS.ON_AVAILABLE_COUNT_CHANGE,1):t.dispatchEvent(EVENTS.ON_AVAILABLE_COUNT_CHANGE,0)})})},_isValid:function(){for(var t=0;t<this._valid.length;t++)if(!this._valid[t])return!1;return!0},isAvaliable:function(){return eval(this._valid.join("&&"))},getAlbumId:function(){return this._aid},setAlbumId:function(t){this._aid=t;for(var i=0,a=this._formList.length;a>i;i++){var e=this._formList[i];e.aid.value=t}},setAlbumName:function(t){this._albumName=t},getAlbumName:function(){return this._albumName},getExtendData:function(){return this._data},render:function(t){this._create(t),this._bind(),this.dispatchEvent(EVENTS.ON_READY)},_uploadPlay:function(){this._isValid()?this._formSubmit(0):alert("只能上传图片")},_formSubmit:function(t){this._index=t,this._uploadFile(this._formList[t],t)},_uploadFile:function(t,i){var a=this,e=baidu.dom.query(".file-choose",t)[0].value;if(i<this._formsCount)if(""!=e){t.submit();var s=baidu.dom.query(".upload-noflash-status",t)[0];s.innerHTML='<img src="/static/common/ui/imageUploader/img/loading.gif" alt="" />',baidu.removeClass(s,"hide")}else this._formSubmit(i+1);else a.pause(),a._result.length>0?a.dispatchEvent(EVENTS.ON_COMPLETE,a._result,a._err,a._total):a.dispatchEvent(EVENTS.ON_ERROR)},play:function(){if(this._paused){this._paused=!1;for(var t=baidu.dom.query("input.file-choose",this._wrapper),i=0;i<this._formsCount;i++)t[i].readonly="readonly";this.dispatchEvent(EVENTS.ON_PLAY),this.dispatchEvent(EVENTS.ON_AVAILABLE_COUNT_CHANGE,0),this._uploadPlay()}},pause:function(){this._paused||(this._paused=!0,this.dispatchEvent(EVENTS.ON_PAUSE),this.dispatchEvent(EVENTS.ON_AVAILABLE_COUNT_CHANGE,1))},_reset:function(){this._index=0,this._total=0,this._err=0,this._result=new Array},reset:function(){this._reset();for(var t=baidu.dom.query(".file-path",this._wrapper),i=baidu.dom.query(".upload-noflash-status",this._wrapper),a=baidu.dom.query(".upload-file-name",this._wrapper),e=baidu.dom.query("input.file-choose",this._wrapper),s=0;s<this._formsCount;s++)this._formList[s].reset(),t[s].innerHTML="",i[s].innerHTML="",a[s].innerHTML="未选择文件",e[s].readonly="";this.dispatchEvent(EVENTS.ON_RESET)}}),isChrome22=-1!=navigator.userAgent.toLowerCase().indexOf("chrome/22"),isSupportFlash=baidu.swf.version;module.exports={EVENTS:EVENTS,create:create}});
;define("common:widget/ui/imgLazyLoad/imgLazyLoad.js",function(t,e,i){function p(t,e,i,p){var s=t,n=i||300,o=p||200,a=new Image;a.onload=function(){var t,r={position:"relative",top:"0px",left:"0px"};stylestr="";var h=n/o,l=parseInt(a.width),d=parseInt(a.height);h>l/d?(t=l/n,r.width=i+"px",r.height=parseInt(d/t)+"px",r.top=-parseInt((d/t-o)/2)+"px"):(t=d/o,r.height=p+"px",r.width=parseInt(l/t)+"px",r.left=-parseInt((l/t-n)/2)+"px");for(var f in r)stylestr+=f+":"+r[f]+";";e.style.height=r.height,e.style.width=r.width,e.style.position="relative",e.style.top=r.top,e.style.left=r.left,e.src=s},a.src=s}i.exports=p});
;define("common:widget/ui/jq-datepicker/jq-datepicker.js",function(e,t,a){var i=e("common:widget/ui/jquery/jquery.js");!function(e,t){function a(t,a){var s,n,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||a:a)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(a,i){return"number"==typeof a?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},a)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(a){if(a!==t)return this.css("zIndex",a);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(a){return!!e.data(a,t)}}):function(t,a,i){return!!e.data(t,i[3])},focusable:function(t){return a(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),s=isNaN(i);return(s||i>=0)&&a(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(a,i){function s(t,a,i,s){return e.each(n,function(){a-=parseFloat(e.css(t,"padding"+this))||0,i&&(a-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(a-=parseFloat(e.css(t,"margin"+this))||0)}),a}var n="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(a){return a===t?o["inner"+i].call(this):this.each(function(){e(this).css(r,s(this,a)+"px")})},e.fn["outer"+i]=function(t,a){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,a)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(a){return arguments.length?t.call(this,e.camelCase(a)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,a,i){var s,n=e.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([a,i[s]])},call:function(e,t,a){var i,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;s.length>i;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,a)}},hasScroll:function(t,a){if("hidden"===e(t).css("overflow"))return!1;var i=a&&"left"===a?"scrollLeft":"scrollTop",s=!1;return t[i]>0?!0:(t[i]=1,s=t[i]>0,t[i]=0,s)}})}(i),function(e,t){function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(a,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,a){e.extend(t,a);for(var i in a)null==a[i]&&(t[i]=a[i]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var n,r="datepicker";e.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,a){var i,s,n;i=t.nodeName.toLowerCase(),s="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},a||{}),"input"===i?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,a){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,a){var i=e(t);a.append=e([]),a.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),e.data(t,r,a),a.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,a){var i,s,n,r=this._get(a,"appendText"),o=this._get(a,"isRTL");a.append&&a.append.remove(),r&&(a.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](a.append)),t.unbind("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),i=this._get(a,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(s=this._get(a,"buttonText"),n=this._get(a,"buttonImage"),a.trigger=e(this._get(a,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](a.trigger),a.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,a,i,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(a=0,i=0,s=0;e.length>s;s++)e[s].length>a&&(a=e[s].length,i=s);return i},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,a){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),e.data(t,r,a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(t),a.dpDiv.css("display","block"))},_dialogDatepicker:function(t,a,i,n,o){var c,d,l,u,h,p=this._dialogInst;return p||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+c+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),a=a&&a.constructor===Date?this._formatDate(p,a):a,this._dialogInput.val(a),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(d=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+u,l/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var a,i=e(t),s=e.data(t,r);i.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===a?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var a,i,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),"input"===a?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(i=s.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var a,i,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),"input"===a?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(i=s.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,i,n){var r,o,c,d,l=this._getInst(a);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(a,!0),c=this._getMinMaxDate(l,"min"),d=this._getMinMaxDate(l,"max"),s(l.settings,r),null!==c&&r.dateFormat!==t&&r.minDate===t&&(l.settings.minDate=this._formatDate(l,c)),null!==d&&r.dateFormat!==t&&r.maxDate===t&&(l.settings.maxDate=this._formatDate(l,d)),"disabled"in r&&(r.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(e(a),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),t)},_changeDatepicker:function(e,t,a){this._optionDatepicker(e,t,a)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var a=this._getInst(e);a&&(this._setDate(a,t),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(e,t){var a=this._getInst(e);return a&&!a.inline&&this._setDateFromField(a,t),a?this._getDate(a):null},_doKeyDown:function(t){var a,i,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),a=e.datepicker._get(n,"onSelect"),a?(i=e.datepicker._formatDate(n),a.apply(n.input?n.input[0]:null,[i,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(a){var i,s,n=e.datepicker._getInst(a.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">s||!i||i.indexOf(s)>-1):t},_doKeyUp:function(t){var a,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{a=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),a&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var a,i,n,r,o,c,d;a=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==a&&(e.datepicker._curInst.dpDiv.stop(!0,!0),a&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(a,"beforeShow"),n=i?i.apply(t,[t,a]):{},n!==!1&&(s(a.settings,n),a.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(a),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(a),o=e.datepicker._checkOffset(a,o,r),a.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),a.inline||(c=e.datepicker._get(a,"showAnim"),d=e.datepicker._get(a,"duration"),a.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?a.dpDiv.show(c,e.datepicker._get(a,"showOptions"),d):a.dpDiv[c||"show"](c?d:null),e.datepicker._shouldFocusInput(a)&&a.input.focus(),e.datepicker._curInst=a))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,i=this._getNumberOfMonths(t),s=i[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(a=t.yearshtml,setTimeout(function(){a===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),a=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,a,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,c=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),d=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return a.left-=this._get(t,"isRTL")?s-r:0,a.left-=i&&a.left===t.input.offset().left?e(document).scrollLeft():0,a.top-=i&&a.top===t.input.offset().top+o?e(document).scrollTop():0,a.left-=Math.min(a.left,a.left+s>c&&c>s?Math.abs(a.left+s-c):0),a.top-=Math.min(a.top,a.top+n>d&&d>n?Math.abs(n+o):0),a},_findPos:function(t){for(var a,i=this._getInst(t),s=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return a=e(t).offset(),[a.left,a.top]},_hideDatepicker:function(t){var a,i,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(a=this._get(o,"showAnim"),i=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[a]||e.effects[a])?o.dpDiv.hide(a,e.datepicker._get(o,"showOptions"),i,s):o.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,s),a||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var a=e(t.target),i=e.datepicker._getInst(a[0]);(a[0].id!==e.datepicker._mainDivId&&0===a.parents("#"+e.datepicker._mainDivId).length&&!a.hasClass(e.datepicker.markerClassName)&&!a.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||a.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,a,i){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,a+("M"===i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(t){var a,i=e(t),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(a=new Date,s.selectedDay=a.getDate(),s.drawMonth=s.selectedMonth=a.getMonth(),s.drawYear=s.selectedYear=a.getFullYear()),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(t,a,i){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===i?"Month":"Year")]=n["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,a,i,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=a,n.selectedYear=n.currentYear=i,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var a=e(t);this._selectDate(a,"")},_selectDate:function(t,a){var i,s=e(t),n=this._getInst(s[0]);a=null!=a?a:this._formatDate(n),n.input&&n.input.val(a),this._updateAlternate(n),i=this._get(n,"onSelect"),i?i.apply(n.input?n.input[0]:null,[a,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var a,i,s,n=this._get(t,"altField");n&&(a=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),s=this.formatDate(a,i,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,a=new Date(e.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),t=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((t-a)/864e5)/7)+1},parseDate:function(a,i,s){if(null==a||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,r,o,c,d=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,_=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,m=-1,D=-1,k=-1,y=!1,v=function(e){var t=a.length>n+1&&a.charAt(n+1)===e;return t&&n++,t},M=function(e){var t=v(e),a="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+a+"}"),n=i.substring(d).match(s);if(!n)throw"Missing number at position "+d;return d+=n[0].length,parseInt(n[0],10)},b=function(a,s,n){var r=-1,o=e.map(v(a)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,a){var s=a[1];return i.substr(d,s.length).toLowerCase()===s.toLowerCase()?(r=a[0],d+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+d},w=function(){if(i.charAt(d)!==a.charAt(n))throw"Unexpected literal at position "+d;d++};for(n=0;a.length>n;n++)if(y)"'"!==a.charAt(n)||v("'")?w():y=!1;else switch(a.charAt(n)){case"d":D=M("d");break;case"D":b("D",h,p);break;case"o":k=M("o");break;case"m":m=M("m");break;case"M":m=b("M",g,_);break;case"y":f=M("y");break;case"@":c=new Date(M("@")),f=c.getFullYear(),m=c.getMonth()+1,D=c.getDate();break;case"!":c=new Date((M("!")-this._ticksTo1970)/1e4),f=c.getFullYear(),m=c.getMonth()+1,D=c.getDate();break;case"'":v("'")?w():y=!0;break;default:w()}if(i.length>d&&(o=i.substr(d),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=f?0:-100)),k>-1)for(m=1,D=k;r=this._getDaysInMonth(f,m-1),!(r>=D);)m++,D-=r;if(c=this._daylightSavingAdjust(new Date(f,m-1,D)),c.getFullYear()!==f||c.getMonth()+1!==m||c.getDate()!==D)throw"Invalid date";return c},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,a){if(!t)return"";var i,s=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,n=(a?a.dayNames:null)||this._defaults.dayNames,r=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,o=(a?a.monthNames:null)||this._defaults.monthNames,c=function(t){var a=e.length>i+1&&e.charAt(i+1)===t;return a&&i++,a},d=function(e,t,a){var i=""+t;if(c(e))for(;a>i.length;)i="0"+i;return i},l=function(e,t,a,i){return c(e)?i[t]:a[t]},u="",h=!1;if(t)for(i=0;e.length>i;i++)if(h)"'"!==e.charAt(i)||c("'")?u+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":u+=d("d",t.getDate(),2);break;case"D":u+=l("D",t.getDay(),s,n);break;case"o":u+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=d("m",t.getMonth()+1,2);break;case"M":u+=l("M",t.getMonth(),r,o);break;case"y":u+=c("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":h=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,a="",i=!1,s=function(a){var i=e.length>t+1&&e.charAt(t+1)===a;return i&&t++,i};for(t=0;e.length>t;t++)if(i)"'"!==e.charAt(t)||s("'")?a+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":s("'")?a+="'":i=!0;break;default:a+=e.charAt(t)}return a},_get:function(e,a){return e.settings[a]!==t?e.settings[a]:this._defaults[a]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var a=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(a,i,r)||s}catch(o){i=t?"":i}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=i?n.getDate():0,e.currentMonth=i?n.getMonth():0,e.currentYear=i?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,a,i){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(a){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),a,e.datepicker._getFormatConfig(t))}catch(i){}for(var s=(a.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),c=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=c.exec(a);d;){switch(d[2]||"d"){case"d":case"D":o+=parseInt(d[1],10);break;case"w":case"W":o+=7*parseInt(d[1],10);break;case"m":case"M":r+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}d=c.exec(a)}return new Date(n,r,o)},r=null==a||""===a?i:"string"==typeof a?n(a):"number"==typeof a?isNaN(a)?i:s(a):new Date(a.getTime());return r=r&&"Invalid Date"==""+r?i:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,a){var i=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||a||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var a=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-a,"M")},next:function(){e.datepicker._adjustDate(i,+a,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,a,i,s,n,r,o,c,d,l,u,h,p,g,_,f,m,D,k,y,v,M,b,w,C,I,x,N,Y,S,A,T,F,j,K,O,E,P,L,R=new Date,W=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),H=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),J=this._get(e,"showCurrentAtPos"),V=this._get(e,"stepMonths"),G=1!==q[0]||1!==q[1],$=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-J,et=e.drawYear;if(0>Q&&(Q+=12,et--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Q,1))>t;)Q--,0>Q&&(Q=11,et--);for(e.drawMonth=Q,e.drawYear=et,a=this._get(e,"prevText"),a=B?this.formatDate(a,this._daylightSavingAdjust(new Date(et,Q-V,1)),this._getFormatConfig(e)):a,i=this._canAdjustMonth(e,-1,et,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>",s=this._get(e,"nextText"),s=B?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Q+V,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+s+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?$:W,r=B?this.formatDate(r,o,this._getFormatConfig(e)):r,c=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?c:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(H?"":c)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),_=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),m=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),y="",M=0;q[0]>M;M++){for(b="",this.maxRows=4,w=0;q[1]>w;w++){if(C=this._daylightSavingAdjust(new Date(et,Q,e.selectedDay)),I=" ui-corner-all",x="",G){if(x+="<div class='ui-datepicker-group",q[1]>1)switch(w){case 0:x+=" ui-datepicker-group-first",I=" ui-corner-"+(H?"right":"left");
break;case q[1]-1:x+=" ui-datepicker-group-last",I=" ui-corner-"+(H?"left":"right");break;default:x+=" ui-datepicker-group-middle",I=""}x+="'>"}for(x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===M?H?n:i:"")+(/all|right/.test(I)&&0===M?H?i:n:"")+this._generateMonthYearHeader(e,Q,et,X,Z,M>0||w>0,g,_)+"</div><table class='ui-datepicker-calendar'><thead><tr>",N=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",v=0;7>v;v++)Y=(v+l)%7,N+="<th"+((v+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[Y]+"'>"+p[Y]+"</span></th>";for(x+=N+"</tr></thead><tbody>",S=this._getDaysInMonth(et,Q),et===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,S)),A=(this._getFirstDayOfMonth(et,Q)-l+7)%7,T=Math.ceil((A+S)/7),F=G&&this.maxRows>T?this.maxRows:T,this.maxRows=F,j=this._daylightSavingAdjust(new Date(et,Q,1-A)),K=0;F>K;K++){for(x+="<tr>",O=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",v=0;7>v;v++)E=f?f.apply(e.input?e.input[0]:null,[j]):[!0,""],P=j.getMonth()!==Q,L=P&&!D||!E[0]||X&&X>j||Z&&j>Z,O+="<td class='"+((v+l+6)%7>=5?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(j.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||k.getTime()===j.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(P&&!m?"":" "+E[1]+(j.getTime()===$.getTime()?" "+this._currentClass:"")+(j.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(P&&!m||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(P&&!m?"&#xa0;":L?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===W.getTime()?" ui-state-highlight":"")+(j.getTime()===$.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);x+=O+"</tr>"}Q++,Q>11&&(Q=0,et++),x+="</tbody></table>"+(G?"</div>"+(q[0]>0&&w===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),b+=x}y+=b}return y+=d,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,a,i,s,n,r,o){var c,d,l,u,h,p,g,_,f=this._get(e,"changeMonth"),m=this._get(e,"changeYear"),D=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",y="";if(n||!f)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(c=i&&i.getFullYear()===a,d=s&&s.getFullYear()===a,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!c||l>=i.getMonth())&&(!d||s.getMonth()>=l)&&(y+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+o[l]+"</option>");y+="</select>"}if(D||(k+=y+(!n&&f&&m?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!m)k+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?a+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},g=p(u[0]),_=Math.max(g,p(u[1]||"")),g=i?Math.max(g,i.getFullYear()):g,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";_>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===a?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),D&&(k+=(!n&&f&&m?"":"&#xa0;")+y),k+="</div>"},_adjustInstDate:function(e,t,a){var i=e.drawYear+("Y"===a?t:0),s=e.drawMonth+("M"===a?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(i,s))+("D"===a?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===a||"Y"===a)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var a=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),s=a&&a>t?a:t;return i&&s>i?i:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,a,i){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(a,i+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var a,i,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,c=this._get(e,"yearRange");return c&&(a=c.split(":"),i=(new Date).getFullYear(),r=parseInt(a[0],10),o=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(r+=i),a[1].match(/[+\-].*/)&&(o+=i)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,a,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,a,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(a)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a))},e.datepicker=new a,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"}(i),a.exports=i});
;define("common:widget/ui/jq-dialog/jq-dialog.js",function(t,e,i){var s=t("common:widget/ui/jquery/jquery.js");!function(t,e){function i(e,i){var o,n,a,r=e.nodeName.toLowerCase();return"area"===r?(o=e.parentNode,n=o.name,e.href&&n&&"map"===o.nodeName.toLowerCase()?(a=t("img[usemap=#"+n+"]")[0],!!a&&s(a)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,n=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,o,n=t(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(o=parseInt(n.css("zIndex"),10),!isNaN(o)&&0!==o))return o;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),o=isNaN(s);return(o||s>=0)&&i(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function o(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],a=s.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?r["inner"+s].call(this):this.each(function(){t(this).css(a,o(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?r["outer"+s].call(this,e):this.each(function(){t(this).css(a,o(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var o,n=t.ui[e].prototype;for(o in s)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([i,s[o]])},call:function(t,e,i){var s,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<o.length;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[s]>0?!0:(e[s]=1,o=e[s]>0,e[s]=0,o)}})}(s),function(t,e){var i=0,s=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(n){}o(e)},t.widget=function(e,i,s){var o,n,a,r,l={},h=e.split(".")[0];e=e.split(".")[1],o=h+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},n=t[h][e],a=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,n=this._superApply;return this._super=t,this._superApply=o,e=s.apply(this,arguments),this._super=i,this._superApply=n,e}}()):void(l[e]=s)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:n?r.widgetEventPrefix:e},l,{constructor:a,namespace:h,widgetName:e,widgetFullName:o}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete n._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(i){for(var o,n,a=s.call(arguments,1),r=0,l=a.length;l>r;r++)for(o in a[r])n=a[r][o],a[r].hasOwnProperty(o)&&n!==e&&(i[o]=t.isPlainObject(n)?t.isPlainObject(i[o])?t.widget.extend({},i[o],n):t.widget.extend({},n):n);return i},t.widget.bridge=function(i,o){var n=o.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,l=s.call(arguments,1),h=this;return a=!r&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,this.each(r?function(){var s,o=t.data(this,n);return o?t.isFunction(o[a])&&"_"!==a.charAt(0)?(s=o[a].apply(o,l),s!==o&&s!==e?(h=s&&s.jquery?h.pushStack(s.get()):s,!1):void 0):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}:function(){var e=t.data(this,n);e?e.option(a||{})._init():t.data(this,n,new o(a,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var o,n,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},o=i.split("."),i=o.shift(),o.length){for(n=r[i]=t.widget.extend({},this.options[i]),a=0;a<o.length-1;a++)n[o[a]]=n[o[a]]||{},n=n[o[a]];if(i=o.pop(),s===e)return n[i]===e?null:n[i];n[i]=s}else{if(s===e)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var o,n=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=o=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,o=this.widget()),t.each(s,function(s,a){function r(){return e||n.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?n[a]:a).apply(n,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^(\w+)\s*(.*)$/),h=l[1]+n.eventNamespace,u=l[2];u?o.delegate(u,h,r):i.bind(h,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var o,n,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(o in n)o in i||(i[o]=n[o]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,o,n){"string"==typeof o&&(o={effect:o});var a,r=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=n,o.delay&&s.delay(o.delay),a&&t.effects&&t.effects.effect[r]?s[e](o):r!==e&&s[r]?s[r](o.duration,o.easing,n):s.queue(function(i){t(this)[e](),n&&n.call(s[0]),i()})}})}(s),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return o&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(s),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function o(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,u=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(n!==e)return n;var i,s,o=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=o.children()[0];return t("body").append(o),i=a.offsetWidth,o.css("overflow","scroll"),s=a.offsetWidth,i===s&&(s=o[0].clientWidth),o.remove(),n=i-s},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,n="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var n,d,g,m,b,v,_=t(e.of),w=t.position.getWithinInfo(e.within),y=t.position.getScrollInfo(w),z=(e.collision||"flip").split(" "),x={};return v=o(_),_[0].preventDefault&&(e.at="left top"),d=v.width,g=v.height,m=v.offset,b=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):u.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=u.test(s[1])?s[1]:"center",t=p.exec(s[0]),i=p.exec(s[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[c.exec(s[0])[0],c.exec(s[1])[0]]}),1===z.length&&(z[1]=z[0]),"right"===e.at[0]?b.left+=d:"center"===e.at[0]&&(b.left+=d/2),"bottom"===e.at[1]?b.top+=g:"center"===e.at[1]&&(b.top+=g/2),n=i(x.at,d,g),b.left+=n[0],b.top+=n[1],this.each(function(){var o,h,u=t(this),p=u.outerWidth(),c=u.outerHeight(),f=s(this,"marginLeft"),v=s(this,"marginTop"),P=p+f+s(this,"marginRight")+y.width,D=c+v+s(this,"marginBottom")+y.height,T=t.extend({},b),C=i(x.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?T.left-=p:"center"===e.my[0]&&(T.left-=p/2),"bottom"===e.my[1]?T.top-=c:"center"===e.my[1]&&(T.top-=c/2),T.left+=C[0],T.top+=C[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),o={marginLeft:f,marginTop:v},t.each(["left","top"],function(i,s){t.ui.position[z[i]]&&t.ui.position[z[i]][s](T,{targetWidth:d,targetHeight:g,elemWidth:p,elemHeight:c,collisionPosition:o,collisionWidth:P,collisionHeight:D,offset:[n[0]+C[0],n[1]+C[1]],my:e.my,at:e.at,within:w,elem:u})}),e.using&&(h=function(t){var i=m.left-T.left,s=i+d-p,o=m.top-T.top,n=o+g-c,l={target:{element:_,left:m.left,top:m.top,width:d,height:g},element:{element:u,left:T.left,top:T.top,width:p,height:c},horizontal:0>s?"left":i>0?"right":"center",vertical:0>n?"top":o>0?"bottom":"middle"};p>d&&r(i+s)<d&&(l.horizontal="center"),c>g&&r(o+n)<g&&(l.vertical="middle"),l.important=a(r(i),r(s))>a(r(o),r(n))?"horizontal":"vertical",e.using.call(this,t,l)}),u.offset(t.extend(T,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,o=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,r=t.left-e.collisionPosition.marginLeft,l=o-r,h=r+e.collisionWidth-n-o;e.collisionWidth>n?l>0&&0>=h?(i=t.left+l+e.collisionWidth-n-o,t.left+=l-i):t.left=h>0&&0>=l?o:l>h?o+n-e.collisionWidth:o:l>0?t.left+=l:h>0?t.left-=h:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,o=s.isWindow?s.scrollTop:s.offset.top,n=e.within.height,r=t.top-e.collisionPosition.marginTop,l=o-r,h=r+e.collisionHeight-n-o;e.collisionHeight>n?l>0&&0>=h?(i=t.top+l+e.collisionHeight-n-o,t.top+=l-i):t.top=h>0&&0>=l?o:l>h?o+n-e.collisionHeight:o:l>0?t.top+=l:h>0?t.top-=h:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,o=e.within,n=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=t.left-e.collisionPosition.marginLeft,u=h-l,p=h+e.collisionWidth-a-l,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+c+d+f+e.collisionWidth-a-n,(0>i||i<r(u))&&(t.left+=c+d+f)):p>0&&(s=t.left-e.collisionPosition.marginLeft+c+d+f-l,(s>0||r(s)<p)&&(t.left+=c+d+f))},top:function(t,e){var i,s,o=e.within,n=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=t.top-e.collisionPosition.marginTop,u=h-l,p=h+e.collisionHeight-a-l,c="top"===e.my[1],d=c?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>u?(s=t.top+d+f+g+e.collisionHeight-a-n,t.top+d+f+g>u&&(0>s||s<r(u))&&(t.top+=d+f+g)):p>0&&(i=t.top-e.collisionPosition.marginTop+d+f+g-l,t.top+d+f+g>p&&(i>0||r(i)<p)&&(t.top+=d+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,o,n,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in s)e.style[n]=s[n];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",o=t(r).offset().left,t.support.offsetFractions=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(s),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),s=i[0],void(s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,o,n,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,n=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-a.grid[0]:n+a.grid[0]:n)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),o=s.options,n=t.extend({},i,{item:s.element});s.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i){var s=t(this).data("ui-draggable"),o=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var s=t(this).data("ui-draggable"),o=this;t.each(s.sortables,function(){var n=!1,a=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)
})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;s.css("opacity")&&(o._opacity=s.css("opacity")),s.css("opacity",o.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,o,n,a,r,l,h,u,p,c,d=t(this).data("ui-draggable"),f=d.options,g=f.snapTolerance,m=i.offset.left,b=m+d.helperProportions.width,v=i.offset.top,_=v+d.helperProportions.height;for(p=d.snapElements.length-1;p>=0;p--)r=d.snapElements[p].left,l=r+d.snapElements[p].width,h=d.snapElements[p].top,u=h+d.snapElements[p].height,r-g>b||m>l+g||h-g>_||v>u+g||!t.contains(d.snapElements[p].item.ownerDocument,d.snapElements[p].item)?(d.snapElements[p].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(h-_)<=g,o=Math.abs(u-v)<=g,n=Math.abs(r-b)<=g,a=Math.abs(l-m)<=g,s&&(i.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top),o&&(i.position.top=d._convertPositionTo("relative",{top:u,left:0}).top-d.margins.top),n&&(i.position.left=d._convertPositionTo("relative",{top:0,left:r-d.helperProportions.width}).left-d.margins.left),a&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left)),c=s||o||n||a,"outer"!==f.snapMode&&(s=Math.abs(h-v)<=g,o=Math.abs(u-_)<=g,n=Math.abs(r-m)<=g,a=Math.abs(l-b)<=g,s&&(i.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top),o&&(i.position.top=d._convertPositionTo("relative",{top:u-d.helperProportions.height,left:0}).top-d.margins.top),n&&(i.position.left=d._convertPositionTo("relative",{top:0,left:r}).left-d.margins.left),a&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[p].snapping&&(s||o||n||a||c)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=s||o||n||a||c)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;s.css("zIndex")&&(o._zIndex=s.css("zIndex")),s.css("zIndex",o.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(s),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,o,n,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),n="ui-resizable-"+s,o=t("<div class='ui-resizable-handle "+n+"'></div>"),o.css({zIndex:r.zIndex}),"se"===s&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(o);this._renderAxis=function(e){var i,s,o,n;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,n),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,o=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(i){var s,o,n,a=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),o=e(this.helper.css("top")),a.containment&&(s+=t(a.containment).scrollLeft()||0,o+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:s,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,o={},n=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,h=this.size.width,u=this.size.height,p=e.pageX-n.left||0,c=e.pageY-n.top||0,d=this._change[a];return d?(i=d.apply(this,[e,p,c]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==h&&(o.width=this.size.width+"px"),this.size.height!==u&&(o.height=this.size.height+"px"),s.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,o,n,a,r,l,h=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,n=s?0:u.sizeDiff.width,a={width:u.helper.width()-n,height:u.helper.height()-o},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,o,n,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,o=a.minWidth/this.aspectRatio,s=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),o>a.minHeight&&(a.minHeight=o),s<a.maxWidth&&(a.maxWidth=s),n<a.maxHeight&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,o=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===o&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,o=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,u=/sw|nw|w/.test(s),p=/nw|ne|n/.test(s);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),o&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),a&&u&&(t.left=l-e.minWidth),o&&u&&(t.left=l-e.maxWidth),r&&p&&(t.top=h-e.minHeight),n&&p&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,o,n=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(o=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],s=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);o.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,o=i._proportionallyResizeElements,n=o.length&&/textarea/i.test(o[0].nodeName),a=n&&t.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,r=n?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&h?{top:u,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,o,n,a,r,l,h=t(this).data("ui-resizable"),u=h.options,p=h.element,c=u.containment,d=c instanceof t?c.get(0):/parent/.test(c)?p.parent().get(0):c;d&&(h.containerElement=t(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(d),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,o){s[t]=e(i.css("padding"+o))}),h.containerOffset=i.offset(),h.containerPosition=i.position(),h.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},o=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,r=t.ui.hasScroll(d,"left")?d.scrollWidth:a,l=t.ui.hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:o.left,top:o.top,width:r,height:l}))},resize:function(e){var i,s,o,n,a=t(this).data("ui-resizable"),r=a.options,l=a.containerOffset,h=a.position,u=a._aspectRatio||e.shiftKey,p={top:0,left:0},c=a.containerElement;c[0]!==document&&/static/.test(c.css("position"))&&(p=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-p.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-p.left:a.offset.left-p.left)+a.sizeDiff.width),s=Math.abs((a._helper?a.offset.top-p.top:a.offset.top-l.top)+a.sizeDiff.height),o=a.containerElement.get(0)===a.element.parent().get(0),n=/relative|absolute/.test(a.containerElement.css("position")),o&&n&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,o=e.containerPosition,n=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(n.css("position"))&&t(this).css({left:r.left-o.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(n.css("position"))&&t(this).css({left:r.left-o.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),o=s.options,n=s.originalSize,a=s.originalPosition,r={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},l=function(e,s){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),n={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(o[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,o=e.originalSize,n=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,u=Math.round((s.width-o.width)/l)*l,p=Math.round((s.height-o.height)/h)*h,c=o.width+u,d=o.height+p,f=i.maxWidth&&i.maxWidth<c,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>c,b=i.minHeight&&i.minHeight>d;i.grid=r,m&&(c+=l),b&&(d+=h),f&&(c-=l),g&&(d-=h),/^(se|s|e)$/.test(a)?(e.size.width=c,e.size.height=d):/^(ne)$/.test(a)?(e.size.width=c,e.size.height=d,e.position.top=n.top-p):/^(sw)$/.test(a)?(e.size.width=c,e.size.height=d,e.position.left=n.left-u):(e.size.width=c,e.size.height=d,e.position.top=n.top-p,e.position.left=n.left-u)}})}(s),function(t){var e,i,s,o,n="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},h=function(e){var i=e.name,s=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),o};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,u="checkbox"===this.type||"radio"===this.type,p=u?"":"ui-state-active",c="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(p)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(c)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(c)}),u&&(this.element.bind("change"+this.eventNamespace,function(){o||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(o=!1,i=t.pageX,s=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||s!==t.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||o?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];h(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,void a.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?h(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,o=s.primary&&s.secondary,n=[];s.primary||s.secondary?(this.options.text&&n.push("ui-button-text-icon"+(o?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(n.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):n.push("ui-button-text-only"),e.addClass(n.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(s),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")
}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(o.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,s){var o,n;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),o=s.click,s.click=function(){o.apply(e.element[0],arguments)},n={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(n).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,o){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(o))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(o,n){s.position=[n.position.left-i.document.scrollLeft(),n.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(n))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,o=s.resizable,n=this.uiDialog.css("position"),a="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,o){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(o))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(o,n){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(n))}}).css("position",n)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(s){var o=this,n=!1,a={};t.each(s,function(t,s){o._setOption(t,s),t in e&&(n=!0),t in i&&(a[t]=s)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,s,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=o.is(":data(ui-draggable)"),i&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=o.is(":data(ui-resizable)"),s&&!e&&o.resizable("destroy"),s&&"string"==typeof e&&o.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(s){e._allowInteraction(s)||(s.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(s=i.split?i.split(" "):[i[0],i[1]],1===s.length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(o[t]=s[t],s[t]=e)}),i={my:s[0]+(o[0]<0?o[0]:"+"+o[0])+" "+s[1]+(o[1]<0?o[1]:"+"+o[1]),at:s.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(s),i.exports=s});
;define("common:widget/ui/jq-droppable/jq-droppable.js",function(t,e,i){var s=t("common:widget/ui/jquery/jquery.js");!function(t,e){function i(e,i){var o,n,r,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,n=o.name,e.href&&n&&"map"===o.nodeName.toLowerCase()?(r=t("img[usemap=#"+n+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,n=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,o,n=t(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(o=parseInt(n.css("zIndex"),10),!isNaN(o)&&0!==o))return o;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),o=isNaN(s);return(o||s>=0)&&i(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function o(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?a["inner"+s].call(this):this.each(function(){t(this).css(r,o(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?a["outer"+s].call(this,e):this.each(function(){t(this).css(r,o(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var o,n=t.ui[e].prototype;for(o in s)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([i,s[o]])},call:function(t,e,i){var s,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<o.length;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[s]>0?!0:(e[s]=1,o=e[s]>0,e[s]=0,o)}})}(s),function(t,e){var i=0,s=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(n){}o(e)},t.widget=function(e,i,s){var o,n,r,a,l={},h=e.split(".")[0];e=e.split(".")[1],o=h+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},n=t[h][e],r=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,n=this._superApply;return this._super=t,this._superApply=o,e=s.apply(this,arguments),this._super=i,this._superApply=n,e}}()):void(l[e]=s)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix:e},l,{constructor:r,namespace:h,widgetName:e,widgetFullName:o}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete n._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(i){for(var o,n,r=s.call(arguments,1),a=0,l=r.length;l>a;a++)for(o in r[a])n=r[a][o],r[a].hasOwnProperty(o)&&n!==e&&(i[o]=t.isPlainObject(n)?t.isPlainObject(i[o])?t.widget.extend({},i[o],n):t.widget.extend({},n):n);return i},t.widget.bridge=function(i,o){var n=o.prototype.widgetFullName||i;t.fn[i]=function(r){var a="string"==typeof r,l=s.call(arguments,1),h=this;return r=!a&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,this.each(a?function(){var s,o=t.data(this,n);return o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(s=o[r].apply(o,l),s!==o&&s!==e?(h=s&&s.jquery?h.pushStack(s.get()):s,!1):void 0):t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var e=t.data(this,n);e?e.option(r||{})._init():t.data(this,n,new o(r,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var o,n,r,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(n=a[i]=t.widget.extend({},this.options[i]),r=0;r<o.length-1;r++)n[o[r]]=n[o[r]]||{},n=n[o[r]];if(i=o.pop(),s===e)return n[i]===e?null:n[i];n[i]=s}else{if(s===e)return this.options[i]===e?null:this.options[i];a[i]=s}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var o,n=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=o=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,o=this.widget()),t.each(s,function(s,r){function a(){return e||n.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?n[r]:r).apply(n,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=s.match(/^(\w+)\s*(.*)$/),h=l[1]+n.eventNamespace,c=l[2];c?o.delegate(c,h,a):i.bind(h,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var o,n,r=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(o in n)o in i||(i[o]=n[o]);return this.element.trigger(i,s),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,o,n){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=n,o.delay&&s.delay(o.delay),r&&t.effects&&t.effects.effect[a]?s[e](o):a!==e&&s[a]?s[a](o.duration,o.easing,n):s.queue(function(i){t(this)[e](),n&&n.call(s[0]),i()})}})}(s),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return o&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(s),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),s=i[0],void(s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,o,n,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),o=s.options,n=t.extend({},i,{item:s.element});s.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i){var s=t(this).data("ui-draggable"),o=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var s=t(this).data("ui-draggable"),o=this;t.each(s.sortables,function(){var n=!1,r=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;s.css("opacity")&&(o._opacity=s.css("opacity")),s.css("opacity",o.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,o,n,r,a,l,h,c,p,u,d=t(this).data("ui-draggable"),f=d.options,g=f.snapTolerance,m=i.offset.left,v=m+d.helperProportions.width,b=i.offset.top,_=b+d.helperProportions.height;for(p=d.snapElements.length-1;p>=0;p--)a=d.snapElements[p].left,l=a+d.snapElements[p].width,h=d.snapElements[p].top,c=h+d.snapElements[p].height,a-g>v||m>l+g||h-g>_||b>c+g||!t.contains(d.snapElements[p].item.ownerDocument,d.snapElements[p].item)?(d.snapElements[p].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(h-_)<=g,o=Math.abs(c-b)<=g,n=Math.abs(a-v)<=g,r=Math.abs(l-m)<=g,s&&(i.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top),o&&(i.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),n&&(i.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left),r&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left)),u=s||o||n||r,"outer"!==f.snapMode&&(s=Math.abs(h-b)<=g,o=Math.abs(c-_)<=g,n=Math.abs(a-m)<=g,r=Math.abs(l-v)<=g,s&&(i.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top),o&&(i.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),n&&(i.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left),r&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[p].snapping&&(s||o||n||r||u)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=s||o||n||r||u)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;s.css("zIndex")&&(o._zIndex=s.css("zIndex")),s.css("zIndex",o.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(s),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;
this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,o=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var o,n,r=(t.positionAbs||t.position.absolute).left,a=r+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,h=l+t.helperProportions.height,c=i.offset.left,p=c+i.proportions.width,u=i.offset.top,d=u+i.proportions.height;switch(s){case"fit":return r>=c&&p>=a&&l>=u&&d>=h;case"intersect":return c<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<p&&u<l+t.helperProportions.height/2&&h-t.helperProportions.height/2<d;case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,n=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(n,u,i.proportions.height)&&e(o,c,i.proportions.width);case"touch":return(l>=u&&d>=l||h>=u&&d>=h||u>l&&h>d)&&(r>=c&&p>=r||a>=c&&p>=a||c>r&&a>p);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,o,n=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||e&&!n[s].accept.call(n[s].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions.height=0;continue t}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions={width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight})}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,n,r=t.ui.intersect(e,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===o}),n.length&&(s=t.data(n[0],"ui-droppable"),s.greedyChild="isover"===a)),s&&"isover"===a&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),s&&"isout"===a&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(s),i.exports=s});
;define("common:widget/ui/jq-footlayer/jq-footlayer.js",function(t,o,i){var s=t("common:widget/ui/jquery/jquery.js"),e=t("common:widget/ui/subcookie/subcookie.js");!function(t){t.fn.footlayer=function(i){o.opts=t.extend({},t.fn.footlayer.default_options,i),o.create(t(this))},t.fn.footlayer.default_options={name:"",disableUrl:["/notes/photo/insert"]};var o={create:function(o){this.saveKey="BDLVYEAR",this.subKey="LV_FOOTER_LAYER"+this.opts.name;var i=!!e.get(this.saveKey,this.subKey)||t.inArray(location.href,this.opts.disableUrl)>-1;if(!i){this.html=t('<div class="foot-layer" id="J_foot-layer" style="display: none">'),o.appendTo(this.html),this.html.appendTo(t("body")).show();var s=this;this.height=this.html.height()+50,this.html.hide(),this.html.css({bottom:-s.height}),this.show(),this.eventBind()}},show:function(){var o=this;if(this.html.show(),t.browser&&"6.0"==t.browser.version){var i=t(window).height();this.html.css({position:"absolute",bottom:"auto",top:i-200})}else o.html.css({position:"fixed"}).animate({bottom:0},"slow");window.location.href},eventBind:function(){var o=this,i=t(window).height();t(this.html).on("click","a",function(){e.set(o.saveKey,o.subKey,1),o.html.animate({bottom:-o.height},200),t.browser&&"6.0"==t.browser.version&&o.html.hide()}),t.browser&&"6.0"==t.browser.version&&(t(window).on("scroll",function(){var s=t(window).scrollTop();o.html.css({bottom:"auto",top:parseInt(i,10)-200+parseInt(s,10)})}),t(window).on("resize",function(){var i=t(window).height(),s=t(window).scrollTop();o.html.css({bottom:"auto",top:parseInt(i,10)-200+parseInt(s,10)})}))}}}(s),i.exports=s});
;define("common:widget/ui/jq-qtip/jq-qtip.js",function(t,e,i){var s=$=t("common:widget/ui/jquery/jquery.js");!function(t,e,i){!function(t){"use strict";i&&!i.fn.qtip&&t(i)}(function(i){"use strict";function s(t,e,s,n){this.id=s,this.target=t,this.tooltip=j,this.elements={target:t},this._id=S+"-"+s,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:i(),disabled:C,attr:n,onTooltip:C,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=C}function n(t){return t===j||"object"!==i.type(t)}function o(t){return!(i.isFunction(t)||t&&t.attr||t.length||"object"===i.type(t)&&(t.jquery||t.then))}function r(t){var e,s,r,a;return n(t)?C:(n(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,n(e)||e.jquery||e.done?e=t.content={text:s=o(e)?C:e}:s=e.text,"ajax"in e&&(r=e.ajax,a=r&&r.once!==C,delete e.ajax,e.text=function(t,e){var n=s||i(this).attr(e.options.content.attr)||"Loading...",o=i.ajax(i.extend({},r,{context:e})).then(r.success,j,r.error).then(function(t){return t&&a&&e.set("content.text",t),t},function(t,i,s){e.destroyed||0===t.status||e.set("content.text",i+": "+s)});return a?n:(e.set("content.text",n),o)}),"title"in e&&(n(e.title)||(e.button=e.title.button,e.title=e.title.text),o(e.title||C)&&(e.title=C))),"position"in t&&n(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&n(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===T?{ready:T}:{event:t.show}),"hide"in t&&n(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&n(t.style)&&(t.style={classes:t.style}),i.each(k,function(){this.sanitize&&this.sanitize(t)}),t)}function a(t,e){for(var i,s=0,n=t,o=e.split(".");n=n[o[s++]];)s<o.length&&(i=n);return[i||t,o.pop()]}function h(t,e){var i,s,n;for(i in this.checks)for(s in this.checks[i])(n=new RegExp(s,"i").exec(t))&&(e.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][s].apply(this.plugins[i]||this,e))}function l(t){return $.concat("").join(t?"-"+t+" ":" ")}function d(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:i.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function c(t,e){return e>0?setTimeout(i.proxy(t,this),e):void t.call(this)}function u(t){return this.tooltip.hasClass(P)?C:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=c.call(this,function(){this.toggle(T,t)},this.options.show.delay)))}function p(t){if(this.tooltip.hasClass(P))return C;var e=i(t.relatedTarget),s=e.closest(X)[0]===this.tooltip[0],n=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&s||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(s||n))try{t.preventDefault(),t.stopImmediatePropagation()}catch(o){}else this.timers.hide=c.call(this,function(){this.toggle(C,t)},this.options.hide.delay,this)}function g(t){return this.tooltip.hasClass(P)||!this.options.hide.inactive?C:(clearTimeout(this.timers.inactive),void(this.timers.inactive=c.call(this,function(){this.hide(t)},this.options.hide.inactive)))}function f(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function m(t,s,n){i(e.body).delegate(t,(s.split?s:s.join(Q+" "))+Q,function(){var t=y.api[i.attr(this,O)];t&&!t.disabled&&n.apply(t,arguments)})}function v(t,n,o){var a,h,l,d,c,u=i(e.body),p=t[0]===e?u:t,g=t.metadata?t.metadata(o.metadata):j,f="html5"===o.metadata.type&&g?g[o.metadata.name]:j,m=t.data(o.metadata.name||"qtipopts");try{m="string"==typeof m?i.parseJSON(m):m}catch(v){}if(d=i.extend(T,{},y.defaults,o,"object"==typeof m?r(m):j,r(f||g)),h=d.position,d.id=n,"boolean"==typeof d.content.text){if(l=t.attr(d.content.attr),d.content.attr===C||!l)return C;d.content.text=l}if(h.container.length||(h.container=u),h.target===C&&(h.target=p),d.show.target===C&&(d.show.target=p),d.show.solo===T&&(d.show.solo=h.container.closest("body")),d.hide.target===C&&(d.hide.target=p),d.position.viewport===T&&(d.position.viewport=h.container),h.container=h.container.eq(0),h.at=new w(h.at,T),h.my=new w(h.my),t.data(S))if(d.overwrite)t.qtip("destroy",!0);else if(d.overwrite===C)return C;return t.attr(D,n),d.suppress&&(c=t.attr("title"))&&t.removeAttr("title").attr(R,c).attr("title",""),a=new s(t,d,n,!!l),t.data(S,a),t.one("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){var t;(t=i(this).data(S))&&t.destroy(!0)}),a}var y,b,w,_,x,T=!0,C=!1,j=null,q="x",E="y",W="top",z="left",A="bottom",F="right",L="center",k={},S="qtip",D="data-hasqtip",O="data-qtip-id",$=["ui-widget","ui-tooltip"],X="."+S,Y="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),I=S+"-fixed",B=S+"-default",M=S+"-focus",N=S+"-hover",P=S+"-disabled",H="_replacedByqTip",R="oldtitle",U={ie:function(){for(var t=3,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||C};b=s.prototype,b._when=function(t){return i.when.apply(i,t)},b.render=function(t){if(this.rendered||this.destroyed)return this;var e,s=this,n=this.options,o=this.cache,r=this.elements,a=n.content.text,h=n.content.title,l=n.content.button,d=n.position,c=("."+this._id+" ",[]);return i.attr(this.target[0],"aria-describedby",this._id),this.tooltip=r.tooltip=e=i("<div/>",{id:this._id,"class":[S,B,n.style.classes,S+"-pos-"+n.position.my.abbrev()].join(" "),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":C,"aria-describedby":this._id+"-content","aria-hidden":T}).toggleClass(P,this.disabled).attr(O,this.id).data(S,this).appendTo(d.container).append(r.content=i("<div />",{"class":S+"-content",id:this._id+"-content","aria-atomic":T})),this.rendered=-1,this.positioning=T,h&&(this._createTitle(),i.isFunction(h)||c.push(this._updateTitle(h,C))),l&&this._createButton(),i.isFunction(a)||c.push(this._updateContent(a,C)),this.rendered=T,this._setWidget(),i.each(k,function(t){var e;"render"===this.initialize&&(e=this(s))&&(s.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(c).then(function(){s._trigger("render"),s.positioning=C,s.hiddenDuringWait||!n.show.ready&&!t||s.toggle(T,o.event,C),s.hiddenDuringWait=C}),y.api[this.id]=this,this},b.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=T;var t=this.target,e=t.attr(R);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(S).removeAttr(O).removeAttr(D).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(R),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=j,delete y.api[this.id]}}return this.destroyed?this.target:(t===T&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",i.proxy(e,this)),!this.triggering&&this.hide()),this.target)},_=b.checks={builtin:{"^id$":function(t,e,s,n){var o=s===T?y.nextid:s,r=S+"-"+o;o!==C&&o.length>0&&!i("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=n},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,s){this.options.content.text===this.target.attr(s)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new w(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(T)||this.toggle(T))},"^style.classes$":function(t,e,i,s){this.rendered&&this.tooltip.removeClass(s).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(B,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,s){this.rendered&&this.tooltip[(i.isFunction(s)?"":"un")+"bind"]("tooltip"+e,s)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},b.get=function(t){if(this.destroyed)return this;var e=a(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var G=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,J=/^prerender|show\.ready/i;b.set=function(t,e){if(this.destroyed)return this;{var s,n=this.rendered,o=C,l=this.options;this.checks}return"string"==typeof t?(s=t,t={},t[s]=e):t=i.extend({},t),i.each(t,function(e,s){if(n&&J.test(e))return void delete t[e];var r,h=a(l,e.toLowerCase());r=h[0][h[1]],h[0][h[1]]=s&&s.nodeType?i(s):s,o=G.test(e)||o,t[e]=[h[0],h[1],s,r]}),r(l),this.positioning=T,i.each(t,i.proxy(h,this)),this.positioning=C,this.rendered&&this.tooltip[0].offsetWidth>0&&o&&this.reposition("mouse"===l.position.target?j:this.cache.event),this},b._update=function(t,e){var s=this,n=this.cache;return this.rendered&&t?(i.isFunction(t)&&(t=t.call(this.elements.target,n.event,this)||""),i.isFunction(t.then)?(n.waiting=T,t.then(function(t){return n.waiting=C,s._update(t,e)},j,function(t){return s._update(t,e)})):t===C||!t&&""!==t?C:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&s.rendered&&s.tooltip[0].offsetWidth>0&&s.reposition(n.event,!t.length)}))):C},b._waitForContent=function(t){var e=this.cache;return e.waiting=T,(i.fn.imagesLoaded?t.imagesLoaded():i.Deferred().resolve([])).done(function(){e.waiting=C}).promise()},b._updateContent=function(t,e){this._update(t,this.elements.content,e)},b._updateTitle=function(t,e){this._update(t,this.elements.title,e)===C&&this._removeTitle(C)},b._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=i("<div />",{"class":S+"-titlebar "+(this.options.style.widget?l("header"):"")}).append(t.title=i("<div />",{id:e,"class":S+"-title","aria-atomic":T})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){i(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){i(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},b._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=j,t!==C&&this.reposition())},b.reposition=function(s,n){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=T;var o,r,a=this.cache,h=this.tooltip,l=this.options.position,d=l.target,c=l.my,u=l.at,p=l.viewport,g=l.container,f=l.adjust,m=f.method.split(" "),v=h.outerWidth(C),y=h.outerHeight(C),b=0,w=0,_=h.css("position"),x={left:0,top:0},j=h[0].offsetWidth>0,q=s&&"scroll"===s.type,E=i(t),S=g[0].ownerDocument,D=this.mouse;if(i.isArray(d)&&2===d.length)u={x:z,y:W},x={left:d[0],top:d[1]};else if("mouse"===d)u={x:z,y:W},!D||!D.pageX||!f.mouse&&s&&s.pageX?s&&s.pageX||((!f.mouse||this.options.show.distance)&&a.origin&&a.origin.pageX?s=a.origin:(!s||s&&("resize"===s.type||"scroll"===s.type))&&(s=a.event)):s=D,"static"!==_&&(x=g.offset()),S.body.offsetWidth!==(t.innerWidth||S.documentElement.clientWidth)&&(r=i(e.body).offset()),x={left:s.pageX-x.left+(r&&r.left||0),top:s.pageY-x.top+(r&&r.top||0)},f.mouse&&q&&D&&(x.left-=(D.scrollX||0)-E.scrollLeft(),x.top-=(D.scrollY||0)-E.scrollTop());else{if("event"===d?s&&s.target&&"scroll"!==s.type&&"resize"!==s.type?a.target=i(s.target):s.target||(a.target=this.elements.target):"event"!==d&&(a.target=i(d.jquery?d:this.elements.target)),d=a.target,d=i(d).eq(0),0===d.length)return this;d[0]===e||d[0]===t?(b=U.iOS?t.innerWidth:d.width(),w=U.iOS?t.innerHeight:d.height(),d[0]===t&&(x={top:(p||d).scrollTop(),left:(p||d).scrollLeft()})):k.imagemap&&d.is("area")?o=k.imagemap(this,d,u,k.viewport?m:C):k.svg&&d&&d[0].ownerSVGElement?o=k.svg(this,d,u,k.viewport?m:C):(b=d.outerWidth(C),w=d.outerHeight(C),x=d.offset()),o&&(b=o.width,w=o.height,r=o.offset,x=o.position),x=this.reposition.offset(d,x,g),(U.iOS>3.1&&U.iOS<4.1||U.iOS>=4.3&&U.iOS<4.33||!U.iOS&&"fixed"===_)&&(x.left-=E.scrollLeft(),x.top-=E.scrollTop()),(!o||o&&o.adjustable!==C)&&(x.left+=u.x===F?b:u.x===L?b/2:0,x.top+=u.y===A?w:u.y===L?w/2:0)}return x.left+=f.x+(c.x===F?-v:c.x===L?-v/2:0),x.top+=f.y+(c.y===A?-y:c.y===L?-y/2:0),k.viewport?(x.adjusted=k.viewport(this,x,l,b,w,v,y),r&&x.adjusted.left&&(x.left+=r.left),r&&x.adjusted.top&&(x.top+=r.top)):x.adjusted={left:0,top:0},this._trigger("move",[x,p.elem||p],s)?(delete x.adjusted,n===C||!j||isNaN(x.left)||isNaN(x.top)||"mouse"===d||!i.isFunction(l.effect)?h.css(x):i.isFunction(l.effect)&&(l.effect.call(h,this,i.extend({},x)),h.queue(function(t){i(this).css({opacity:"",height:""}),U.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=C,this):this},b.reposition.offset=function(t,s,n){function o(t,e){s.left+=e*t.scrollLeft(),s.top+=e*t.scrollTop()}if(!n[0])return s;var r,a,h,l,d=i(t[0].ownerDocument),c=!!U.ie&&"CSS1Compat"!==e.compatMode,u=n[0];do"static"!==(a=i.css(u,"position"))&&("fixed"===a?(h=u.getBoundingClientRect(),o(d,-1)):(h=i(u).position(),h.left+=parseFloat(i.css(u,"borderLeftWidth"))||0,h.top+=parseFloat(i.css(u,"borderTopWidth"))||0),s.left-=h.left+(parseFloat(i.css(u,"marginLeft"))||0),s.top-=h.top+(parseFloat(i.css(u,"marginTop"))||0),r||"hidden"===(l=i.css(u,"overflow"))||"visible"===l||(r=i(u)));while(u=u.offsetParent);return r&&(r[0]!==d[0]||c)&&o(r,1),s};var K=(w=b.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,L).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?E:q}).prototype;K.invert=function(t,e){this[t]=this[t]===z?F:this[t]===F?z:e||this[t]},K.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===E||this.forceY&&"center"!==e?e+" "+t:t+" "+e},K.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},K.clone=function(){return new w(this.string(),this.forceY)},b.toggle=function(t,s){var n=this.cache,o=this.options,r=this.tooltip;if(s){if(/over|enter/.test(s.type)&&/out|leave/.test(n.event.type)&&o.show.target.add(s.target).length===o.show.target.length&&r.has(s.relatedTarget).length)return this;n.event=d(s)}if(this.waiting&&!t&&(this.hiddenDuringWait=T),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,h,l,c=t?"show":"hide",u=this.options[c],p=(this.options[t?"hide":"show"],this.options.position),g=this.options.content,f=this.tooltip.css("width"),m=this.tooltip.is(":visible"),v=t||1===u.target.length,y=!s||u.target.length<2||n.target[0]===s.target;return(typeof t).search("boolean|number")&&(t=!m),a=!r.is(":animated")&&m===t&&y,h=a?j:!!this._trigger(c,[90]),this.destroyed?this:(h!==C&&t&&this.focus(s),!h||a?this:(i.attr(r[0],"aria-hidden",!t),t?(n.origin=d(this.mouse),i.isFunction(g.text)&&this._updateContent(g.text,C),i.isFunction(g.title)&&this._updateTitle(g.title,C),!x&&"mouse"===p.target&&p.adjust.mouse&&(i(e).bind("mousemove."+S,this._storeMouse),x=T),f||r.css("width",r.outerWidth(C)),this.reposition(s,arguments[2]),f||r.css("width",""),u.solo&&("string"==typeof u.solo?i(u.solo):i(X,u.solo)).not(r).not(u.target).qtip("hide",i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete n.origin,x&&!i(X+'[tracking="true"]:visible',u.solo).not(r).length&&(i(e).unbind("mousemove."+S),x=C),this.blur(s)),l=i.proxy(function(){t?(U.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof u.autofocus&&i(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),u.effect===C||v===C?(r[c](),l()):i.isFunction(u.effect)?(r.stop(1,1),u.effect.call(r,this),r.queue("fx",function(t){l(),t()})):r.fadeTo(90,t?1:0,l),t&&u.target.trigger("qtip-"+this.id+"-inactive"),this))},b.show=function(t){return this.toggle(T,t)},b.hide=function(t){return this.toggle(C,t)},b.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=i(X),s=this.tooltip,n=parseInt(s[0].style.zIndex,10),o=y.zindex+e.length;return s.hasClass(M)||this._trigger("focus",[o],t)&&(n!==o&&(e.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+M).qtip("blur",t)),s.addClass(M)[0].style.zIndex=o),this},b.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(M),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},b.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(P):this.disabled):"boolean"!=typeof t&&(t=T),this.rendered&&this.tooltip.toggleClass(P,t).attr("aria-disabled",t),this.disabled=!!t,this)},b.enable=function(){return this.disable(C)},b._createButton=function(){var t=this,e=this.elements,s=e.tooltip,n=this.options.content.button,o="string"==typeof n,r=o?n:"Close tooltip";e.button&&e.button.remove(),e.button=n.jquery?n:i("<a />",{"class":"qtip-close "+(this.options.style.widget?"":S+"-icon"),title:r,"aria-label":r}).prepend(i("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||s).attr("role","button").click(function(e){return s.hasClass(P)||t.hide(e),C})},b._updateButton=function(t){if(!this.rendered)return C;var e=this.elements.button;t?this._createButton():e.remove()},b._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,s=i.hasClass(P);i.removeClass(P),P=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(P,s),i.toggleClass("ui-helper-reset "+l(),t).toggleClass(B,this.options.style.def&&!t),e.content&&e.content.toggleClass(l("content"),t),e.titlebar&&e.titlebar.toggleClass(l("header"),t),e.button&&e.button.toggleClass(S+"-icon",!t)},b._storeMouse=function(t){(this.mouse=d(t)).type="mousemove"},b._bind=function(t,e,s,n,o){var r="."+this._id+(n?"-"+n:"");e.length&&i(t).bind((e.split?e:e.join(r+" "))+r,i.proxy(s,o||this))},b._unbind=function(t,e){i(t).unbind("."+this._id+(e?"-"+e:""))};var Q="."+S;i(function(){m(X,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,s=i(t.currentTarget),n=i(t.relatedTarget||t.target),o=this.options;e?(this.focus(t),s.hasClass(I)&&!s.hasClass(P)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.hide.event&&o.show.target&&!n.closest(o.show.target[0]).length&&this.hide(t),s.toggleClass(N,e)}),m("["+O+"]",Y,g)}),b._trigger=function(t,e,s){var n=i.Event("tooltip"+t);return n.originalEvent=s&&i.extend({},s)||this.cache.event||j,this.triggering=t,this.tooltip.trigger(n,[this].concat(e||[])),this.triggering=C,!n.isDefaultPrevented()},b._bindEvents=function(t,e,s,n,o,r){if(n.add(s).length===n.length){var a=[];e=i.map(e,function(e){var s=i.inArray(e,t);return s>-1?void a.push(t.splice(s,1)[0]):e}),a.length&&this._bind(s,a,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?r:o).call(this,t)})}this._bind(s,t,o),this._bind(n,e,r)},b._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?C:(this.cache.event=d(t),this.cache.target=t?i(t.target):[void 0],clearTimeout(this.timers.show),void(this.timers.show=c.call(this,function(){this.render("object"==typeof t||s.show.ready)},s.show.delay)))}var s=this.options,n=s.show.target,o=s.hide.target,r=s.show.event?i.trim(""+s.show.event).split(" "):[],a=s.hide.event?i.trim(""+s.hide.event).split(" "):[];/mouse(over|enter)/i.test(s.show.event)&&!/mouse(out|leave)/i.test(s.hide.event)&&a.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=T}),this._bindEvents(r,a,n,o,e,function(){clearTimeout(this.timers.show)}),(s.show.ready||s.prerender)&&e.call(this,t)},b._assignEvents=function(){var s=this,n=this.options,o=n.position,r=this.tooltip,a=n.show.target,h=n.hide.target,l=o.container,d=o.viewport,c=i(e),m=(i(e.body),i(t)),v=n.show.event?i.trim(""+n.show.event).split(" "):[],b=n.hide.event?i.trim(""+n.hide.event).split(" "):[];i.each(n.events,function(t,e){s._bind(r,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,r)}),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&this._bind(c,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),n.hide.fixed?h=h.add(r.addClass(I)):/mouse(over|enter)/i.test(n.show.event)&&this._bind(h,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+n.hide.event).indexOf("unfocus")>-1&&this._bind(l.closest("html"),["mousedown","touchstart"],function(t){var e=i(t.target),s=this.rendered&&!this.tooltip.hasClass(P)&&this.tooltip[0].offsetWidth>0,n=e.parents(X).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||n||this.target.has(e[0]).length||!s||this.hide(t)}),"number"==typeof n.hide.inactive&&(this._bind(a,"qtip-"+this.id+"-inactive",g),this._bind(h.add(r),y.inactiveEvents,g,"-inactive")),this._bindEvents(v,b,a,h,u,p),this._bind(a.add(r),"mousemove",function(t){if("number"==typeof n.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,s=Math.abs;(s(t.pageX-e.pageX)>=i||s(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===o.target&&o.adjust.mouse&&(n.hide.event&&this._bind(a,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(c,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(P)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(o.adjust.resize||d.length)&&this._bind(i.event.special.resize?d:m,"resize",f),o.adjust.scroll&&this._bind(m.add(o.container),"scroll",f)},b._unassignEvents=function(){var s=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(i([]).pushStack(i.grep(s,function(t){return"object"==typeof t})))},y=i.fn.qtip=function(t,e,s){var n=(""+t).toLowerCase(),o=j,a=i.makeArray(arguments).slice(1),h=a[a.length-1],l=this[0]?i.data(this[0],S):j;return!arguments.length&&l||"api"===n?l:"string"==typeof t?(this.each(function(){var t=i.data(this,S);if(!t)return T;if(h&&h.timeStamp&&(t.cache.event=h),!e||"option"!==n&&"options"!==n)t[n]&&t[n].apply(t,a);else{if(void 0===s&&!i.isPlainObject(e))return o=t.get(e),C;t.set(e,s)}}),o!==j?o:this):"object"!=typeof t&&arguments.length?void 0:(l=r(i.extend(T,{},t)),this.each(function(t){var e,s;return s=i.isArray(l.id)?l.id[t]:l.id,s=!s||s===C||s.length<1||y.api[s]?y.nextid++:s,e=v(i(this),s,l),e===C?T:(y.api[s]=e,i.each(k,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(h))}))},i.qtip=s,y.api={},i.each({attr:function(t,e){if(this.length){var s=this[0],n="title",o=i.data(s,"qtip");if(t===n&&o&&"object"==typeof o&&o.options.suppress)return arguments.length<2?i.attr(s,R):(o&&o.options.content.attr===n&&o.cache.attr&&o.set("content.text",e),this.attr(R,e))}return i.fn["attr"+H].apply(this,arguments)},clone:function(t){var e=(i([]),i.fn["clone"+H].apply(this,arguments));return t||e.filter("["+R+"]").attr("title",function(){return i.attr(this,R)}).removeAttr(R),e}},function(t,e){if(!e||i.fn[t+H])return T;var s=i.fn[t+H]=i.fn[t];i.fn[t]=function(){return e.apply(this,arguments)||s.apply(this,arguments)}}),i.ui||(i["cleanData"+H]=i.cleanData,i.cleanData=function(t){for(var e,s=0;(e=i(t[s])).length;s++)if(e.attr(D))try{e.triggerHandler("removeqtip")}catch(n){}i["cleanData"+H].apply(this,arguments)}),y.version="2.2.0",y.nextid=0,y.inactiveEvents=Y,y.zindex=15e3,y.defaults={prerender:C,id:C,overwrite:T,suppress:T,content:{text:T,attr:"title",title:C,button:C},position:{my:"top left",at:"bottom right",target:C,container:C,viewport:C,adjust:{x:0,y:0,mouse:T,scroll:T,resize:T,method:"flipinvert flipinvert"},effect:function(t,e){i(this).animate(e,{duration:200,queue:C})}},show:{target:C,event:"mouseenter",effect:T,delay:90,solo:C,ready:C,autofocus:C},hide:{target:C,event:"mouseleave",effect:T,delay:0,fixed:C,inactive:C,leave:"window",distance:C},style:{classes:"",widget:C,width:C,height:C,def:T},events:{render:j,move:j,show:j,hide:j,toggle:j,visible:j,hidden:j,focus:j,blur:j}}})}(window,document,s),i.exports=s,window.jQuery=window.$=null});
;define("common:widget/ui/jq-scrollspy/jq-scrollspy.js",function(t){function s(t,o){var i,r=e.proxy(this.process,this);this.$element=e(e(t).is("body")?window:t),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.scrollspy",r),this.options=e.extend({},s.DEFAULTS,o),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .J-spy",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}var e=t("common:widget/ui/jquery/jquery.js"),o=function(t,s){var e=5,o=40;return t-e-o*s};s.DEFAULTS={offset:10},s.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);{var s=this;this.$body.find(this.selector).map(function(){var o=e(this),i=o.data("target")||o.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r[t]().top+(!e.isWindow(s.$scrollElement.get(0))&&s.$scrollElement.scrollTop()),i]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(t){var e=o(this[0],t);s.offsets.push(e),s.targets.push(this[1])})}},s.prototype.process=function(){var t,s=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=(e-this.$scrollElement.height(),this.offsets),i=this.targets,r=this.activeTarget;for(t=o.length;t--;)r!=i[t]&&s>=o[t]&&(!o[t+1]||s<=o[t+1])&&this.activate(i[t])},s.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parent(".datelist-on").removeClass("datelist-on");var s=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',o=e(s).parent("li").addClass("datelist-on");e(".datewrap-on").removeClass("datewrap-on"),e(t).addClass("datewrap-on"),o.trigger("activate"),this.options.callback&&this.options.callback()},e.fn.scrollspy=function(t){return this.each(function(){var o=e(this),i=o.data("scrollspy"),r="object"==typeof t&&t;i||o.data("scrollspy",i=new s(this,r)),"string"==typeof t&&i[t]()})},e.fn.scrollspy.Constructor=s});
;define("common:widget/ui/jq-tabs/jq-tabs.js",function(t,e,i){var s=t("common:widget/ui/jquery/jquery.js");!function(t,e){function i(e,i){var a,n,r,o=e.nodeName.toLowerCase();return"area"===o?(a=e.parentNode,n=a.name,e.href&&n&&"map"===a.nodeName.toLowerCase()?(r=t("img[usemap=#"+n+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var a=0,n=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,a,n=t(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),a=isNaN(s);return(a||s>=0)&&i(e,!a)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function a(e,i,s,a){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?o["inner"+s].call(this):this.each(function(){t(this).css(r,a(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?o["outer"+s].call(this,e):this.each(function(){t(this).css(r,a(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var a,n=t.ui[e].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(t,e,i){var s,a=t.plugins[e];if(a&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;a.length>s;s++)t.options[a[s][0]]&&a[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return e[s]>0?!0:(e[s]=1,a=e[s]>0,e[s]=0,a)}})}(s),function(t,e){var i=0,s=Array.prototype.slice,a=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(n){}a(e)},t.widget=function(i,s,a){var n,r,o,l,h={},u=i.split(".")[0];i=i.split(".")[1],n=u+"-"+i,a||(a=s,s=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[u]=t[u]||{},r=t[u][i],o=t[u][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new o(t,i)},t.extend(o,r,{version:a.version,_proto:t.extend({},a),_childConstructors:[]}),l=new s,l.options=t.widget.extend({},l.options),t.each(a,function(i,a){return t.isFunction(a)?(h[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,n=this._superApply;return this._super=t,this._superApply=e,i=a.apply(this,arguments),this._super=s,this._superApply=n,i}}(),e):(h[i]=a,e)}),o.prototype=t.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix:i},h,{constructor:o,namespace:u,widgetName:i,widgetFullName:n}),r?(t.each(r._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),t.widget.bridge(i,o)},t.widget.extend=function(i){for(var a,n,r=s.call(arguments,1),o=0,l=r.length;l>o;o++)for(a in r[o])n=r[o][a],r[o].hasOwnProperty(a)&&n!==e&&(i[a]=t.isPlainObject(n)?t.isPlainObject(i[a])?t.widget.extend({},i[a],n):t.widget.extend({},n):n);return i},t.widget.bridge=function(i,a){var n=a.prototype.widgetFullName||i;t.fn[i]=function(r){var o="string"==typeof r,l=s.call(arguments,1),h=this;return r=!o&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,this.each(o?function(){var s,a=t.data(this,n);return a?t.isFunction(a[r])&&"_"!==r.charAt(0)?(s=a[r].apply(a,l),s!==a&&s!==e?(h=s&&s.jquery?h.pushStack(s.get()):s,!1):e):t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var e=t.data(this,n);e?e.option(r||{})._init():t.data(this,n,new a(r,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var a,n,r,o=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(o={},a=i.split("."),i=a.shift(),a.length){for(n=o[i]=t.widget.extend({},this.options[i]),r=0;a.length-1>r;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(i=a.pop(),s===e)return n[i]===e?null:n[i];n[i]=s}else{if(s===e)return this.options[i]===e?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,a){var n,r=this;"boolean"!=typeof i&&(a=s,s=i,i=!1),a?(s=n=t(s),this.bindings=this.bindings.add(s)):(a=s,s=this.element,n=this.widget()),t.each(a,function(a,o){function l(){return i||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):e}"string"!=typeof o&&(l.guid=o.guid=o.guid||l.guid||t.guid++);var h=a.match(/^(\w+)\s*(.*)$/),u=h[1]+r.eventNamespace,c=h[2];c?n.delegate(c,u,l):s.bind(u,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var a,n,r=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:e;a=a||{},"number"==typeof a&&(a={duration:a}),r=!t.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&t.effects&&t.effects.effect[o]?s[e](a):o!==e&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){t(this)[e](),n&&n.call(s[0]),i()})}})}(s),function(t,e){function i(){return++a}function s(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(n,""))===decodeURIComponent(location.href.replace(n,""))}var a=0,n=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,a=location.hash.substring(1);return null===i&&(a&&this.tabs.each(function(s,n){return t(n).attr("aria-controls")===a?(i=s,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),a=this.tabs.index(s),n=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:a++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,a--;break;case t.ui.keyCode.END:a=this.anchors.length-1;break;case t.ui.keyCode.HOME:a=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(a),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(a===this.options.active?!1:a),e;default:return}i.preventDefault(),clearTimeout(this.activating),a=this._focusNextTab(a,n),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>a&&(e=0),0>e&&(e=a),e}for(var a=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,a){var n,r,o,l=t(a).uniqueId().attr("id"),h=t(a).closest("li"),u=h.attr("aria-controls");s(a)?(n=a.hash,r=e.element.find(e._sanitizeSelector(n))):(o=e._tabId(h),n="#"+o,r=e.element.find(n),r.length||(r=e._createPanel(o),r.insertAfter(e.panels[i-1]||e.tablist)),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),u&&h.data("ui-tabs-aria-controls",u),h.attr({"aria-controls":n.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,a=t(e.currentTarget),n=a.closest("li"),r=n[0]===s[0],o=r&&i.collapsible,l=o?t():this._getPanelForTab(n),h=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:h,newTab:o?t():n,newPanel:l};e.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=o?!1:this.tabs.index(n),this.active=r?t():n,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(n),e),this._toggle(e,u))},_toggle:function(e,i){function s(){n.running=!1,n._trigger("activate",e,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,s):(r.show(),s())}var n=this,r=i.newPanel,o=i.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&o.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var a=this,n=this.tabs.eq(e),r=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),l={tab:n,panel:o};s(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){o.html(t),a._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&a.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===a.xhr&&delete a.xhr},1)})))},_ajaxSettings:function(e,i,s){var a=this;return{url:e.attr("href"),beforeSend:function(e,n){return a._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:n},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(s),i.exports=s});
;define("common:widget/ui/jquery-qrcode/jquery-qrcode.js",function(r,t,e){var n=r("common:widget/ui/jquery/jquery.js");!function(r){"use strict";var t=function(r,t,e,n){var o=T(e,t);o.addData(r),o.make(),n=n||0;var i=o.getModuleCount(),a=o.getModuleCount()+2*n,u=function(r,t){return r-=n,t-=n,0>r||r>=i||0>t||t>=i?!1:o.isDark(r,t)},f=function(r,t,e,n){var o=this.isDark,i=1/a;this.isDark=function(a,u){var f=u*i,c=a*i,l=f+i,g=c+i;return o(a,u)&&(r>l||f>e||t>g||c>n)}};this.text=r,this.level=t,this.version=e,this.moduleCount=a,this.isDark=u,this.addBlank=f},e=function(){var r=document.createElement("canvas");return!(!r.getContext||!r.getContext("2d"))}(),n="[object Opera]"!==Object.prototype.toString.call(window.opera),o=function(r,e,n,o,i){n=Math.max(1,n||1),o=Math.min(40,o||40);for(var a=n;o>=a;a+=1)try{return new t(r,e,a,i)}catch(u){}},i=function(t,e,n){var o=n.size,i="bold "+n.mSize*o+"px "+n.fontname,a=r("<canvas/>")[0].getContext("2d");a.font=i;var u=a.measureText(n.label).width,f=n.mSize,c=u/o,l=(1-c)*n.mPosX,g=(1-f)*n.mPosY,s=l+c,v=g+f,h=.01;1===n.mode?t.addBlank(0,g-h,o,v+h):t.addBlank(l-h,g-h,s+h,v+h),e.fillStyle=n.fontcolor,e.font=i,e.fillText(n.label,l*o,g*o+.75*n.mSize*o)},a=function(r,t,e){var n=e.size,o=e.image.naturalWidth||1,i=e.image.naturalHeight||1,a=e.mSize,u=a*o/i,f=(1-u)*e.mPosX,c=(1-a)*e.mPosY,l=f+u,g=c+a,s=.01;3===e.mode?r.addBlank(0,c-s,n,g+s):r.addBlank(f-s,c-s,l+s,g+s),t.drawImage(e.image,f*n,c*n,u*n,a*n)},u=function(t,e,n){r(n.background).is("img")?e.drawImage(n.background,0,0,n.size,n.size):n.background&&(e.fillStyle=n.background,e.fillRect(n.left,n.top,n.size,n.size));var o=n.mode;1===o||2===o?i(t,e,n):(3===o||4===o)&&a(t,e,n)},f=function(r,t,e,n,o,i,a,u){r.isDark(a,u)&&t.rect(n,o,i,i)},c=function(r,t,e,n,o,i,a,u,f,c){a?r.moveTo(t+i,e):r.moveTo(t,e),u?(r.lineTo(n-i,e),r.arcTo(n,e,n,o,i)):r.lineTo(n,e),f?(r.lineTo(n,o-i),r.arcTo(n,o,t,o,i)):r.lineTo(n,o),c?(r.lineTo(t+i,o),r.arcTo(t,o,t,e,i)):r.lineTo(t,o),a?(r.lineTo(t,e+i),r.arcTo(t,e,n,e,i)):r.lineTo(t,e)},l=function(r,t,e,n,o,i,a,u,f,c){a&&(r.moveTo(t+i,e),r.lineTo(t,e),r.lineTo(t,e+i),r.arcTo(t,e,t+i,e,i)),u&&(r.moveTo(n-i,e),r.lineTo(n,e),r.lineTo(n,e+i),r.arcTo(n,e,n-i,e,i)),f&&(r.moveTo(n-i,o),r.lineTo(n,o),r.lineTo(n,o-i),r.arcTo(n,o,n-i,o,i)),c&&(r.moveTo(t+i,o),r.lineTo(t,o),r.lineTo(t,o-i),r.arcTo(t,o,t+i,o,i))},g=function(r,t,e,n,o,i,a,u){var f=r.isDark,g=n+i,s=o+i,v=e.radius*i,h=a-1,d=a+1,w=u-1,m=u+1,y=f(a,u),T=f(h,w),p=f(h,u),B=f(h,m),E=f(a,m),k=f(d,m),A=f(d,u),M=f(d,w),D=f(a,w);y?c(t,n,o,g,s,v,!p&&!D,!p&&!E,!A&&!E,!A&&!D):l(t,n,o,g,s,v,p&&D&&T,p&&E&&B,A&&E&&k,A&&D&&M)},s=function(t,e,o){var i,a,u=t.moduleCount,c=o.size/u,l=f;for(n&&o.radius>0&&o.radius<=.5&&(l=g),e.beginPath(),i=0;u>i;i+=1)for(a=0;u>a;a+=1){var s=o.left+a*c,v=o.top+i*c,h=c;l(t,e,o,s,v,h,i,a)}if(r(o.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var d=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=d,e.clip(),e.drawImage(o.fill,0,0,o.size,o.size),e.restore()}else e.fillStyle=o.fill,e.fill()},v=function(t,e){var n=o(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!n)return null;var i=r(t).data("qrcode",n),a=i[0].getContext("2d");return u(n,a,e),s(n,a,e),i},h=function(t){var e=r("<canvas/>").attr("width",t.size).attr("height",t.size);return v(e,t)},d=function(t){return r("<img/>").attr("src",h(t)[0].toDataURL("image/png"))},w=function(t){var e=o(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var n,i,a=t.size,u=t.background,f=Math.floor,c=e.moduleCount,l=f(a/c),g=f(.5*(a-l*c)),s={position:"relative",left:0,top:0,padding:0,margin:0,width:a,height:a},v={position:"absolute",padding:0,margin:0,width:l,height:l,"background-color":t.fill},h=r("<div/>").data("qrcode",e).css(s);for(u&&h.css("background-color",u),n=0;c>n;n+=1)for(i=0;c>i;i+=1)e.isDark(n,i)&&r("<div/>").css(v).css({left:g+i*l,top:g+n*l}).appendTo(h);return h},m=function(r){return e&&"canvas"===r.render?h(r):e&&"image"===r.render?d(r):w(r)},y={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};r.fn.qrcode=function(t){var e=r.extend({},y,t);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?v(this,e):r(this).append(m(e))})};var T=function(){function r(t,e){if("undefined"==typeof t.length)throw new Error(t.length+"/"+e);var n=function(){for(var r=0;r<t.length&&0==t[r];)r+=1;for(var n=new Array(t.length-r+e),o=0;o<t.length-r;o+=1)n[o]=t[o+r];return n}(),o={};return o.get=function(r){return n[r]},o.getLength=function(){return n.length},o.multiply=function(t){for(var e=new Array(o.getLength()+t.getLength()-1),n=0;n<o.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)e[n+i]^=a.gexp(a.glog(o.get(n))+a.glog(t.get(i)));return r(e,0)},o.mod=function(t){if(o.getLength()-t.getLength()<0)return o;for(var e=a.glog(o.get(0))-a.glog(t.get(0)),n=new Array(o.getLength()),i=0;i<o.getLength();i+=1)n[i]=o.get(i);for(var i=0;i<t.getLength();i+=1)n[i]^=a.gexp(a.glog(t.get(i))+e);return r(n,0).mod(t)},o}var t=function(t,e){var o=236,a=17,l=t,g=n[e],s=null,v=0,d=null,w=new Array,m={},y=function(r,t){v=4*l+17,s=function(r){for(var t=new Array(r),e=0;r>e;e+=1){t[e]=new Array(r);for(var n=0;r>n;n+=1)t[e][n]=null}return t}(v),T(0,0),T(v-7,0),T(0,v-7),E(),B(),A(r,t),l>=7&&k(r),null==d&&(d=C(l,g,w)),M(d,t)},T=function(r,t){for(var e=-1;7>=e;e+=1)if(!(-1>=r+e||r+e>=v))for(var n=-1;7>=n;n+=1)-1>=t+n||t+n>=v||(s[r+e][t+n]=e>=0&&6>=e&&(0==n||6==n)||n>=0&&6>=n&&(0==e||6==e)||e>=2&&4>=e&&n>=2&&4>=n?!0:!1)},p=function(){for(var r=0,t=0,e=0;8>e;e+=1){y(!0,e);var n=i.getLostPoint(m);(0==e||r>n)&&(r=n,t=e)}return t},B=function(){for(var r=8;v-8>r;r+=1)null==s[r][6]&&(s[r][6]=r%2==0);for(var t=8;v-8>t;t+=1)null==s[6][t]&&(s[6][t]=t%2==0)},E=function(){for(var r=i.getPatternPosition(l),t=0;t<r.length;t+=1)for(var e=0;e<r.length;e+=1){var n=r[t],o=r[e];if(null==s[n][o])for(var a=-2;2>=a;a+=1)for(var u=-2;2>=u;u+=1)s[n+a][o+u]=-2==a||2==a||-2==u||2==u||0==a&&0==u?!0:!1}},k=function(r){for(var t=i.getBCHTypeNumber(l),e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);s[Math.floor(e/3)][e%3+v-8-3]=n}for(var e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);s[e%3+v-8-3][Math.floor(e/3)]=n}},A=function(r,t){for(var e=g<<3|t,n=i.getBCHTypeInfo(e),o=0;15>o;o+=1){var a=!r&&1==(n>>o&1);6>o?s[o][8]=a:8>o?s[o+1][8]=a:s[v-15+o][8]=a}for(var o=0;15>o;o+=1){var a=!r&&1==(n>>o&1);8>o?s[8][v-o-1]=a:9>o?s[8][15-o-1+1]=a:s[8][15-o-1]=a}s[v-8][8]=!r},M=function(r,t){for(var e=-1,n=v-1,o=7,a=0,u=i.getMaskFunction(t),f=v-1;f>0;f-=2)for(6==f&&(f-=1);;){for(var c=0;2>c;c+=1)if(null==s[n][f-c]){var l=!1;a<r.length&&(l=1==(r[a]>>>o&1));var g=u(n,f-c);g&&(l=!l),s[n][f-c]=l,o-=1,-1==o&&(a+=1,o=7)}if(n+=e,0>n||n>=v){n-=e,e=-e;break}}},D=function(t,e){for(var n=0,o=0,a=0,u=new Array(e.length),f=new Array(e.length),c=0;c<e.length;c+=1){var l=e[c].dataCount,g=e[c].totalCount-l;o=Math.max(o,l),a=Math.max(a,g),u[c]=new Array(l);for(var s=0;s<u[c].length;s+=1)u[c][s]=255&t.getBuffer()[s+n];n+=l;var v=i.getErrorCorrectPolynomial(g),h=r(u[c],v.getLength()-1),d=h.mod(v);f[c]=new Array(v.getLength()-1);for(var s=0;s<f[c].length;s+=1){var w=s+d.getLength()-f[c].length;f[c][s]=w>=0?d.get(w):0}}for(var m=0,s=0;s<e.length;s+=1)m+=e[s].totalCount;for(var y=new Array(m),T=0,s=0;o>s;s+=1)for(var c=0;c<e.length;c+=1)s<u[c].length&&(y[T]=u[c][s],T+=1);for(var s=0;a>s;s+=1)for(var c=0;c<e.length;c+=1)s<f[c].length&&(y[T]=f[c][s],T+=1);return y},C=function(r,t,e){for(var n=u.getRSBlocks(r,t),c=f(),l=0;l<e.length;l+=1){var g=e[l];c.put(g.getMode(),4),c.put(g.getLength(),i.getLengthInBits(g.getMode(),r)),g.write(c)}for(var s=0,l=0;l<n.length;l+=1)s+=n[l].dataCount;if(c.getLengthInBits()>8*s)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*s+")");for(c.getLengthInBits()+4<=8*s&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;;){if(c.getLengthInBits()>=8*s)break;if(c.put(o,8),c.getLengthInBits()>=8*s)break;c.put(a,8)}return D(c,n)};return m.addData=function(r){var t=c(r);w.push(t),d=null},m.isDark=function(r,t){if(0>r||r>=v||0>t||t>=v)throw new Error(r+","+t);return s[r][t]},m.getModuleCount=function(){return v},m.make=function(){y(!1,p())},m.createTableTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e="";e+='<table style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: "+t+"px;",e+='">',e+="<tbody>";for(var n=0;n<m.getModuleCount();n+=1){e+="<tr>";for(var o=0;o<m.getModuleCount();o+=1)e+='<td style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: 0px;",e+=" width: "+r+"px;",e+=" height: "+r+"px;",e+=" background-color: ",e+=m.isDark(n,o)?"#000000":"#ffffff",e+=";",e+='"/>';e+="</tr>"}return e+="</tbody>",e+="</table>"},m.createImgTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e=m.getModuleCount()*r+2*t,n=t,o=e-t;return h(e,e,function(t,e){if(t>=n&&o>t&&e>=n&&o>e){var i=Math.floor((t-n)/r),a=Math.floor((e-n)/r);return m.isDark(a,i)?0:1}return 1})},m};t.stringToBytes=function(r){for(var t=new Array,e=0;e<r.length;e+=1){var n=r.charCodeAt(e);t.push(255&n)}return t},t.createStringToBytes=function(r,t){var e=function(){for(var e=s(r),n=function(){var r=e.read();if(-1==r)throw new Error;return r},o=0,i={};;){var a=e.read();if(-1==a)break;var u=n(),f=n(),c=n(),l=String.fromCharCode(a<<8|u),g=f<<8|c;i[l]=g,o+=1}if(o!=t)throw new Error(o+" != "+t);return i}(),n="?".charCodeAt(0);return function(r){for(var t=new Array,o=0;o<r.length;o+=1){var i=r.charCodeAt(o);if(128>i)t.push(i);else{var a=e[r.charAt(o)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(n)}}return t}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,i=7973,u=21522,f={},c=function(r){for(var t=0;0!=r;)t+=1,r>>>=1;return t};return f.getBCHTypeInfo=function(r){for(var t=r<<10;c(t)-c(n)>=0;)t^=n<<c(t)-c(n);return(r<<10|t)^u},f.getBCHTypeNumber=function(r){for(var t=r<<12;c(t)-c(i)>=0;)t^=i<<c(t)-c(i);return r<<12|t},f.getPatternPosition=function(r){return t[r-1]},f.getMaskFunction=function(r){switch(r){case o.PATTERN000:return function(r,t){return(r+t)%2==0};case o.PATTERN001:return function(r){return r%2==0};case o.PATTERN010:return function(r,t){return t%3==0};case o.PATTERN011:return function(r,t){return(r+t)%3==0};case o.PATTERN100:return function(r,t){return(Math.floor(r/2)+Math.floor(t/3))%2==0};case o.PATTERN101:return function(r,t){return r*t%2+r*t%3==0};case o.PATTERN110:return function(r,t){return(r*t%2+r*t%3)%2==0};case o.PATTERN111:return function(r,t){return(r*t%3+(r+t)%2)%2==0};default:throw new Error("bad maskPattern:"+r)}},f.getErrorCorrectPolynomial=function(t){for(var e=r([1],0),n=0;t>n;n+=1)e=e.multiply(r([1,a.gexp(n)],0));return e},f.getLengthInBits=function(r,t){if(t>=1&&10>t)switch(r){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(27>t)switch(r){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(41>t))throw new Error("type:"+t);switch(r){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},f.getLostPoint=function(r){for(var t=r.getModuleCount(),e=0,n=0;t>n;n+=1)for(var o=0;t>o;o+=1){for(var i=0,a=r.isDark(n,o),u=-1;1>=u;u+=1)if(!(0>n+u||n+u>=t))for(var f=-1;1>=f;f+=1)0>o+f||o+f>=t||(0!=u||0!=f)&&a==r.isDark(n+u,o+f)&&(i+=1);i>5&&(e+=3+i-5)}for(var n=0;t-1>n;n+=1)for(var o=0;t-1>o;o+=1){var c=0;r.isDark(n,o)&&(c+=1),r.isDark(n+1,o)&&(c+=1),r.isDark(n,o+1)&&(c+=1),r.isDark(n+1,o+1)&&(c+=1),(0==c||4==c)&&(e+=3)}for(var n=0;t>n;n+=1)for(var o=0;t-6>o;o+=1)r.isDark(n,o)&&!r.isDark(n,o+1)&&r.isDark(n,o+2)&&r.isDark(n,o+3)&&r.isDark(n,o+4)&&!r.isDark(n,o+5)&&r.isDark(n,o+6)&&(e+=40);for(var o=0;t>o;o+=1)for(var n=0;t-6>n;n+=1)r.isDark(n,o)&&!r.isDark(n+1,o)&&r.isDark(n+2,o)&&r.isDark(n+3,o)&&r.isDark(n+4,o)&&!r.isDark(n+5,o)&&r.isDark(n+6,o)&&(e+=40);for(var l=0,o=0;t>o;o+=1)for(var n=0;t>n;n+=1)r.isDark(n,o)&&(l+=1);var g=Math.abs(100*l/t/t-50)/5;return e+=10*g},f}(),a=function(){for(var r=new Array(256),t=new Array(256),e=0;8>e;e+=1)r[e]=1<<e;for(var e=8;256>e;e+=1)r[e]=r[e-4]^r[e-5]^r[e-6]^r[e-8];for(var e=0;255>e;e+=1)t[r[e]]=e;var n={};return n.glog=function(r){if(1>r)throw new Error("glog("+r+")");return t[r]},n.gexp=function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return r[t]},n}(),u=function(){var r=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(r,t){var e={};return e.totalCount=r,e.dataCount=t,e},e={},o=function(t,e){switch(e){case n.L:return r[4*(t-1)+0];case n.M:return r[4*(t-1)+1];case n.Q:return r[4*(t-1)+2];case n.H:return r[4*(t-1)+3];default:return void 0}};return e.getRSBlocks=function(r,e){var n=o(r,e);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var i=n.length/3,a=new Array,u=0;i>u;u+=1)for(var f=n[3*u+0],c=n[3*u+1],l=n[3*u+2],g=0;f>g;g+=1)a.push(t(c,l));return a},e}(),f=function(){var r=new Array,t=0,e={};return e.getBuffer=function(){return r},e.get=function(t){var e=Math.floor(t/8);return 1==(r[e]>>>7-t%8&1)},e.put=function(r,t){for(var n=0;t>n;n+=1)e.putBit(1==(r>>>t-n-1&1))},e.getLengthInBits=function(){return t},e.putBit=function(e){var n=Math.floor(t/8);r.length<=n&&r.push(0),e&&(r[n]|=128>>>t%8),t+=1},e},c=function(r){var n=e.MODE_8BIT_BYTE,o=t.stringToBytes(r),i={};return i.getMode=function(){return n},i.getLength=function(){return o.length},i.write=function(r){for(var t=0;t<o.length;t+=1)r.put(o[t],8)},i},l=function(){var r=new Array,t={};return t.writeByte=function(t){r.push(255&t)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,e,n){e=e||0,n=n||r.length;for(var o=0;n>o;o+=1)t.writeByte(r[o+e])},t.writeString=function(r){for(var e=0;e<r.length;e+=1)t.writeByte(r.charCodeAt(e))},t.toByteArray=function(){return r},t.toString=function(){var t="";t+="[";for(var e=0;e<r.length;e+=1)e>0&&(t+=","),t+=r[e];return t+="]"},t},g=function(){var r=0,t=0,e=0,n="",o={},i=function(r){n+=String.fromCharCode(a(63&r))},a=function(r){if(0>r);else{if(26>r)return 65+r;if(52>r)return 97+(r-26);if(62>r)return 48+(r-52);if(62==r)return 43;if(63==r)return 47}throw new Error("n:"+r)};return o.writeByte=function(n){for(r=r<<8|255&n,t+=8,e+=1;t>=6;)i(r>>>t-6),t-=6},o.flush=function(){if(t>0&&(i(r<<6-t),r=0,t=0),e%3!=0)for(var o=3-e%3,a=0;o>a;a+=1)n+="="},o.toString=function(){return n},o},s=function(r){var t=r,e=0,n=0,o=0,i={};i.read=function(){for(;8>o;){if(e>=t.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var r=t.charAt(e);if(e+=1,"="==r)return o=0,-1;r.match(/^\s$/)||(n=n<<6|a(r.charCodeAt(0)),o+=6)}var i=n>>>o-8&255;return o-=8,i};var a=function(r){if(r>=65&&90>=r)return r-65;if(r>=97&&122>=r)return r-97+26;if(r>=48&&57>=r)return r-48+52;if(43==r)return 62;if(47==r)return 63;throw new Error("c:"+r)};return i},v=function(r,t){var e=r,n=t,o=new Array(r*t),i={};i.setPixel=function(r,t,n){o[t*e+r]=n},i.write=function(r){r.writeString("GIF87a"),r.writeShort(e),r.writeShort(n),r.writeByte(128),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(255),r.writeByte(255),r.writeByte(255),r.writeString(","),r.writeShort(0),r.writeShort(0),r.writeShort(e),r.writeShort(n),r.writeByte(0);var t=2,o=u(t);r.writeByte(t);for(var i=0;o.length-i>255;)r.writeByte(255),r.writeBytes(o,i,255),i+=255;r.writeByte(o.length-i),r.writeBytes(o,i,o.length-i),r.writeByte(0),r.writeString(";")};var a=function(r){var t=r,e=0,n=0,o={};return o.write=function(r,o){if(r>>>o!=0)throw new Error("length over");for(;e+o>=8;)t.writeByte(255&(r<<e|n)),o-=8-e,r>>>=8-e,n=0,e=0;n=r<<e|n,e+=o},o.flush=function(){e>0&&t.writeByte(n)},o},u=function(r){for(var t=1<<r,e=(1<<r)+1,n=r+1,i=f(),u=0;t>u;u+=1)i.add(String.fromCharCode(u));i.add(String.fromCharCode(t)),i.add(String.fromCharCode(e));var c=l(),g=a(c);g.write(t,n);var s=0,v=String.fromCharCode(o[s]);for(s+=1;s<o.length;){var h=String.fromCharCode(o[s]);s+=1,i.contains(v+h)?v+=h:(g.write(i.indexOf(v),n),i.size()<4095&&(i.size()==1<<n&&(n+=1),i.add(v+h)),v=h)}return g.write(i.indexOf(v),n),g.write(e,n),g.flush(),c.toByteArray()},f=function(){var r={},t=0,e={};return e.add=function(n){if(e.contains(n))throw new Error("dup key:"+n);r[n]=t,t+=1},e.size=function(){return t},e.indexOf=function(t){return r[t]},e.contains=function(t){return"undefined"!=typeof r[t]},e};return i},h=function(r,t,e,n){for(var o=v(r,t),i=0;t>i;i+=1)for(var a=0;r>a;a+=1)o.setPixel(a,i,e(a,i));var u=l();o.write(u);for(var f=g(),c=u.toByteArray(),s=0;s<c.length;s+=1)f.writeByte(c[s]);f.flush();var h="";return h+="<img",h+=' src="',h+="data:image/gif;base64,",h+=f,h+='"',h+=' width="',h+=r,h+='"',h+=' height="',h+=t,h+='"',n&&(h+=' alt="',h+=n,h+='"'),h+="/>"};return t}()}(n),e.exports=n});
;define("common:widget/ui/json/json.js",function(require,exports,module){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u,i=gap,p=e[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof rep&&(p=rep.call(e,t,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,n=0;f>n;n+=1)u[n]=str(n,p)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,p),o&&u.push(quote(r)+(gap?": ":":")+o));else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(o=str(r,p),o&&u.push(quote(r)+(gap?": ":":")+o));return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),module.exports=JSON});
;define("common:widget/ui/msg/js/msg-config.js",function(t,a,e){var n=t("common:widget/lib/tangram/base/base.js"),i=t("common:widget/ui/lite/lite.js"),r={formatMsg:function(t,a){var e=[];if(t&&t.count>=1){var r=t.content||[],o=r.length;switch(a.type){case 1:for(var p=a.fr&&"uc"==a.fr?60:18,s=0;o>s;s++){var c={t1_title:i.cut(r[s].title,p,"..."),t1_count:r[s].msg_cnt,t1_pid:r[s].pid,t1_nid:r[s].nid};e.push(n.string.format(a.template,c))}break;case 2:for(var s=0;o>s;s++){var p=a.fr&&"uc"==a.fr?56-r[s].from_user_nickname.length:0,c={t2_from_user_nickname:r[s].from_user_nickname,t2_count:t.count,t2_pid:r[s].pid,t2_title:i.cut(r[s].title,p,"..."),t2_nid:r[s].nid};e.push(n.string.format(a.template,c))}break;case 3:for(var p=a.fr&&"uc"==a.fr?60:18,s=0;o>s;s++){var c={t3_title:i.cut(r[s].title,p,"..."),t3_nid:r[s].nid};e.push(n.string.format(a.template,c))}break;case 4:var c={t4_count:t.count};e.push(n.string.format(a.template,c));break;case 5:var c={t5_count:t.count};e.push(n.string.format(a.template,c));break;case 6:for(var s=0;o>s;s++){var c={t6_link_content:i.cut(r[s].link_content,8),t6_to_page_link:r[s].to_page_link,t6_msg_content:i.cut(r[s].msg_content,36,"..."),t6_nid:r[s].nid,t6_page_content:r[s].page_content};e.push(n.string.format(a.template,c))}break;case 7:var l=1==t.content?"达人":"名人",c={t7_name:l};e.push(n.string.format(a.template,c));break;case 8:for(var p=a.fr&&"uc"==a.fr?60:20,s=0;o>s;s++){var c={t8_title:i.cut(r[s].title,p,"..."),t8_count:t.count,t8_nid:r[s].nid};e.push(n.string.format(a.template,c))}break;case 9:for(var p=a.fr&&"uc"==a.fr?60:15,s=0;o>s;s++){var d=i.cut(r[s].title,p,"...");d=/(\.){3}$/.test(d)?d:d+" ";var c={t9_title:d,t9_count:r[s].msg_cnt,t9_tid:r[s].tid,t9_tpid:r[s].tpid,t9_index:r[s].index};e.push(n.string.format(a.template,c))}break;case 10:for(var p=a.fr&&"uc"==a.fr?60:12,s=0;o>s;s++){var d=i.cut(r[s].title,p,"...");d=/(\.){3}$/.test(d)?d:d+" ";var c={t10_title:d,t10_count:r[s].msg_cnt,t10_tid:r[s].tid,t10_tpid:r[s].tpid,t10_index:r[s].index};e.push(n.string.format(a.template,c))}break;case 11:for(var p=a.fr&&"uc"==a.fr?60:20,s=0;o>s;s++){var c={t11_title:i.cut(r[s].title,p,"..."),t11_count:r[s].msg_cnt,t11_trid:r[s].trid};e.push(n.string.format(a.template,c))}break;case 12:for(var p=60,s=0;o>s;s++){var c={t12_title:i.cut(r[s].title,p,"..."),t12_trid:r[s].trid,t12_from_user_nickname:r[s].rname};e.push(n.string.format(a.template,c))}break;case 13:var c={t13_count:t.content};e.push(n.string.format(a.template,c));break;case 14:for(var s=0;o>s;s++){var c={t14_user_nickname:r[s].nickname,t14_user_uid:r[s].uid};e.push(n.string.format(a.template,c))}break;case 15:for(var p=a.fr&&"uc"==a.fr?60:20,s=0;o>s;s++){var c={t15_title:i.cut(r[s].title,p,"..."),t15_count:t.count,t15_nid:r[s].nid};e.push(n.string.format(a.template,c))}break;case 16:for(var p=20,s=0;o>s;s++){var c={t16_title:i.cut(r[s].title,p,"..."),t16_count:t.count,t16_sid:r[s].sid,t16_surl:r[s].surl,t16_uid:r[s].uid};e.push(n.string.format(a.template,c))}break;case 17:case 18:t.content&&e.push(n.string.format(a.template,{}));break;case 19:var _="",o=t.content.rid.length;o>0&&(_="?rid="+t.content.rid.join("_"));var c={t19_count:t.count,t19_url:"/event/s/letusgo-7/index.html#ok",t19_params:_};e.push(n.string.format(a.template,c));break;case 20:for(var u,p=a.fr&&"uc"==a.fr?60:18,s=0;o>s;s++){var c={t1_title:i.cut(r[s].title,p,"..."),t1_picid:r[s].puid,t1_pid:r[s].reply_id,t1_cnt:r[s].msg_cnt};u=1==r[s].is_author?n.string.format(a.template,c):n.string.format(a.template2,c),e.push(u)}break;case 21:for(var u,p=a.fr&&"uc"==a.fr?60:18,s=0;o>s;s++){var c={t1_title:i.cut(r[s].title,p,"..."),t1_ptid:r[s].ptid,t1_pid:r[s].reply_id,t1_cnt:r[s].msg_cnt};u=1==r[s].is_author?n.string.format(a.template,c):n.string.format(a.template2,c),e.push(u)}break;case 22:for(var u,p=a.fr&&"uc"==a.fr?60:18,s=0;o>s;s++){var c={t1_title:i.cut(r[s].title,p,"..."),t1_ptid:r[s].ptid};u=n.string.format(a.template,c),e.push(u)}}}return e.join("")},getRenderMsg:function(){var a=t("user");return[{type:6,formatFunc:function(t){var a="",e='<li data-event="{nid:\'#{t6_nid}\'}" data-type="{index:6}"><span class="icon icon-solid-point">#{t6_msg_content}</span>，<a href="#{t6_to_page_link}" target="_blank">#{t6_link_content}</a></li>';return a=r.formatMsg(t,{type:6,template:e})}},{type:7,formatFunc:function(t){var e="",n=['<li data-type="{index:7}"><span class="icon icon-solid-point">恭喜你成为旅游#{t7_name}</span>，<a href="/user/',a.uid,'" target="_blank">查看</a></li>'].join("");return e=r.formatMsg(t,{type:7,template:n})}},{type:3,formatFunc:function(t){var a="",e='<li data-event="{nid:\'#{t3_nid}\'}" data-type="{index:3}"><span class="icon icon-solid-point">游记</span>《<a href="/notes/#{t3_nid}" target="_blank">#{t3_title}</a>》被评为了精华，<a href="/notes/#{t3_nid}" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:3,template:e})}},{type:8,formatFunc:function(t){var a="",e='<li data-event="{nid:\'#{t8_nid}\'}" data-type="{index:8}"><span class="icon icon-solid-point">游记</span>《<a href="/notes/#{t8_nid}" target="_blank">#{t8_title}</a>》被评为了优质，<a href="/notes/#{t8_nid}" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:8,template:e})}},{type:15,formatFunc:function(t){var a="",e='<li data-event="{nid:\'#{t15_nid}\'}" data-type="{index:15}"><span class="icon icon-solid-point">游记</span>《<a href="/notes/#{t15_nid}" target="_blank">#{t15_title}</a>》被评为了实用，<a href="/notes/#{t15_nid}" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:15,template:e})}},{type:9,formatFunc:function(t){var a="",e=['<li data-event="{tid:\'#{t9_tid}\',tpid:\'#{t9_tpid}\'}" data-type="{index:9}"><span class="icon icon-solid-point">微游记</span>《<a href="/travel/#{t9_tid}?tpid=#{t9_tpid}#frmsg" target="_blank">#{t9_title}第#{t9_index}条</a>》收到#{t9_count}条回复，<a href="/travel/#{t9_tid}?tpid=#{t9_tpid}#frmsg" target="_blank">查看</a></li>'].join("");return a=r.formatMsg(t,{type:9,template:e})}},{type:10,formatFunc:function(t){var a="",e=['<li data-event="{tid:\'#{t10_tid}\',tpid:\'#{t10_tpid}\'}" data-type="{index:10}"><span class="icon icon-solid-point">您在</span>《<a href="/travel/#{t10_tid}?tpid=#{t10_tpid}#frmsg" target="_blank">#{t10_title}第#{t10_index}条</a>》的留言收到#{t10_count}条回复，<a href="/travel/#{t10_tid}?tpid=#{t10_tpid}#frmsg" target="_blank">查看</a></li>'].join("");return a=r.formatMsg(t,{type:10,template:e})}},{type:1,formatFunc:function(t){var a="",e='<li data-event="{pid:\'#{t1_pid}\',nid:\'#{t1_nid}\'}" data-type="{index:1}"><span class="icon icon-solid-point">游记</span>《<a href="/notes/anchorpost?pid=#{t1_pid}" target="_blank">#{t1_title}</a>》有#{t1_count}条新回复，<a href="/notes/anchorpost?pid=#{t1_pid}" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:1,template:e})}},{type:2,formatFunc:function(t){var a="",e='<li data-event="{pid:\'#{t2_pid}\',nid:\'#{t2_nid}\'}" data-type="{index:2}"><span class="icon icon-solid-point">#{t2_from_user_nickname} 回复了你的留言</span>，<a href="/notes/anchorpost?pid=#{t2_pid}" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:2,template:e})}},{type:11,formatFunc:function(t){var a="",e=['<li data-event="{trid:\'#{t11_trid}\'}" data-type="{index:11}"><span class="icon icon-solid-point">《</span><a href="/footprint/trip/view/#{t11_trid}#commentboard" target="_blank">#{t11_title}</a>》有#{t11_count}条新留言，<a href="/footprint/trip/view/#{t11_trid}#commentboard" target="_blank">查看</a></li>'].join("");return a=r.formatMsg(t,{type:11,template:e})}},{type:12,formatFunc:function(t){var a="",e=['<li data-event="{trid:\'#{t12_trid}\'}" data-type="{index:12}"><span class="icon icon-solid-point">#{t12_from_user_nickname} 回复了你的留言</span>，<a href="/footprint/trip/view/#{t12_trid}#commentboard" target="_blank">查看</a></li>'].join("");return a=r.formatMsg(t,{type:12,template:e})}},{type:4,formatFunc:function(t){var e="",n=['<li data-type="{index:4}"><span class="icon icon-solid-point"><em>#{t4_count}</em></span>个新粉丝，<a href="/user/fans/',a.uid,'" target="_blank">查看</a></li>'].join("");return e=r.formatMsg(t,{type:4,template:n})}},{type:5,formatFunc:function(t){var e="",n=['<li data-type="{index:5}"><span class="icon icon-solid-point"><em>#{t5_count}</em></span>条版主留言，<a href="/user/ownermsg/',a.uid,'" target="_blank">查看</a></li>'].join("");return e=r.formatMsg(t,{type:5,template:n})}},{type:13,formatFunc:function(t){var e="",n=['<li data-type="{index:13}"><span class="icon icon-solid-point">你的个人中心收到<em>#{t13_count}</em></span>条新留言，<a href="/user/',a.uid,'#commentboard" target="_blank">查看</a></li>'].join("");return e=r.formatMsg(t,{type:13,template:n})}},{type:14,formatFunc:function(t){var a="",e=['<li data-event="{re_uid:\'#{t14_user_uid}\'}" data-type="{index:14}"><span class="icon icon-solid-point">#{t14_user_nickname}</span>回复了你的留言，<a href="/user/#{t14_user_uid}#commentboard" target="_blank">查看</a></li>'].join("");return a=r.formatMsg(t,{type:14,template:e})}},{type:15,formatFunc:function(){return""}},{type:16,formatFunc:function(t){var a="",e=['<li data-event="{sid:\'#{t16_sid}\'}" data-type="{index:16}"><span class="icon icon-solid-point">您对</span><a  target="_blank" href="/#{t16_surl}/">#{t16_title}</a>的纠错已经被采纳，感谢参与~<a  target="_blank" href="/user/scenedevote/#{t16_uid}">查看</a></li>'].join("");return a=r.formatMsg(t,{type:16,template:e})}},{type:17,formatFunc:function(){var t=['<li data-type="{index:17}"><span class="icon icon-solid-point"></span><span class="icon-smile-face"></span>初初相见，送您“旅历”<span class="score-color">10点</span>以兹鼓励</li>'].join("");return t}},{type:18,formatFunc:function(){var t=['<li data-type="{index:18}"><span class="icon icon-solid-point"></span><span class="icon-smile-face"></span>今天你又闪亮登场了！特赠<span class="score-color">2点</span>旅历，加油哦！</li>'].join("");return t}},{type:19,formatFunc:function(t){var a="",e=['<li data-type="{index:19}"><span class="icon icon-solid-point"></span>我们出发吧活动中你又有#{t19_count}条新留言，<a target="_blank" href="#{t19_url}#{t19_params}">快去看看</a><li>'].join("");return a=r.formatMsg(t,{type:19,template:e})}},{type:20,formatFunc:function(t){var a="",e='<li data-event="{puid:\'#{t1_picid}\',pid:\'#{t1_pid}\'}" data-type="{index:20}"><span class="icon icon-solid-point">画册图片有#{t1_cnt}条新评论，</span><a href="/pictravel/photo/view/#{t1_picid}?reply=1" target="_blank">查看</a></li>',n='<li data-event="{puid:\'#{t1_picid}\',pid:\'#{t1_pid}\'}" data-type="{index:20}"><span class="icon icon-solid-point">你在画册图片的评论有#{t1_cnt}条新回复，</span><a href="/pictravel/photo/view/#{t1_picid}?reply=1" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:20,template:e,template2:n})}},{type:21,formatFunc:function(t){var a="",e='<li data-event="{ptid:\'#{t1_ptid}\',pid:\'#{t1_pid}\'}" data-type="{index:21}"><span class="icon icon-solid-point">画册《</span><a href="/pictravel/#{t1_ptid}?reply=1" target="_blank">#{t1_title}</a>》有#{t1_cnt}条新评论，<a href="/pictravel/#{t1_ptid}?reply=1" target="_blank">查看</a></li>',n='<li data-event="{ptid:\'#{t1_ptid}\',pid:\'#{t1_pid}\'}" data-type="{index:21}"><span class="icon icon-solid-point">你在画册《</span><a href="/pictravel/#{t1_ptid}?reply=1" target="_blank">#{t1_title}</a>》的评论有#{t1_cnt}条新回复，<a href="/pictravel/#{t1_ptid}?reply=1" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:21,template:e,template2:n})}},{type:22,formatFunc:function(t){var a="",e='<li data-event="{ptid:\'#{t1_ptid}\',pid:\'#{t1_pid}\'}" data-type="{index:22}"><span class="icon icon-solid-point">画册《</span><a href="/pictravel/#{t1_ptid}" target="_blank">#{t1_title}</a>》被评为精品，<a href="/pictravel/#{t1_ptid}" target="_blank">查看</a></li>';return a=r.formatMsg(t,{type:22,template:e})}}]}};e.exports=r});
;define("common:widget/ui/pageEvent/pageEvent.js",function(t,n,e){var i=t("common:widget/lib/tangram/base/base.js"),a=i.lang.createSingle({_isReady:!1,_functions:{},fireHidden:function(){return function(t,n,e){i.event.on(document.body,"click",function(a){if(i.lang.isFunction(e)&&e()===!0)return!1;for(var a=a||window.event,o=a.target||a.srcElement;o;){if(o==t)return;o=o.parentNode}n.call(null)})}},ready:function(t){this._isReady?t.call(null):(this._functions["body.ready"]||(this._functions["body.ready"]=[]),this._functions["body.ready"].push(t))},fire:function(t,n,e){t&&(e=t.getAttribute("data-event"),e=i.json.parse(e));var a=this._functions[n];a&&a.length>0&&i.array.each(a,function(t){t.call(null,{type:n},e)}),t=null},fireControl:function(t,n){var e=i.dom.getAncestorBy(t,function(t){return null!=t.getAttribute("data-update-control")&&""!=t.getAttribute("data-update-control")?!0:void 0});if(null==e)return!1;var a=e.getAttribute("data-id"),o=e.getAttribute("data-group"),u=e.getAttribute("data-name"),r=t.getAttribute("data-event")||"{}";r=i.json.parse(r);var s=e.getAttribute("data-update-control")||"{}";if(s=i.json.parse(s),o);else;this.fire(null,n,{DATA:s,eventData:r,name:u,group:o,id:a,status:status})},onOnce:function(t,n){this._functions[t]||(this._functions[t]=[]),this._functions[t].push(n)},on:function(t,n){this._functions[t]||(this._functions[t]=[]),this._functions[t].push(n)},un:function(t,n){this._functions[t]||(this._functions[t]=[]),i.array.remove(this._functions,n)},fireReady:function(){this._isReady=!0;var t=this._functions["body.ready"];t&&t.length>0&&i.array.each(t,function(t){t.call(null)})}});e.exports=a});
;define("common:widget/ui/msgpopup/msgpopup.js",function(o,e,n){var t=o("common:widget/lib/tangram/base/base.js"),i=o("common:widget/lib/tangram/ui/Popup/Popup.js");o("common:widget/lib/tangram/ui/Popup/Popup_coverable/Popup_coverable.js");var a=o("common:widget/ui/pageEvent/pageEvent.js"),r=function(o){var e,n={};return function(r,p){if(r){var s=r,c={id:"J_lv-ui-msg-popup",classPrefix:"lv-msg-popup",contentText:"",left:0,top:30,width:280,height:"auto",arrow:20,arrowPosition:"left",hasclose:!1,autoopen:!0,autoclose:!0,onclose:function(){},oncloseown:function(){}};o.object.extend(c,p);var l=t.dom.getPosition(s);if(c.left=l.left+c.left,c.top=l.top+c.top,""!==c.id&&n[c.id])return e=n[c.id],e.update(c),c.arrow?t.dom.query(".arrow",e.getMain())[0].style[c.arrowPosition]=c.arrow+"px":t.q("arrow",e.getMain())[0]&&t.hide(t.q("arrow",e.getMain())[0]),c.autoopen&&e.open(),n[c.id];if(e=n[c.id]=new i(c),e.render(),c.arrow){var u=document.createElement("div");u.className="arrow",u.style[c.arrowPosition]=c.arrow+"px",u.innerHTML='<span class="cover1"></span><span class="cover2"></span>',e.getMain().appendChild(u)}if(c.hasclose){var d=document.createElement("div");d.className="icon icon-new-tip-close close",e.getMain().appendChild(d),d.onclick=function(){n[c.id].close(),c.oncloseown.call(null)}}return c.autoopen&&e.open(),c.autoclose&&a.fireHidden(e.getMain(),function(){n[c.id].close()},function(){return!n[c.id].isShown()}),e}}}(t);n.exports=r});
;define("common:widget/ui/msg/msg.js",function(t,s,o){var e=t("common:widget/lib/tangram/base/base.js"),n=t("common:widget/ui/subcookie/subcookie.js"),a=t("common:widget/ui/lite/lite.js"),i=(t("user"),t("common:widget/ui/errno/errno.js"),t("common:widget/ui/msgpopup/msgpopup.js")),r=t("common:widget/ui/nslog/nslog.js"),c=e.lang.createSingle({ID_wrapper:"J_lv-msg-content-wrapper",ID_content:"J_lv-msg-content-wrapper-ul",ID_broadcasts:"J_lv-msg-broadcasts-ul",_onShow:!1,msgCount:0,url:"/user/ajax/message/getmsg",pop:null,timer:6e4,_msgList:[],_broadcast:[],anchor:e.dom.q("lv-msg-center")[0],usercenter:e.dom.g("J_nav-channel-user-center"),eachMsgCount:{comment:0,admin:0,fans:0,broadcasts:0,asks:0},init:function(){var t=this;if(t.anchor){var s;location.href.indexOf("user/message")>0?setTimeout(function(){t._get()},1500):t._get(),setInterval(function(){t._get()},t.timer),6==e.browser.ie?(e.event.on("J_nav-channel-user-msg-drop-menu","mouseout",function(){s=setTimeout(function(){t.msgCount>0&&(t.show(),t._updatePopPosition())},200)}),e.event.on(e.q("menu-list",t.anchor)[0],"mouseover",function(){s&&(clearTimeout(s),s=null),t.hide()}),e.event.on(t.anchor,"mouseover",function(o){e.event.stop(o),t._onShow&&(t.hide(),s&&(clearTimeout(s),s=null))})):(e.event.on(t.anchor,"mouseover",function(s){e.event.stop(s),t._onShow&&t.hide()}),e.event.on(t.anchor,"mouseout",function(s){e.event.stop(s),t.msgCount>0&&(t.show(),t._updatePopPosition())}),e.event.on(t.usercenter,"mouseover",function(s){e.event.stop(s),t._onShow&&t.hide()}),e.event.on(t.usercenter,"mouseout",function(s){e.event.stop(s),t.msgCount>0&&(t.show(),t._updatePopPosition())})),e.event.on(t.anchor,"click",function(s){var o=e.event.getTarget(s),n=o.getAttribute("data-msgtype");n&&e.dom.hasClass(o,"has-unread")&&t._setRead(n)}),t._onViewResize=function(){t._updatePosition()},window.localStorage&&e.event.on(window,"storage",e.fn.bind(t._onmessage,t))}},_onmessage:function(t){var s=this;if("msgData"==t.key){var o=e.json.parse(t.newValue);s.msgCount=o.msgCount,s._msgList=o.msgList,s._broadcast=o.broadcast,s.update()}},_get:function(){var t=this;e.ajax.get(this.url+"?format=ajax&t="+(new Date).getTime(),function(s,o){var n=e.json.parse(o);0==n.errno&&(t._dataFormat(n),t.update())})},_dataFormat:function(s){var o=this,a=s.data,i=location.href;if(o.msgCount=s.data.total,o._msgList=[],o._msgList.push({count:parseInt(a.comments_count,10),type:"comment",popText:"条新评论",topbarText:"评论我的",url:"/user/message?type=1",nslog:"{'type':104,'cmd':'click','pos':'msg-comment-click'}"}),o.eachMsgCount.comment!=a.comments_count&&r.nslog(i,104,{pos:"msg-comment-show"}),o.eachMsgCount.comment=parseInt(a.comments_count,10),o._msgList.push({count:parseInt(a.admin_operations_count),type:"admin",popText:"条版主留言",topbarText:"版主留言",url:"/user/message?type=2",nslog:"{'type':104,'cmd':'click','pos':'msg-admin-click'}"}),o.eachMsgCount.admin!=a.admin_operations_count&&r.nslog(i,104,{pos:"msg-admin-show"}),o.eachMsgCount.admin=parseInt(a.admin_operations_count,10),o._msgList.push({count:parseInt(a.fans_count),type:"fans",popText:"个新粉丝",topbarText:"我的粉丝",url:"/user/fans/"+t("user").uid,nslog:"{'type':104,'cmd':'click','pos':'msg-fans-click'}"}),o.eachMsgCount.fans!=a.fans_count&&r.nslog(i,104,{pos:"msg-fans-show"}),o.eachMsgCount.fans=parseInt(a.fans_count,10),o._msgList.push({count:parseInt(a.asks_count),type:"asks",popText:"个新回答",topbarText:"我的提问",url:"/user/ask/"+t("user").uid,nslog:"{'type':104,'cmd':'click','pos':'msg-asks-click'}"}),o.eachMsgCount.asks!=a.asks_count&&r.nslog(i,104,{pos:"msg-asks-show"}),o.eachMsgCount.asks=parseInt(a.asks_count,10),o._msgList.push({count:parseInt(a.flower_count),type:"flower",popText:"朵新红花",topbarText:"我的红花",url:"/user/planask/flower/",nslog:"{'type':104,'cmd':'click','pos':'msg-flower-click'}"}),o.eachMsgCount.flower!=a.flower_count&&r.nslog(i,104,{pos:"msg-flower-show"}),o.eachMsgCount.flower=parseInt(a.flower_count,10),o._broadcast=[],a.broadcasts.length>0&&e.array.each(a.broadcasts,function(t){n.get("broadcast",t.bid)?o.msgCount--:o._broadcast.push(t)}),o.eachMsgCount.broadcasts!=a.broadcasts.length&&r.nslog(i,104,{pos:"msg-broadcasts-show"}),o.eachMsgCount.broadcasts=a.broadcasts.length,window.localStorage){var c={msgCount:o.msgCount,msgList:o._msgList,broadcast:o._broadcast};localStorage.setItem("msgData",e.json.stringify(c))}},update:function(){this._renderTopBar(),this._renderPop(),this.bindPopScroll()},bindPopScroll:function(){var t=this,s=t.pop.Coverable_container;6==e.browser.ie?e.event.on(window,"scroll",function(){var t=e.page.getScrollTop();s.style.top=44>t?44-t+"px":t+"px"}):(s.style.position="fixed",e.event.on(window,"scroll",function(){var t=e.page.getScrollTop();s.style.top=44>t?44-t+"px":"0px"}))},_renderTopBar:function(){var t=this;e.dom.g("J_user-bar-lv-msg-count").innerHTML=this.msgCount>0?'<span class="top-bar-tip"><em>'+this.msgCount+"</em></span>":"",e.array.each(t._msgList,function(t){var s=e.q(t.type,this.anchor)[0];s&&(t.count>0?(s.innerHTML="<em>"+t.count+"</em>"+t.popText,e.dom.addClass(s,"has-unread")):(s.innerHTML=t.topbarText,e.dom.hasClass(s,"has-unread")&&e.dom.removeClass(s,"has-unread")))})},_renderPop:function(){{var t=this,s=[],o=[];this._msgList}if(t._createPop(),0===t.msgCount)return void t.hide();t.show(),e.array.each(t._msgList,function(t){t.count>0&&s.push('<li><span><em class="msg-num">'+t.count+"</em>"+t.popText+'，</span><a class="nslog" data-nslog="'+t.nslog+'" target="_blank" data-msgtype="'+t.type+'" href="'+t.url+'">查看</a></li>')});var n=e.dom.g("lv-msg-popup-content");if(t._broadcast.length>0){n&&e.dom.setStyle(n,"width","228px");var i="{'type':104,'cmd':'click','pos':'msg-broadcast-click'}";e.array.each(t._broadcast,function(t){if(t.img_url){var s=['<li class="clearfix broadcast-withimg">','<a target="_blank" class="nslog broad-img" data-nslog="',i,'" data-msgtype="broadcast" href="',t.url,'" data-bid="',t.bid,'"><img src="',e.string.encodeHTML(t.img_url),'" height="80" width="80" data-msgtype="broadcast" data-bid="',t.bid,'" /></a>','<div class="broadcast-withimg-content"><h5>',e.string.encodeHTML(a.cut(t.msg_content,22)),"</h5><p>",e.string.encodeHTML(a.cut(t.full_msg_content,66)),'</p><a target="_blank" class="nslog" data-nslog="',i,'" data-msgtype="broadcast" href="',t.url,'" data-bid="',t.bid,'">',t.link_content,"</a></div>","</li>"].join("");o.push(s)}else o.push('<li class="broadcast-noimg">'+a.cut(t.msg_content,32)+'<a target="_blank" class="nslog" data-nslog="'+i+'" data-msgtype="broadcast" href="'+t.url+'" data-bid="'+t.bid+'">'+t.link_content+"</a></li>")})}else n&&e.dom.setStyle(n,"width","110px");e.g(t.ID_content).innerHTML=s.join(""),e.g(t.ID_broadcasts).innerHTML=o.join(""),e.q("separator",e.g(t.ID_wrapper))[0].style.display=o.length>0&&s.length>0?"block":"none",t._updatePopPosition()},_updatePopPosition:function(){this.pop.Coverable_container.style.left=this.pop.left-this.pop.Coverable_container.offsetWidth+"px"},_setRead:function(t,s){var o=this;if("broadcast"==t||"all"==t){var a=[];e.array.each(o._broadcast,function(i){i.bid==s||"all"==t?(e.ajax.post("/user/ajax/message/readbroadcast","bid="+i.bid),n.set("broadcast"+i.bid,1),o.msgCount-=1):a.push(i)}),o._broadcast=a}if("broadcast"!=t&&e.array.each(o._msgList,function(s){(s.type==t||"all"==t)&&(o.msgCount-=s.count,s.count=0)}),window.localStorage){var i={msgCount:o.msgCount,msgList:o._msgList,broadcast:o._broadcast};localStorage.setItem("msgData",e.json.stringify(i))}o.update()},_saveClose:function(){r.nslog(location.href,104,{pos:"msg-pop-close"}),e.ajax.get("/user/ajax/message/readall"),this._setRead("all")},_createPop:function(){var t=this;if(!e.g(t.ID_content)){var s=['<div class="tip-update clearfix" id="',this.ID_wrapper,'">','<div id="lv-msg-popup-content" class="content">','<ul id="',this.ID_content,'" class="msg">',"</ul>",'<div class="separator"></div>','<ul id="J_lv-msg-broadcasts-ul" class="broadcasts"></ul>',"</div>","</div>"],o={id:"J_lv-ui-msg-pop",left:0,top:34,width:"auto",zIndex:90,arrow:0,contentText:s.join(""),classPrefix:"lv-msg-popup",hasclose:!0,autoclose:!1,autoopen:!1,oncloseown:function(){t._saveClose()}},n=e.q("user-control")[0],a=window.location.href;t.pop=i(n,o),r.nslog(a,104,{pos:"msg-pop-show"}),e.event.on(this.ID_wrapper,"click",function(s){var o=e.event.getTarget(s),n=o.getAttribute("data-msgtype"),a=o.getAttribute("data-bid");n&&t._setRead(n,a)})}},show:function(){this._onShow!==!0&&(this._onShow=!0,this.pop.open())},hide:function(){this._onShow!==!1&&(this._onShow=!1,this.pop.close())}}),u=e.lang.createSingle({init:function(){var t=e.dom.g("J_user-bar-sys-msg-count");t&&this._getSystemMsgCount(t)},_getSystemMsgCount:function(t){var s=this;window.systemMsgCallBack=function(){msgnum&&s._setText(t,"("+msgnum+")")},e.dom.ready(function(){e.sio.callByBrowser("http://msg.baidu.com/ms?ct=18",window.systemMsgCallBack,{charset:"gb2312"})})},_setText:function(t,s){t.innerText=s,t.textContent=s}});o.exports.init=function(){c.init(),u.init()}});
;define("common:widget/ui/msgUnlogin/msgUnlogin.js",function(t,o,a){var s=t("common:widget/lib/tangram/base/base.js"),e=t("common:widget/ui/subcookie/subcookie.js"),n=t("common:widget/ui/lite/lite.js"),i=(t("user"),t("common:widget/ui/errno/errno.js"),t("common:widget/ui/msgpopup/msgpopup.js")),r=(t("common:widget/ui/nslog/nslog.js"),s.lang.createSingle({ID_wrapper:"J_lv-msg-content-wrapper",ID_content:"J_lv-msg-content-wrapper-ul",ID_broadcasts:"J_lv-msg-broadcasts-ul",_onShow:!1,msgCount:0,url:"/user/ajax/message/getmsg",pop:null,timer:6e4,_msgList:[],_broadcast:[],anchor:s.dom.q("lv-msg-center")[0],broadcasts:0,init:function(){var t=this;t._get(),setInterval(function(){t._get()},t.timer),t._onViewResize=function(){t._updatePosition()},window.localStorage&&s.event.on(window,"storage",s.fn.bind(t._onmessage,t))},_onmessage:function(t){var o=this;if("msgData"==t.key){var a=s.json.parse(t.newValue);o.msgCount=a.msgCount,o._msgList=a.msgList,o._broadcast=a.broadcast,o.update()}},_get:function(){var t=this;s.ajax.get(this.url+"?format=ajax&t="+(new Date).getTime(),function(o,a){var e=s.json.parse(a);0==e.errno&&(t._dataFormat(e),t.update())})},_dataFormat:function(t){{var o=this,a=t.data;location.nslog}if(o.msgCount=a.broadcasts.length,o._broadcast=[],a.broadcasts.length>0&&s.array.each(a.broadcasts,function(t){e.get("BDLVYEAR","BC_"+t.bid)?o.msgCount--:o._broadcast.push(t)}),o.broadcasts=a.broadcasts.length,window.localStorage){var n={msgCount:o.msgCount,msgList:o._msgList,broadcast:o._broadcast};localStorage.setItem("msgData",s.json.stringify(n))}},update:function(){this._renderPop(),this.bindPopScroll()},bindPopScroll:function(){var t=this,o=t.pop.Coverable_container;6==s.browser.ie?s.event.on(window,"scroll",function(){var t=s.page.getScrollTop();o.style.top=44>t?44-t+"px":t+"px"}):(o.style.position="fixed",s.event.on(window,"scroll",function(){var t=s.page.getScrollTop();o.style.top=44>t?44-t+"px":"0px"}))},_renderPop:function(){{var t=this,o=[];this._msgList}if(t._createPop(),0===t.msgCount)return void t.hide();t.show();var a=s.dom.g("lv-msg-popup-content");if(t._broadcast.length>0){a&&s.dom.setStyle(a,"width","228px");var e="{'type':104,'cmd':'click','pos':'msg-broadcast-click'}";s.array.each(t._broadcast,function(t){if(t.img_url){var a=['<li class="clearfix broadcast-withimg">','<a target="_blank" class="nslog broad-img" data-nslog="',e,'" data-msgtype="broadcast" href="',t.url,'" data-bid="',t.bid,'"><img src="',s.string.encodeHTML(t.img_url),'" height="80" width="80" data-msgtype="broadcast" data-bid="',t.bid,'" /></a>','<div class="broadcast-withimg-content"><h5>',s.string.encodeHTML(n.cut(t.msg_content,22)),"</h5><p>",s.string.encodeHTML(n.cut(t.full_msg_content,66)),'</p><a target="_blank" class="nslog" data-nslog="',e,'" data-msgtype="broadcast" href="',t.url,'" data-bid="',t.bid,'">',t.link_content,"</a></div>","</li>"].join("");o.push(a)}else o.push("<li>"+n.cut(t.msg_content,32)+'<a target="_blank" class="nslog" data-nslog="'+e+'" data-msgtype="broadcast" href="'+t.url+'" data-bid="'+t.bid+'">'+t.link_content+"</a></li>")})}else a&&s.dom.setStyle(a,"width","110px");s.g(t.ID_broadcasts).innerHTML=o.join(""),t._updatePopPosition()},_updatePopPosition:function(){this.pop.Coverable_container.style.left=this.pop.left-this.pop.Coverable_container.offsetWidth+"px"},_setRead:function(t,o){var a=this,n=[];if(s.array.each(a._broadcast,function(s){s.bid==o||"all"==t?(e.set("BDLVYEAR","BC_"+s.bid,1),a.msgCount-=1):n.push(s)}),a._broadcast=n,window.localStorage){var i={msgCount:a.msgCount,broadcast:a._broadcast};localStorage.setItem("msgData",s.json.stringify(i))}a.update()},_saveClose:function(){s.ajax.get("/user/ajax/message/readall"),this._setRead("all")},_createPop:function(){var t=this;if(!s.g(t.ID_content)){var o=['<div class="tip-update" id="',this.ID_wrapper,'">','<div id="lv-msg-popup-content" class="content">','<ul id="J_lv-msg-broadcasts-ul" class="broadcasts"></ul>',"</div>","</div>"],a={id:"J_lv-ui-msg-pop",left:69,top:34,width:"auto",zIndex:90,arrow:30,arrowPosition:"right",contentText:o.join(""),classPrefix:"lv-msg-popup",hasclose:!0,autoclose:!1,autoopen:!1,oncloseown:function(){t._saveClose()}},e=s.q("user-bar-login-link")[0];t.pop=i(e,a),s.event.on(this.ID_wrapper,"click",function(o){var a=s.event.getTarget(o),e=a.getAttribute("data-msgtype"),n=a.getAttribute("data-bid");e&&t._setRead(e,n)})}},show:function(){this._onShow!==!0&&(this._onShow=!0,this.pop.open())},hide:function(){this._onShow!==!1&&(this._onShow=!1,this.pop.close())}}));a.exports.init=function(){r.init()}});
;define("common:widget/ui/multiInput/multiInput.js",function(e,t,n){function i(e,t){try{if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}catch(i){}}function a(e){try{var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}catch(i){return 0}}var o=e("common:widget/lib/tangram/uiBase/uiBase.js"),r=o.ui.createUI(function(){var e=this;e.addEventListener("onload",function(){o.on(document,"mousedown",e.documentMousedownHandler),o.on(window,"blur",e.windowBlurHandler)}),e.documentMousedownHandler=e._getDocumentMousedownHandler(),e.windowBlurHandler=e._getWindowBlurHandler(),e.enableIndex=[],e.currentIndex=-1}).extend({uiType:"suggestion",onbeforepick:new Function,onpick:new Function,onconfirm:new Function,onhighlight:new Function,onshow:new Function,onhide:new Function,getData:function(){return[]},prependHTML:"",appendHTML:"",currentData:{},tplDOM:"<div id='#{0}' class='#{1}' style='position:relative; top:0px; left:0px'></div>",tplPrependAppend:"<div id='#{0}' class='#{1}'>#{2}</div>",tplBody:"<table cellspacing='0' cellpadding='2'><tbody>#{0}</tbody></table>",tplRow:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>',getString:function(){var e=this;return o.format(e.tplDOM,e.getId(),e.getClass(),e.guid)},render:function(e){var t,n=this;e=o.g(e),!n.getMain()&&e&&(n.targetId=e.id?e.id:e.id=n.getId("input"),t=n.renderMain(),t.style.display="none",t.innerHTML=n.getString(),this.dispatchEvent("onload"))},_isShowing:function(){var e=this,t=e.getMain();return t&&"none"!=t.style.display},pick:function(e,t){var n=this,i=n.currentData,a=i&&"number"==typeof e&&"undefined"!=typeof i[e]?i[e].value:e,o={data:{item:a==e?{value:e,content:e}:i[e],index:e},source:t};n.dispatchEvent("onbeforepick",o)&&n.dispatchEvent("onpick",o)},show:function(e,t,n){var i=0,a=t.length,o=this;if(o.enableIndex=[],o.currentIndex=-1,0!==a||n){for(o.currentData=[];a>i;i++)o.currentData.push("undefined"!=typeof t[i].value?t[i]:{value:t[i],content:t[i]}),("undefined"==typeof t[i].disable||t[i].disable===!1)&&o.enableIndex.push(i);o.getBody().innerHTML=o._getBodyString(),o.getMain().style.display="block",o.dispatchEvent("onshow")}else o.hide()},hide:function(){var e=this;e._isShowing()&&(e.getMain().style.display="none",e.dispatchEvent("onhide"))},highLight:function(e){var t=this,n=t.enableIndex,i=null;return t._isEnable(e)?(t.currentIndex>=0&&t._clearHighLight(),i=t._getItem(e),o.addClass(i,t.getClass("current")),t.currentIndex=o.array.indexOf(n,e),t.dispatchEvent("onhighlight",{index:e,data:t.getDataByIndex(e)}),!0):!1},clearHighLight:function(){var e=this,t=e.currentIndex,n=e.enableIndex[t];e._clearHighLight()&&e.dispatchEvent("onclearhighlight",{index:n,data:e.getDataByIndex(n)})},_clearHighLight:function(){var e=this,t=e.currentIndex,n=e.enableIndex,i=null;return t>=0?(i=e._getItem(n[t]),o.removeClass(i,e.getClass("current")),e.currentIndex=-1,!0):!1},confirm:function(e,t){var n=this;("keyboard"==t||n._isEnable(e))&&(n.pick(e,t),n.dispatchEvent("onconfirm",{data:n.getDataByIndex(e)||e,source:t}),n.currentIndex=-1,n.hide())},getDataByIndex:function(e){return{item:this.currentData[e],index:e}},getTargetValue:function(){return this.getTarget().value},getTarget:function(){return o.g(this.targetId)},_getItem:function(e){return o.g(this.getId("item"+e))},_getBodyString:function(){function e(e){return o.format(t.tplPrependAppend,t.getId(e),t.getClass(e),t[e+"HTML"])}var t=this,n="",i=[],a=t.currentData,r=a.length,s=0;for(n+=e("prepend");r>s;s++)i.push(o.format(t.tplRow,t.getId("item"+s),a[s].content,t.getCallRef()+"._itemOver(event, "+s+")",t.getCallRef()+"._itemOut(event, "+s+")",t.getCallRef()+"._itemDown(event, "+s+")",t.getCallRef()+"._itemClick(event, "+s+")","undefined"==typeof a[s].disable||0==a[s].disable?"":t.getClass("disable")));return n+=o.format(t.tplBody,i.join("")),n+=e("append")},_itemOver:function(e,t){var n=this;o.event.stop(e||window.event),n._isEnable(t)&&n.highLight(t),n.dispatchEvent("onmouseoveritem",{index:t,data:n.getDataByIndex(t)})},_itemOut:function(e,t){var n=this;o.event.stop(e||window.event),n._isEnable(t)&&n.clearHighLight(),n.dispatchEvent("onmouseoutitem",{index:t,data:n.getDataByIndex(t)})},_itemDown:function(e,t){var n=this;o.event.stop(e||window.event),n.dispatchEvent("onmousedownitem",{index:t,data:n.getDataByIndex(t)})},_itemClick:function(e,t){var n=this;o.event.stop(e||window.event),n.dispatchEvent("onitemclick",{index:t,data:n.getDataByIndex(t)}),n._isEnable(t)&&n.confirm(t,"mouse")},_isEnable:function(e){var t=this;return o.array.contains(t.enableIndex,e)},_getDocumentMousedownHandler:function(){var e=this;return function(t){t=t||window.event;var n=t.target||t.srcElement,i=o.ui.get(n);n==e.getTarget()||i&&i.uiType==e.uiType||e.hide()}},_getWindowBlurHandler:function(){var e=this;return function(){e.hide()}},dispose:function(){var e=this;e.dispatchEvent("dispose"),o.un(document,"mousedown",e.documentMousedownHandler),o.un(window,"blur",e.windowBlurHandler),o.dom.remove(e.mainId),o.lang.Class.prototype.dispose.call(this)}});o.extend(r.prototype,{coverable:!0,coverableOptions:{}}),r.register(function(e){e.coverable&&(e.addEventListener("onshow",function(){e.Coverable_show()}),e.addEventListener("onhide",function(){e.Coverable_hide()}))}),r.extend({setData:function(e,t){var n=this;n.show(e,t)}}),r.register(function(e){e.addEventListener("onneeddata",function(t,n){e.getData(n)})}),r.extend({posable:!0,fixWidth:!0,getWindowResizeHandler:function(){var e=this;return function(){e.adjustPosition(!0)}},adjustPosition:function(e){var t,n,i=this,a=i.getTarget(),r=i.getMain();return!i._isShowing()&&e?!1:(t=o.dom.getPosition(a),n={top:t.top+a.offsetHeight-1,left:t.left,width:a.offsetWidth},n="function"==typeof i.view?i.view(n):n,i.setPosition([n.left,n.top],null,{once:!0}),void o.dom.setOuterWidth(r,n.width))}}),r.register(function(e){e.windowResizeHandler=e.getWindowResizeHandler(),e.addEventListener("onload",function(){e.adjustPosition(),e.fixWidth&&(e.fixWidthTimer=setInterval(function(){var t=e.getMain(),n=e.getTarget();0!=t.offsetWidth&&n&&n.offsetWidth!=t.offsetWidth&&(e.adjustPosition(),t.style.display="block")},100)),o.on(window,"resize",e.windowResizeHandler)}),e.addEventListener("onshow",function(){e.adjustPosition()}),e.addEventListener("ondispose",function(){o.un(window,"resize",e.windowResizeHandler),clearInterval(e.fixWidthTimer)})}),r.register(function(e){var t,n,i,a="",r=!1,s=!1;e.addEventListener("onload",function(){t=this.getTarget(),n=t.value,e.targetKeydownHandler=e.getTargetKeydownHandler(),o.on(t,"keydown",e.targetKeydownHandler),t.setAttribute("autocomplete","off"),e.circleTimer=setInterval(function(){if(!s){null==o.g(t)&&e.dispose();var r=e.getNowValue?e.getNowValue():t.value;r==a&&""!=r&&r!=n&&r!=i?0==e.requestTimer&&(e.requestTimer=setTimeout(function(){e.dispatchEvent("onneeddata",r)},100)):(clearTimeout(e.requestTimer),e.requestTimer=0,""==r&&""!=a&&(i="",e.hide()),a=r,r!=i&&(e.defaultIptValue=r),n!=t.value&&(n=""))}},10),o.on(t,"beforedeactivate",e.beforedeactivateHandler)}),e.addEventListener("onitemclick",function(){s=!1,e.defaultIptValue=a=e.isMultiSelect?e.getNowValue():e.getTargetValue()}),e.addEventListener("onpick",function(n){r&&t.blur(),e.isMultiSelect!==!0?t.value=i=n.data.item.value:i=n.data.item.value,r&&t.focus()}),e.addEventListener("onmousedownitem",function(){r=!0,s=!0,setTimeout(function(){s=!1,r=!1},500)}),e.addEventListener("ondispose",function(){o.un(t,"keydown",e.targetKeydownHandler),o.un(t,"beforedeactivate",e.beforedeactivateHandler),clearInterval(e.circleTimer)})}),r.extend({beforedeactivateHandler:function(){return function(){mousedownView&&(window.event.cancelBubble=!0,window.event.returnValue=!1)}},getTargetKeydownHandler:function(){function e(e){if(!t._isShowing()){var n=t.isMultiSelect?t.getNowValue():t.getTargetValue();return void t.dispatchEvent("onneeddata",n)}var i=t.enableIndex,a=t.currentIndex;if(0!=i.length){if(e)switch(a){case-1:a=i.length-1,t.pick(i[a]),t.highLight(i[a]);break;case 0:a=-1,t.pick(t.defaultIptValue),t.clearHighLight();break;default:a--,t.pick(i[a]),t.highLight(i[a])}else switch(a){case-1:a=0,t.pick(i[a]),t.highLight(i[a]);break;case i.length-1:a=-1,t.pick(t.defaultIptValue),t.clearHighLight();break;default:a++,t.pick(i[a]),t.highLight(i[a])}t.currentIndex=a}}var t=this;return function(n){var i=!1;switch(n=n||window.event,n.keyCode){case 9:case 27:t.hide();break;case 13:o.event.stop(n),t.confirm(-1==t.currentIndex?t.getTarget().value:t.enableIndex[t.currentIndex],"keyboard");break;case 38:i=!0;case 40:o.event.stop(n),e(i);break;default:t.currentIndex=-1}}},defaultIptValue:""});var s=/,|，|>|;|；|-|。|:|、/g,u=function(e,t){t||(t=a(e));var n=e.value.substring(0,t).match(s);return n?n.length:0},d=function(e){var t=u(e),n=e.value;return n.split(s)[t]},l=function(e,t,n){var i=u(e,n),a=e.value,o=a.split(s);return o.splice(i,1,t),e.value=o.join("，"),i},c=0,g=o.lang.createClass(function(e,t){this._input=e,c++,this._guid=c,this._data={},this._sugData=[],this.init(),o.extend(this,t)}).extend({getId:function(){return this._guid},init:function(){this._bindSuggestion(),this._blurPatch(),this.beginCycle()},beginCycle:function(){var e=this;o.event.on(this._input,"keyup",function(){e._pos=a(this)}),o.event.on(this._input,"keydown",function(t){function n(){o.array.each(e._sugData,function(t){if(t.name==i){var n={sname:i,sid:t.sid,map_x:t.x||0,map_y:t.y||0,fid:t.fid,surl:t.surl};e.updateData(i,n)}})}var i=d(e._input),a=t.keyCode;switch(a){case 188:case 190:case 229:n()}}),o.event.on(this._input,"click",function(){e._pos=a(this)})},_bindSuggestion:function(){{var e,t,n,a=this,u=o.dom.create("iframe",{style:"display:block; position:absolute;top:0; left:0;z-index:-1;filter:mask();width:1000px;height:2000px;border: none;"}),c=this._input.value.split(s);c.length>0?c[c.length-1]:""}a.suggest=new r({getNowValue:function(){function i(e){return"undefined"==typeof e}var o;return document.activeElement==a._input&&("undefined"!=typeof e&&e==a._input.value&&n==a._pos&&(o=t),i(o)&&(o=d(a._input)||"",t=o),e=a._input.value,n=a._pos),o||""},isMultiSelect:!0,getData:function(){var e=d(a._input),t=/[a-zA-Z]/;1==e.length&&t.test(e)||(a.sugType&&"small"==a.sugType?o.sio.callByServer("http://nssug.baidu.com/su?wd="+encodeURIComponent(e)+"&pre=sug"+a._guid+"&cb=sug"+a._guid+"&ie=utf-8&prod=lvyou_subscene"):o.ajax.get("/destination/ajax/sug?wd="+encodeURIComponent(e)+"&prod=lvyou_new&su_num=20",function(e,t){var n=o.json.parse(t);if(n&&0==n.errno){var i=n.data&&n.data.sug;o.lang.isString(i)&&(i=o.json.parse(i)),window["sug"+a._guid](i||{})}}))},onhide:function(e){var t=e.target.defaultIptValue,n=e.target.currentData;o.array.each(n,function(e){return e.name==t?(e.sname=e.name,a._data[e.name]=e,!1):void 0})},onpick:function(e){var t=e.data,n=e.source;if(t=a._sugData[t.index]){var r=t.name;-1!=r.indexOf("___")&&(r=r.slice(0,r.length-3));var u,d=!1;u=o.browser.ie&&"mouse"==n?l(a._input,r,a._pos):l(a._input,r),n&&(s.test(a._input.value[a._input.value.length-1])||(a._input.value+="，",d=!d));var c=a._input.value,g=c.split(s),h=g.slice(0,u+1).join("，").length;d&&h++;var f={sname:r,sid:t.sid,map_x:t.x||0,map_y:t.y||0,fid:t.fid,surl:t.surl};a.updateData(r,f),i(a._input,h)}}}),a.suggest.render(a._input),a.suggest.getBody().parentNode.appendChild(u),window["sug"+a._guid]=function(e){a._sugData=new Array;var t=e.s,n=new Array;if(!a.sugType){for(var i=[],r=[],s=0;s<t.length;s++){var u=t[s].indexOf("}");-1==t[s].indexOf("__1")?i.push(t[s].slice(u+3)):r.push(t[s].slice(u+6))}t=i.concat(r)}if(a.base=t,o.array.each(t,function(e){var t="",i="";if(a.sugType&&"small"==a.sugType){var o=e.split("{#S+_}");items=o[1].split("$$"),snames=o[0].split("$$"),t=snames[0]+" ("+snames[1]+")",n.push({content:t,value:i}),a._sugData.push({name:snames[0],sid:items[0],fid:items[1],x:items[2],y:items[3]})}else{var r="";e=e.split("$$");var i=e[0],s=e[2],u=e[9]||"",d=e[1].split(","),l=d.length;r='<span class="parent-sug">'+d[l-1]+"</span>"+e[0];{var s=e[2],c=parseFloat(e[5],10),g=parseFloat(e[6],10);parseInt(e[7],10)}n.push({content:r,value:i,sid:s,name:i,sid:s,x:c,y:g,surl:u})}}),n=o.array.unique(n),n.length>10&&(n=n.slice(0,10)),n.length>1)for(var d=0;d<n.length-1;d++)for(var l=d+1;l<n.length;l++)if(n[d].sid==n[l].sid){if(-1==n[l].value.indexOf("___")){var c;c=n[d],n[d]=n[l],n[l]=c}n.splice(l,1),l--}for(var g=0;g<n.length;g++)-1!=n[g].value.indexOf("___")&&(n[g].content=n[g].content.slice(0,n[g].content.length-3),n[g].value=n[g].value.slice(0,n[g].value.length-3)),a._sugData.push({name:n[g].value,sid:n[g].sid,x:n[g].mapx,y:n[g].mapy,fid:null,surl:n[g].surl});0!==n.length?a.suggest.setData(e.q,n,!0):a.suggest.show(e.q,"",!0)}},_blurPatch:function(){var e=this;o.event.on(this._input,"blur",function(){var t=this.value,n=t.split(s),i={};o.array.each(n,function(t){i[t]=e.getDataBySname(t)}),e._data=i})},setData:function(e){var t=this,n=[];o.array.each(e,function(e){n.push(e.sname),t._data[e.sname]=e}),this._input.value=n.join("，")},getDataBySname:function(e){return this._data[e]||{sid:0,sname:e,map_x:0,map_y:0,fid:null,surl:""}},updateData:function(e,t){this._data[e]=t},getTarget:function(){return this._input},save:function(){var e=[];for(var t in this._data)this._data.hasOwnProperty(t)&&""!=t&&e.push(this._data[t]);return e},dispose:function(){this.suggest.dispose()}});n.exports=g});
;define("common:widget/ui/ownerGuide/ownerGuide.js",function(e,t,n){var i=e("common:widget/lib/tangram/base/base.js"),a=e("common:widget/ui/dialog/dialog.js"),o=e("common:widget/ui/lite/lite.js"),s=i.lang.createClass(function(e){this.init(e),window.img_upload=this.img_upload=new c}).extend({init:function(e){this.content=e.content,this.msgType=e.msgType,this.preCall=e.preCall,this.extraContent=e.extraContent,this.uid=e.uid,i.object.extend(this,e),this.contentList=[];var t=this.create();if(t){var n=this;i.event.on(i.g("J-uploadimg-btn"),"click",i.fn.bind(n.photoUpload,n)),i.event.on(i.g("J-msgsend-btn"),"click",i.fn.bind(n.msgSend,n)),i.event.on(i.g("J-msgperview-btn"),"click",i.fn.bind(n.msgperview,n)),i.event.on(i.g("J_msg-contentlist"),"click",i.fn.bind(n.contentChange,n))}},create:function(){var e=this,t=[],n=this._getSingleContent();if(n!==!1)return confirm("系统将直接发这条消息，确认？")&&this.msgSend(n),!1;if(i.array.each(e.content,function(n,i){n.content&&(t.push('<li><input type="radio" name="title" '+(i?"":'checked="checked"')+' data-index="'+i+'"/>'+n.title+"</li>"),e.contentList.push(n.content))}),e.tpl=['<ul class="fl" style="width:150px;" id="J_msg-contentlist">',t.join(""),"</ul>",'<div class="fl"><textarea style="width:400px;height:160px;" id="J_content-container" >'+i.string.encodeHTML(e.contentList[0])+"</textarea>",'<form action="/message/upload" method="post" target="ifr-img-upload" name="J-msg-imgupload" id="J-msg-imgupload" class="mb5" enctype="multipart/form-data">','<input type="file" name="picture" value="" />',"</form>",'<input type="button" id="J-uploadimg-btn" contenteditable="false" value="上传照片" />','<div class="msg-upload-imglist">','<ul id="J-msg-imglist"></ul>',"</div>",'<div class="pt10 pb20 clearfix">','<a class="btn m-btn" href="javascript:void(0);" id="J-msgsend-btn"><em>发送</em></a>&#160;&#160;<a class="btn m-btn cancel-btn" href="javascript:void(0);" id="J-msgperview-btn"><em>预览</em></a>',"</div>",'<form action="/user/message/preview" method="post" target="_blank" name="J-msg-preview" id="J-msg-preview">','<input type="hidden" name="pic_list" value="" />','<input type="hidden" name="content" value="" />',"</form>","</div>",'<div id="J_msg-preview"></div>'],this.dialog=a.content(e.tpl.join(""),{height:"auto",width:600}),!i.g("J-ifr-img-upload")){var o=i.dom.create("iframe",{name:"ifr-img-upload",id:"J-ifr-img-upload",className:"hide"});document.body.appendChild(o)}return!0},_getSingleContent:function(){for(var e=0,t="",n=0,a=this.content.length;a>n;n++){var o=this.content[n];""!=i.string.trim(o.content)&&(e++,t=o.content)}return 1>=e?t:!1},photoUpload:function(){var e=i.dom.g("J-msg-imgupload"),t=e.picture.value,n=i.string.trim(t),o=/^.*?\.(jpeg|jpg|gif|png|bmp)$/gi;return 0==n.length?void a.splash("未选择上传文件！",{iconStyle:"alert"}):void(o.test(n)?e.submit():a.splash("上传文件格式不正确!",{iconStyle:"alert"}))},msgperview:function(){},msgSend:function(e){var t=this,n="/user/ajax/message/addadminmsg";this.url&&(n=this.url);var o={content:void 0!=e&&"string"==typeof e?e:i.g("J_content-container").value,pic_list:t.img_upload?t.img_upload.cache_imgInfo:[]};t.extraContent&&i.extend(o,t.extraContent);var s={msg_type:t.msgType,be_operated_uid:t.uid,content:i.json.stringify(o)};for(console.log(s.content);s.content.indexOf("　")>0;)s.content=s.content.replace("　"," ");i.ajax.post(n,i.url.jsonToQuery(s),function(e){var n=i.json.parse(e.responseText);0==n.errno&&(t.dialog&&t.dialog.dispatchEvent("onclose"),a.splash("消息发送成功",{iconStyle:"happy"}),t.callback&&t.callback())})},contentChange:function(e){var t=i.event.getTarget(e);if("INPUT"==t.nodeName){var n=parseInt(t.getAttribute("data-index"),10),a=this;i.g("J_content-container").value=a.contentList[n]}}}),c=i.lang.createClass(function(){}).extend({cache_imgInfo:new Array,upload_success:function(e){var t=i.dom.g("J-msg-imgupload");t.picture.value="",this.cache_imgInfo.length>0?this.cache_imgInfo.push(e):this.cache_imgInfo=[e],this._build_img()},_build_img:function(){var e=i.dom.g("J-msg-imglist");e.innerHTML="";for(var t=this,n=0;n<t.cache_imgInfo.length;n++){var a=document.createElement("li"),s=document.createElement("span");s.className="icon icon-fans",s.innerHTML="<a target='_blank' class='nor' href="+o.getImg(t.cache_imgInfo[n].url)+">"+t.cache_imgInfo[n].name+"</a>&#160;&#160;";var c=document.createElement("a");c.innerHTML="删除",c.href="javascript:void(0);",c.imgdata=t.cache_imgInfo[n].url,i.on(c,"click",function(){t.delImg(this.imgdata),i.dom.remove(this.parentNode)}),a.appendChild(s),a.appendChild(c),e.appendChild(a)}},delImg:function(e){for(var t=F.context("user").bdstoken||0,n=0;n<this.cache_imgInfo.length;n++)e==this.cache_imgInfo[n].url&&(i.array.remove(this.cache_imgInfo,this.cache_imgInfo[n]),i.ajax.post("/message/uploaddelete","pic_url="+e+"&bdstoken="+t,function(){}));this._build_img()}});n.exports={init:function(e){return new s(e)}}});
;define("common:widget/ui/pagination/pagination.js",function(t,e,s){var i=t("common:widget/ui/jquery/jquery.js");!function(t){"use strict";var e=function(t,e){this.init(t,e)},s=null;e.prototype={init:function(e,s){this.$element=t(e);{var i=s&&s.bootstrapMajorVersion?s.bootstrapMajorVersion:t.fn.bootstrapPaginator.defaults.bootstrapMajorVersion;this.$element.attr("id")}if(2===i&&!this.$element.is("div"))throw"in Bootstrap version 2 the pagination must be a div element. Or if you are using Bootstrap pagination 3. Please specify it in bootstrapMajorVersion in the option";if(i>2&&!this.$element.is("ul"))throw"in Bootstrap version 3 the pagination root item must be an ul element.";this.currentPage=1,this.lastPage=1,this.setOptions(s),this.initialized=!0},setOptions:function(e){this.options=t.extend({},this.options||t.fn.bootstrapPaginator.defaults,e),this.totalPages=parseInt(this.options.totalPages,10),this.numberOfPages=parseInt(this.options.numberOfPages,10),e&&"undefined"!=typeof e.currentPage&&this.setCurrentPage(e.currentPage),this.listen(),this.render(),this.initialized||this.lastPage===this.currentPage||this.$element.trigger("page-changed",[this.lastPage,this.currentPage])},listen:function(){this.$element.off("page-clicked"),this.$element.off("page-changed"),"function"==typeof this.options.onPageClicked&&this.$element.bind("page-clicked",this.options.onPageClicked),"function"==typeof this.options.onPageChanged&&this.$element.on("page-changed",this.options.onPageChanged),this.$element.bind("page-clicked",this.onPageClicked)},destroy:function(){this.$element.off("page-clicked"),this.$element.off("page-changed"),this.$element.removeData("bootstrapPaginator"),this.$element.empty()},show:function(t){this.setCurrentPage(t),this.render(),this.lastPage!==this.currentPage&&this.$element.trigger("page-changed",[this.lastPage,this.currentPage])},showNext:function(){var t=this.getPages();t.next&&this.show(t.next)},showPrevious:function(){var t=this.getPages();t.prev&&this.show(t.prev)},showFirst:function(){var t=this.getPages();t.first&&this.show(t.first)},showLast:function(){var t=this.getPages();t.last&&this.show(t.last)},onPageItemClicked:function(t){var e=t.data.type,s=t.data.page;this.$element.trigger("page-clicked",[t,e,s])},onPageClicked:function(e,s,i,a){var n=t(e.currentTarget);switch(i){case"first":n.bootstrapPaginator("showFirst");break;case"prev":n.bootstrapPaginator("showPrevious");break;case"next":n.bootstrapPaginator("showNext");break;case"last":n.bootstrapPaginator("showLast");break;case"page":n.bootstrapPaginator("show",a)}},render:function(){var e=this.getValueFromOption(this.options.containerClass,this.$element),s=this.options.size||"normal",i=this.options.alignment||"left",a=this.getPages(),n=2===this.options.bootstrapMajorVersion?t("<ul></ul>"):this.$element,o=2===this.options.bootstrapMajorVersion?this.getValueFromOption(this.options.listContainerClass,n):null,r=null,h=null,l=null,g=null,p=null,u=0;switch(this.$element.prop("class",""),this.$element.addClass("pagination"),s.toLowerCase()){case"large":case"small":case"mini":this.$element.addClass(t.fn.bootstrapPaginator.sizeArray[this.options.bootstrapMajorVersion][s.toLowerCase()])}if(2===this.options.bootstrapMajorVersion)switch(i.toLowerCase()){case"center":this.$element.addClass("pagination-centered");break;case"right":this.$element.addClass("pagination-right")}for(this.$element.addClass(e),this.$element.empty(),2===this.options.bootstrapMajorVersion&&(this.$element.append(n),n.addClass(o)),this.pageRef=[],a.first&&(r=this.buildPageItem("first",a.first),r&&n.append(r)),a.prev&&(h=this.buildPageItem("prev",a.prev),h&&n.append(h)),u=0;u<a.length;u+=1)p=this.buildPageItem("page",a[u]),p&&n.append(p);a.next&&(l=this.buildPageItem("next",a.next),l&&n.append(l)),a.last&&(g=this.buildPageItem("last",a.last),g&&n.append(g))},buildPageItem:function(e,s){var i=t("<li></li>"),a=t("<a></a>"),n="",o="",r=this.options.itemContainerClass(e,s,this.currentPage),h=this.getValueFromOption(this.options.itemContentClass,e,s,this.currentPage),l=null;switch(e){case"first":if(!this.getValueFromOption(this.options.shouldShowPage,e,s,this.currentPage))return;n=this.options.itemTexts(e,s,this.currentPage),o=this.options.tooltipTitles(e,s,this.currentPage);break;case"last":if(!this.getValueFromOption(this.options.shouldShowPage,e,s,this.currentPage))return;n=this.options.itemTexts(e,s,this.currentPage),o=this.options.tooltipTitles(e,s,this.currentPage);break;case"prev":if(!this.getValueFromOption(this.options.shouldShowPage,e,s,this.currentPage))return;n=this.options.itemTexts(e,s,this.currentPage),o=this.options.tooltipTitles(e,s,this.currentPage);break;case"next":if(!this.getValueFromOption(this.options.shouldShowPage,e,s,this.currentPage))return;n=this.options.itemTexts(e,s,this.currentPage),o=this.options.tooltipTitles(e,s,this.currentPage);break;case"page":if(!this.getValueFromOption(this.options.shouldShowPage,e,s,this.currentPage))return;n=this.options.itemTexts(e,s,this.currentPage),o=this.options.tooltipTitles(e,s,this.currentPage)}return i.addClass(r).append(a),a.addClass(h).html(n).on("click",null,{type:e,page:s},t.proxy(this.onPageItemClicked,this)),this.options.pageUrl&&a.attr("href",this.getValueFromOption(this.options.pageUrl,e,s,this.currentPage)),this.options.useBootstrapTooltip?(l=t.extend({},this.options.bootstrapTooltipOptions,{title:o}),a.tooltip(l)):a.attr("title",o),i},setCurrentPage:function(t){if(t>this.totalPages||1>t)throw"Page out of range";this.lastPage=this.currentPage,this.currentPage=parseInt(t,10)},getPages:function(){var t=this.totalPages,e=this.currentPage%this.numberOfPages===0?(parseInt(this.currentPage/this.numberOfPages,10)-1)*this.numberOfPages+1:parseInt(this.currentPage/this.numberOfPages,10)*this.numberOfPages+1,s=[],i=0,a=0;for(e=1>e?1:e,i=e,a=0;a<this.numberOfPages&&t>=i;i+=1,a+=1)s.push(i);return s.first=1,s.prev=this.currentPage>1?this.currentPage-1:1,s.next=this.currentPage<t?this.currentPage+1:t,s.last=t,s.current=this.currentPage,s.total=t,s.numberOfPages=this.options.numberOfPages,s},getValueFromOption:function(t){var e=null,s=Array.prototype.slice.call(arguments,1);return e="function"==typeof t?t.apply(this,s):t}},s=t.fn.bootstrapPaginator,t.fn.bootstrapPaginator=function(s){var i=arguments,a=null;return t(this).each(function(n,o){var r=t(o),h=r.data("bootstrapPaginator"),l="object"!=typeof s?null:s;if(!h)return h=new e(this,l),r=t(h.$element),void r.data("bootstrapPaginator",h);if("string"==typeof s){if(!h[s])throw"Method "+s+" does not exist";a=h[s].apply(h,Array.prototype.slice.call(i,1))}else a=h.setOptions(s)}),a},t.fn.bootstrapPaginator.sizeArray={2:{large:"pagination-large",small:"pagination-small",mini:"pagination-mini"},3:{large:"pagination-lg",small:"pagination-sm",mini:""}},t.fn.bootstrapPaginator.defaults={containerClass:"",size:"normal",alignment:"left",bootstrapMajorVersion:2,listContainerClass:"",itemContainerClass:function(t,e,s){return e===s?"active":""},itemContentClass:function(){return""},currentPage:1,numberOfPages:5,totalPages:1,pageUrl:function(){return null},onPageClicked:null,onPageChanged:null,useBootstrapTooltip:!1,shouldShowPage:function(t,e,s){var i=!0;switch(t){case"first":i=1!==s;break;case"prev":i=1!==s;break;case"next":i=s!==this.totalPages;break;case"last":i=s!==this.totalPages;break;case"page":i=!0}return i},itemTexts:function(t,e){switch(t){case"first":return"&lt;&lt;";case"prev":return"&lt;";case"next":return"&gt;";case"last":return"&gt;&gt;";case"page":return e}},tooltipTitles:function(t,e,s){switch(t){case"first":return"Go to first page";case"prev":return"Go to previous page";case"next":return"Go to next page";case"last":return"Go to last page";case"page":return e===s?"Current page is "+e:"Go to page "+e}},bootstrapTooltipOptions:{animation:!0,html:!0,placement:"top",selector:!1,title:"",container:!1}},t.fn.bootstrapPaginator.Constructor=e,t.fn.pagination=t.fn.bootstrapPaginator}(i),s.exports=i});
;define("common:widget/ui/rank/rank.js",function(a,s,e){var n=a("common:widget/lib/tangram/base/base.js"),r=a("common:widget/ui/lite/lite.js"),t=function(a,s){this.url=a,this.getList=function(a,e){var t=this.url;n.ajax.get(t,function(t,i){var m=n.json.parse(i),p="",d=m.data.users,u=d.length;if(u>e&&(u=e),!m.errno){p+='<div class="ranktitle">本月点评排行榜</div><ul class="ranklist">';for(var o=0;u>o;o++){p+=3>o?'<li><span class="num top-num">'+(1+o)+"</span>":'<li><span class="num">'+(1+o)+"</span>";var c=r.getUserHead(d[o].avatar_middle,d[o].avatar_source);p+='<span class="u-pic"><a href="/user/'+d[o].uid+'"><img src="'+c+'"></a></span>',p+='<span class=""><span class="uname"><a href="/user/'+d[o].uid+'">'+d[o].uname+"</a></span><br/>",p+=parseInt(d[o].cremark_num)+parseInt(d[o].gremark_num)+'<span class="remarknum">总点评/'+d[o].gremark_num+"靠谱</span>",p+="</span></li>"}a&&(a.innerHTML=p+'</ul><div class="more"><a target="_blank" href="/dianpingbang?fr='+s+'">查看榜单详情>></a></div>')}})},this.render=function(a){if(a){var s=n.dom.create("div",{"class":"rankwrap"});this.getList(s,5),a.appendChild(s)}},this.rankmsg=function(a,s,e,r,t){function i(){m=a+(new Date).getTime(),n.ajax.get(m,function(a,s){var e=n.json.parse(s);e.errno||l(e)})}var m=a+(new Date).getTime(),p=n.dom.create("div",{id:"ranktop"}),d=n.dom.create("div",{"class":"rankwrap"}),u=n.dom.create("div",{id:"rankstat"}),o=n.dom.create("div",{id:"ranktemp"});d.innerHTML=t?"":'<div class="ranktitle">进击吧,度小游们...</div>';var c=this,l=function(a){var s="<ul>";n.array.each(a.data.feed_list,function(a){var e=new Date,n=Math.floor(e.getTime()/1e3)-parseInt(a.create_time);if(n=n>=3600?"1小时前":n>60?Math.floor(n/60)+"分钟前":"刚刚",a.uname||a.uname1&&a.uname2){switch(a.feed_type){case"1":s+='<li><span class="uname"><a href="/user/'+a.uid+'">'+a.uname+"</a></span>",s+=n+'点评了<span class="scene"><a href="/'+a.surl+'">'+a.sname+"</a></span>";break;case"2":s+='<li><span class="uname"><a href="/user/'+a.uid+'">'+a.uname+"</a></span>",s+=n+'回复了<span class="scene"><a href="/'+a.surl+'">'+a.sname+"</a></span>的点评";break;case"3":s+='<li><span class="uname"><a href="/user/'+a.uid1+'">'+a.uname1+"</a></span>",s+=n+'点赞了<span class="uname"><a href="/user/'+a.uid2+'">'+a.uname2+'</a></span>关于<span class="scene"><a href="/'+a.surl+'">'+a.sname+"</a></span>的点评";break;case"4":s+='<li><span class="uname"><a href="/user/'+a.uid+'">'+a.uname+"</a></span>",s+='关于<span class="scene"><a href="/'+a.surl+'">'+a.sname+"</a></span>的点评被评为靠谱";break;case"5":s+='<li><span class="uname"><a href="/user/'+a.uid+'">'+a.uname+"</a></span>",s+=n+"上升了"+a.up_rank+"个名次"}s+="</li>"}}),s+="</ul>",u.innerHTML=s,o.innerHTML=s};n.ajax.get(m,function(a,t){var i=n.json.parse(t);i.errno||(l(i),p.appendChild(u),d.appendChild(p),n.dom.insertAfter(o,u),s.appendChild(d),c.rankmove(u,p,r,e))}),setInterval(i,6e4)},this.rankmove=function(a,s,e,r){function t(){u=setInterval(d,50)}var i=a.offsetHeight,m=r,p=i-e*r+"px";n.dom.setStyle(s,"height",p);var d=function(){s.scrollTop==i?s.scrollTop=0:s.scrollTop++,s.scrollTop%m==0&&0!=s.scrollTop&&(clearInterval(u),setTimeout(t,2e3))},u=setInterval(d,50)},this.rankuserremark=function(a,s,e){var t="/main/event/remark/getmyremark?t="+(new Date).getTime()+"&uid="+s;if(e)var i="本月排名";else var i="本月Ta的排名";var m=n.dom.create("div",{"class":"rankwrap"});n.ajax.get(t,function(s,e){{var t=n.json.parse(e);r.getUserHead(t.data.user.avatar_middle,t.data.user.avatar_source)}if(!t.errno){var p='<div class="remark-userinfo"><span>'+i+'</span><br/><span class="num">NO.'+t.data.remark_info.month_rank+"</span></div>";p+='<div class="user-remarkinfo"><span class="numpart"><span class="num">'+(parseInt(t.data.remark_info.cremark_num)+parseInt(t.data.remark_info.gremark_num))+"</span><br/><span>当月总点评</span></span>",p+='<span class="numpart rightnum"><span class="num">'+parseInt(t.data.remark_info.gremark_num)+"</span><br/><span>当月靠谱点评</span></span></div>",t.data.remark_info.month_next_rank>0&&(p+='<div class="ps1">距离TOP'+t.data.remark_info.month_next_rank+"就差"+t.data.remark_info.month_need_remark_num+"条点评啦!</div>"),m.innerHTML=p,a.appendChild(m)}})},this.rankuser=function(a){var s="/main/event/remark/getmyremark?t="+(new Date).getTime(),e=n.dom.create("div",{"class":"rankwrap"});n.ajax.get(s,function(s,t){var i=n.json.parse(t),m=r.getUserHead(i.data.user.avatar_middle,i.data.user.avatar_source);if(!i.errno){var p='<div class="userinfo"><span><a href="/user/'+i.data.user.uid+'">';p+='<img src="'+m+'"></a></span><span class="uname"><a href="/user/'+i.data.user.uid+'">'+i.data.user.uname+"</a></span></div>",p+='<div class="remarkinfo"><span class="numpart"><span>我的点评数</span><br/><span class="num">'+(parseInt(i.data.remark_info.cremark_num)+parseInt(i.data.remark_info.gremark_num))+"</span></span>",p+='<span class="numpart rightnum"><span>我的点评排名</span><br/><span class="num">NO.'+i.data.remark_info.month_rank+"</span></span></div>",i.data.remark_info.month_next_rank>0&&(p+='<div class="ps1">距离TOP'+i.data.remark_info.month_next_rank+"就差"+i.data.remark_info.month_need_remark_num+"条点评啦!</div>"),p+='<div class="ps2">Tip:多贡献<a id="showMore">靠谱点评</a>可以加速前进哦!</div>';var d='<div class="words" id="showWord"><div class="title"></div>';d+='<div class="each-part"><span class="each-title">问:</span>什么是靠谱点评？靠谱点评牛逼在哪里？</div>',d+='<div class="each-part"><span class="each-title">答:</span><br/>  1）字数在100字以上；2）有当地环境描述；3）有攻略信息，以上3条缺一不可。<br/>优质由度小编严格把关认真评定而出,提交至评定之间有延迟,但最多不超过24小时。靠谱点评比普通点评能获得更多加分。</div>',d+='<div class="each-part"><span class="each-title">靠谱点评示例:</span><br/>“我们是在淡季去的，当时人很少，所以我觉得还不错，第一次见到这么雄伟的石窟，也很震惊。随同去的另一个伙伴，对当时的历史了解很多，边游边讲给我们时，觉得很有意思，活灵活现的感觉。所以，建议大家一是选择淡季人少去（反正都是灰灰的，又不是去看绿色），二是先提前了解或打印些历史再去，或在当时一堆人一起请个导游，收获会更多。”<br/> —— #悬空寺#  by Daisy_OK</div></div>',p+=d,e.innerHTML=p,a.appendChild(e),n.event.on("showMore","mouseover",function(){n.dom.setStyle("showWord","display","block")}),n.event.on("showMore","mouseout",function(){n.dom.hide("showWord")})}})}};e.exports=t});
;define("common:widget/ui/recommend/recommend.js",function(e,n,o){var t=e("common:widget/lib/tangram/base/base.js"),i=e("common:widget/ui/nslog/nslog.js"),s=e("common:widget/ui/dialog/dialog.js"),r=e("common:widget/ui/inputprompt/inputprompt.js"),m=e("common:widget/ui/login/login.js"),d=e("common:widget/ui/errno/errno.js"),a=e("common:widget/ui/share/share.js"),c=e("common:widget/ui/ugc-score/ugc-score.js"),u=t.lang.createClass(function(){}).extend({send:function(n,o,i){var s=this,r=e("user").bdstoken,m={xid:n,type:o,bdstoken:r};m[2==o||3==o?"recommend_html":"recommend_word"]=i,t.ajax.post("/user/recommend/save?format=ajax",t.url.jsonToQuery(m),function(e){var n=t.json.parse(e.responseText);0===n.errno?s.dispatchEvent("onsuccess",{_type:o}):s.dispatchEvent("onerror",n)})}});o.exports.Core=u;var p=t.lang.createClass(function(e,n){this._data={},t.extend(this._data,{uid:e.recommendUid,title:e.recommendTitle,isSelf:e.isSelf,moduleName:e.moduleName,nickname:e.recommendNickname}),this.bundleInfoTest,t.extend(this,n)}).extend({render:function(){var n=this,o={titleText:"推荐",width:450,height:215,onaccept:function(o){var s=t.g("J_pop_recommend_word"),m=s.value,d=!1;if(r.isEmpty(s)?m="":d=!0,t.string.getByteLength(m)>280)t.show("J_pop_recommend_error_msg"),o.returnValue=!1;else{m=n.wordWrap(m,n),n.dispatchEvent("onpost",{word:m});var c=t.g("J_pop_send_to_sns").checked;if(c){var u=(e("user").bdstoken,e("notes"));if(u){u.nid}var p=new a.shareComponent("sina"),l=t.object.clone(e("share"));d&&n.shareCreate(l,n._data.isSelf,n._data.weibo,m),p.init(l),p.exec()}}i.nslog(location.href,202,{cmd:"click",pos:"notes-recommend-confirm"})},oncancel:function(){i.nslog(location.href,202,{cmd:"click",pos:"notes-recommend-cancel"})},onopen:function(){t.event.on(t.dom.query(".tangram-dialog-close")[0],"mousedown",function(){i.nslog(location.href,202,{cmd:"click",pos:"notes-recommend-close"})})},onclose:function(){t.event.un(t.dom.query(".tangram-dialog-close")[0],"mousedown")}},m=['<div class="lv-dialog-recommend">','<p class="recommend-alert-box-tit">推荐',"<em>#{nickname}</em>的#{moduleName}</p>",'<h3 class="recommend-tit">',"#{title}","</h3>",'<textarea rows="5" cols="34" id="J_pop_recommend_word" class="my-recommend-textarea prompt-default"></textarea>','<div class="my-recommend-error-tips" id="J_pop_recommend_error_msg" style="display:none;">推荐语不要超过140字</div>','<p id="J_pop_recommend_share" style="display:none">','<label for="J_pop_send_to_sns"><input class="recommend-alert-checkbox" type="checkbox" id="J_pop_send_to_sns" /><span class="vm">同时分享到新浪微博</span></label></p>',"</div>"].join("");n._data.title&&(n._data.title=t.string.encodeHTML(n._data.title)),m=t.string.format(m,n._data),s.alert(m,o);var d=t.browser.ie?"propertychange":"input";t.event.on("J_pop_recommend_word",d,function(){t.string.getByteLength(this.value)<280&&t.hide("J_pop_recommend_error_msg")}),this.testBundles();var c="游记"==this._data.moduleName?"推荐理由将同时变成回复(140字)":"推荐理由（140字）";r.create(t.g("J_pop_recommend_word"),c)},testBundles:function(){var n=this,o=e("user");n.getbundles(o.uid,function(e){var o=(e.is_bundle_tsina,t.dom.g("J_pop_recommend_share"));o&&(n.bundleInfoTest(e)?t.dom.hide("J_pop_recommend_share"):t.dom.show("J_pop_recommend_share"))}),n.getbundles(n._data.uid,function(e){var o=e.is_bundle_tsina;1===o&&(n._data.weibo=e.tsina_uname)})},getbundles:function(e,n){t.ajax.get("/user/getbundles?format=ajax&uid="+e+"&t="+(new Date).getTime(),function(e){var o=t.json.parse(e.responseText).data;n(o)})},shareCreate:function(){},wordWrap:function(e){return e}});o.exports.RecommendPop=p;var l=t.lang.createClass(function(e){this.xid,this.type,this.recommendCount,this.isRecommended=!!e.isRecommended,this.pop=!1,this.recommendUid,this.recommendTitle,this.isSelf,this.recommendNickname,t.extend(this,e),this.wordWrap=this.wordWrap||function(e){return e},this.core=new u,l.instances.push(this)}).extend({render:function(e){this._ui=this.uiCreate(this.recommendCount),t.dom.empty(e),e.appendChild(this._ui),this.isRecommended&&this.uiUpdate(),!this.isRecommended&&this.init()},uiCreate:function(e){var n=t.dom.create("span",{className:"common-recommend-btn"}),o=function(){t.addClass(this,"re-hover")},i=function(){t.removeClass(this,"re-hover")};t.on(n,"mouseover",o),t.on(n,"mouseout",i),this.unbind=function(){t.un(n,"mouseover",o),t.un(n,"mouseout",i)};var s=['<span class="common-recommend-btn-l"></span>','<span class="common-recommend-btn-num"><em class="recommend-btn-count">'+(e?e:0)+"</em></span>",'<span class="common-recommend-btn-r"></span>','<span class="common-recommend-btn-hover-tip" style="display:none;">推荐</span>'];return n.innerHTML=s.join(""),n},uiUpdate:function(e,n){var o=this;e=e||this._ui,this.unbind(),t.removeClass(e,"re-hover"),t.dom.addClass(e,"gray-btn");var i=t.dom.query("em.recommend-btn-count",e)[0];i.innerHTML=n||o.recommendCount,e.title="你已经推荐过这篇游记啦"},getHitTarget:function(e){return e},getHoverTips:function(e){var n=t.dom.query("span.common-recommend-btn-hover-tip",e);return n},update:function(){var e=this._ui;this.recommendCount++;var n=this.isRecommended?this.recommendCount:this.recommendCount;this.uiUpdate(e,n);var o=this._ui,i=this.getHoverTips(this._ui);t.lang.isArray(o)?t.array.each(o,function(e,n){t.dom.hide(i[n]),t.event.un(e,"click"),t.event.un(e,"mouseover"),t.event.un(e,"mouseout")}):(t.dom.hide(i[0]),t.event.un(o,"click"),t.event.un(o,"mouseover"),t.event.un(o,"mouseout"))},onError:function(e){d.check(e)},doRecommend:function(){var e=this;if(!e._recommended)if(e.pop){var n=new p({recommendUid:e.recommendUid,recommendTitle:e.recommendTitle,isSelf:e.isSelf,recommendNickname:e.recommendNickname,moduleName:e.moduleName},{wordWrap:e.wordWrap,bundleInfoTest:e.bundleInfoTest});n.addEventListener("onpost",function(n){var o=n.word;e.dispatchEvent("onrecommend",{xid:e.xid,recommendType:e.type,word:o})}),n.render()}else e.dispatchEvent("onrecommend",{xid:e.xid,recommendType:e.type,word:""})},init:function(){var e=this,n=this.getHitTarget(this._ui);if(this.hoverTips=this.getHoverTips(this._ui),n){var o=function(n){var o=window.location.href;i.nslog(o,202,e.nslog),m.check(function(){e.doRecommend()}),t.event.stop(n)},s=function(n){t.dom.show(e.hoverTips[n])},r=function(n){t.dom.hide(e.hoverTips[n])};t.lang.isArray(n)?t.array.each(n,function(e){t.event.on(e,"click",o),t.event.on(e,"mouseover",t.fn.bind(s,this,index)),t.event.on(e,"mouseout",t.fn.bind(r,this,index))}):(t.event.on(n,"click",o),t.event.on(n,"mouseover",t.fn.bind(s,this,0)),t.event.on(n,"mouseout",t.fn.bind(r,this,0)))}this.addEventListener("onrecommend",function(n){var o=n.xid,t=n.recommendType,i=n.word;e.core.send(o,t,i)}),this.core.addEventListener("onsuccess",function(e){l.uiUpdate(n,e._type)}),this.core.addEventListener("onerror",function(){})}});l.instances=[],l.uiUpdate=function(e,n){t.array.each(l.instances,function(e){e.update()});var o=null;switch(parseInt(n,10)){case 1:o="notes_recommend";break;case 2:break;case 3:o="notes_recommend";break;case 6:o="footprint_recommend";break;case 10:o="pictravel_recommend"}o&&c.init("pop",{rurl:o,dom:e})},l.onError=function(){t.array.each(l.instances,function(e){e.onError()})},o.exports.RecommendButton=l});
;define("common:widget/ui/remark-editor/contentValidCheck.js",function(r,n,e){function t(r){var n={errno:0},e=o(r);if(15>e){var t=i(r);if(t>=5)return{errno:1,msg:"标点过多"}}var f=a(r);if(0!=f.errno)return f;if(60>e){var f=u(r);if(0!=f.errno)return f}return n}function i(r){for(var n=0,e=0,t=/[\u4e00-\u9fa5A-Za-z0-9]/,i=0;i<r.length;i++)t.test(r[i])?n=0:n++,n>e&&(e=n);return e}function o(r){var n=/[\u4e00-\u9fa5A-Za-z0-9]*/gi;return wordList=r.match(n),wordList.join("").length}function u(r){for(var n=/[\u4e00-\u9fa5A-Za-z0-9]*/gi,e=r.match(n),t=e.join(""),i={},o=[],u=0,a=t.length;a>u;u++){var g=t[u];i[g]?i[g]++:(i[g]=1,o.push(g))}for(var u=0;u<o.length;u++){var g=o[u];if(i[g]>=5){var v=f(r,g,i[g],5);if(0!=v.errno)return v}}return{errno:0}}function a(r){for(var n=/[\u4e00-\u9fa5A-Za-z0-9]*/gi,e=r.match(n),t=e.join(""),i=1,o=0,u=t.length;u>o;o++){var a=t[o];if(t[o+1]&&t[o+1]==a){if(i++,10==i)return{errno:2,msg:"单字复读机",word:a}}else i=1}return{errno:0}}function f(r,n,e,t){var i=/[\u4e00-\u9fa5A-Za-z0-9]*/gi,o=r.match(i),r=o.join(""),u=r.split(n),a=u.length,f=u[a-2].length;u[a-1]=u[a-1].substr(0,f);for(var g=1,v=1;a>v;v++)if(u[v])if(u[v+1]!=u[v])g=1;else if(g++,g==t)return{errno:3,msg:"短语复读机",word:n+u[v]};return{errno:0}}e.exports=t});
;define("common:widget/ui/remark-editor/remark-editor.js",function(t,a,r){var e=t("common:widget/lib/tangram/base/base.js"),i=t("common:widget/ui/lite/lite.js"),o=t("common:widget/ui/dialog/dialog.js"),s=t("common:widget/ui/login/login.js"),n=t("common:widget/ui/inputprompt/inputprompt.js"),m=t("common:widget/ui/ugc-score/ugc-score.js"),d=t("common:widget/ui/remark-editor/contentValidCheck.js"),p=t("user"),u={contains:function(t,a){return t.contains?t.contains(a):!!(16&t.compareDocumentPosition(a))},moveCaretToEnd:function(t){if("number"==typeof t.selectionStart)t.selectionStart=t.selectionEnd=t.value.length;else if("undefined"!=typeof t.createTextRange){t.focus();var a=t.createTextRange();a.collapse(!1),a.select()}}},c={haveGone:1,destination:2,remark:3,user:4,pictravel:5,notes:6,rank:7,"destination-more":8},l=e.lang.createClass(function(t){this.opts={},e.object.extend(this.opts,t),this.editorDom=null,this.formatReg=/(jpg|jpeg|png|bmp)$/i,this.URL={AddRemark:"/user/ajax/remark/addremark?from=10&entry="+c[t.entry],UpdateRemark:"/user/ajax/remark/updremark?from=10&entry="+c[t.entry]},"pictravel"==t.module&&(this.URL={AddRemark:"/user/ajax/remark/addremark?from=12&entry="+c[t.entry],UpdateRemark:"/user/ajax/remark/updremark?from=12&entry="+c[t.entry]}),"user"==t.module&&(this.URL={AddRemark:"/user/ajax/remark/addremark?entry="+c[t.entry],UpdateRemark:"/user/ajax/remark/updremark?entry="+c[t.entry]}),this.bdstoken=p.bdstoken||0,this.tpl=['<div class="remark-editor" id="remarkEditor'+this.opts.instanceCount+'">','<div class="remark-rating-container">','<div class="remark-rating-score-container" data-score="0">','<i class="remark-score-1" data-score="1"></i>','<i class="remark-score-2" data-score="2"></i>','<i class="remark-score-3" data-score="3"></i>','<i class="remark-score-4" data-score="4"></i>','<i class="remark-score-5" data-score="5"></i>',"</div>",'<span class="remark-rating-tip">点击星星打分</span>',"</div>",'<div class="remark-ta-container">','<textarea class="remark-ta" rows="5"></textarea>',"</div>",'<div class="remark-imgup-container">','<div class="remark-imgup-intro">','<span class="remark-img-tagline">分享精彩旅行图片</span>','<span class="remark-imgup-tip">（最多上传'+this.opts.maxImgCount+"张）</span>",'<div class="remark-tip"></div>',"</div>",'<div class="remark-imgup-content clearfix">','<form class="'+this.opts.uploadFormName+'" action="'+this.opts.uploadAction+"?callback="+this.opts.uploadCallback+'" name="'+this.opts.uploadFormName+'" target="'+this.opts.uploadIframeName+'" method="POST" enctype="multipart/form-data">','<input class="'+this.opts.uploadInputName+'" name="'+this.opts.uploadInputName+'[]" type="file" '+(this.opts.isMultiUpload?'multiple="true"':"")+" />",'<div class="remark-upload-dropzone"></div>',"</form>","</div>","</div>",'<iframe name="'+this.opts.uploadIframeName+'"></iframe>','<a class="remark-submit remark-submit-unavailable" href="###">'+this.opts.submitTxt+"</a>","</div>"].join(""),this.imgTpl=['<img data-picurl="#{pic_url}" data-width="#{width}" data-height="#{height}" src="#{src}">','<div class="remark-imgup-del">&times;</div>'].join(""),this.init()}).extend({init:function(){this.render(),this.bind(),this.isNotEditing||this.fill()},render:function(){if(this.opts.containerDom.innerHTML=this.tpl,this.editorDom=e.g("remarkEditor"+this.opts.instanceCount),this.scoreContainerDom=e.dom.query(".remark-rating-score-container",this.editorDom)[0],this.scoreTipDom=e.dom.query(".remark-rating-tip",this.editorDom)[0],this.remarkTADom=e.dom.query(".remark-ta",this.editorDom)[0],this.imgListDom=e.dom.query(".remark-imgup-content",this.editorDom)[0],this.imgTipDom=e.dom.query(".remark-imgup-tip",this.editorDom)[0],this.tipDom=e.dom.query(".remark-tip",this.editorDom)[0],this.uploadFormDom=e.dom.query("."+this.opts.uploadFormName,this.editorDom)[0],this.uploadInputDom=e.dom.query("."+this.opts.uploadInputName,this.editorDom)[0],this.uploadDZDom=e.dom.query(".remark-upload-dropzone",this.editorDom)[0],this.remarkBtnDom=e.dom.query(".remark-submit",this.editorDom)[0],this.opts.isWithoutPicUploading){var t=e.dom.query(".remark-imgup-intro span");e.array.each(t,function(t){t.style.display="none"}),this.imgListDom.style.display="none"}n.create(this.remarkTADom,"这里有什么亮点和不足？有什么需要注意的？大家期待着你的神评！")},bind:function(){var t=this,a=e.dom.query("i",this.scoreContainerDom);this.opts.isNotEditing&&e.on(this.scoreContainerDom,"mouseout",function(a){var r=e.event.getTarget(a),i=a.relatedTarget||a.toElement;t.scoreContainerDom!==r&&!u.contains(t.scoreContainerDom,r)||u.contains(t.scoreContainerDom,i)||t.setScore(0)}),e.array.each(a,function(r){var i=parseInt(e.dom.getAttr(r,"data-score"),10);t.opts.isNotEditing&&e.on(r,"mouseover",function(){t.setScore(i)}),e.on(r,"click",function(){e.un(t.scoreContainerDom,"mouseout"),e.array.each(a,function(t){e.un(t,"mouseover")}),t.tipWordsLen(),t.setScore(i)})}),window[this.opts.uploadCallback]=function(a){e.dom.removeClass(t.uploadDZDom,"remark-uploading"),t.createImgs(a.data)},e.on(this.uploadInputDom,"change",function(){t.validateFileFormat()&&(e.dom.addClass(t.uploadDZDom,"remark-uploading"),t.uploadFormDom.submit())}),e.on(this.uploadInputDom,"mouseover",function(){e.dom.addClass(t.uploadFormDom,"remark-upload-hover")}),e.on(this.uploadInputDom,"mouseout",function(){e.dom.removeClass(t.uploadFormDom,"remark-upload-hover")}),e.on(this.remarkTADom,"propertychange",function(){e.dom.addClass(t.editorDom,"remark-editor-editing"),t.tipWordsLen()}),e.on(this.remarkTADom,"input",function(){e.dom.addClass(t.editorDom,"remark-editor-editing"),t.tipWordsLen()}),e.on(this.remarkBtnDom,"click",function(){if(!e.dom.hasClass(t.remarkBtnDom,"remark-submit-unavailable")&&t.validateRemark()){var a=e.string.trim(t.remarkTADom.value),r=t.getScore(),i=t.getImgsInfo().pics,o="";e.array.each(i,function(t){var a=e.json.stringify(t);o+="pics[]="+encodeURIComponent(a)+"&"});var s={type:1,word:a,score:r};t.opts.sid&&(s.xid=t.opts.sid),t.opts.remarkData&&(s.remark_id=t.opts.remarkData.remark_id),t.opts.ptid&&(s.ptid=t.opts.ptid),t.opts.pdid&&(s.pdid=t.opts.pdid),t.opts.psid&&(s.psid=t.opts.psid),t.opts.nid&&(s.nid=t.opts.nid);var n=e.url.jsonToQuery(s,function(t){return encodeURIComponent(t)});n+="&"+o+"format=ajax&t="+(new Date).getTime(),e.dom.addClass(t.remarkBtnDom,"remark-submit-unavailable"),t.saveRemark(n)}})},fill:function(){this.opts.remarkData&&(this.setScore(this.opts.remarkData.score),this.opts.isWithoutPicUploading||this.opts.remarkData.pics&&this.createImgs(this.opts.remarkData.pics),this.remarkTADom.value=this.opts.remarkData.content,this.remarkTADom.focus(),e.dom.removeClass(this.remarkTADom,"prompt-default"),e.dom.addClass(this.remarkTADom,"prompt-focus"),this.tipWordsLen(),u.moveCaretToEnd(this.remarkTADom))},setScore:function(t){var t=t||0,a="点击星星打分";switch(t){case 0:a="点击星星打分";break;case 1:a="不喜欢！失望，再也不去了";break;case 2:a="太一般了！没必要去";break;case 3:a="没什么特别感觉，去不去都行";break;case 4:a="还不错～值得游览的观光佳地！";break;case 5:a="太赞啦！一定要去，绝对不枉此行";break;default:a="点击星星打分"}this.scoreContainerDom.className="remark-rating-score-container",t>0&&e.dom.addClass(this.scoreContainerDom,"remark-rating-"+t),e.dom.setAttr(this.scoreContainerDom,"data-score",t),this.scoreTipDom.innerHTML=a},getScore:function(){var t=e.dom.getAttr(this.scoreContainerDom,"data-score");return parseInt(t,10)},createImgs:function(t){var a=this.getImgsInfo().picsCount;if(!(a>this.opts.maxImgCount)){var r=this;e.array.each(t,function(t,o){if(o<r.opts.maxImgCount-a){var s=e.dom.create("div",{className:"remark-imgup-img"}),n=e.string.format(r.imgTpl,{pic_url:t.pic_url,src:i.getImg(t.pic_url),width:t.ext.width,height:t.ext.height});s.innerHTML=n,r.imgListDom.insertBefore(s,r.uploadFormDom);var m=e.dom.query(".remark-imgup-del",s)[0];e.on(m,"click",function(){r.imgListDom.removeChild(s),r.uploadFormDom.style.display="inline",r.imgTipDom.innerHTML="（已上传"+r.getImgsInfo().picsCount+"/"+r.opts.maxImgCount+"张）"})}}),r.opts.maxImgCount===this.getImgsInfo().picsCount&&(r.uploadFormDom.style.display="none"),this.imgTipDom.innerHTML="（已上传"+this.getImgsInfo().picsCount+"/"+this.opts.maxImgCount+"张）"}},getImgsInfo:function(){var t=this,a={},r=[],i=e.dom.query(".remark-imgup-img img",this.imgListDom);return a.picsCount=i.length,e.array.each(i,function(a,i){if(!(i>t.opts.maxImgCount-1)){var o=e.dom.getAttr(a,"data-picurl"),s=e.dom.getAttr(a,"data-width"),n=e.dom.getAttr(a,"data-height");r.push({pic_url:o,ext:{width:s,height:n}})}}),a.pics=r,a},validateFileFormat:function(){var t=this.uploadInputDom.files;if(!t)return this.uploadInputDom.value?!0:!1;var a=t.length;if(!t||0===a)return!1;for(var r=0;a>r;r++){var e=t[r].name;if(!this.formatReg.test(e))return this.tip("格式不支持，重新选图吧！"),!1;if(r>this.opts.maxImgCount-1)return this.tip("一条点评最多传"+this.opts.maxImgCount+"张图片"),!1;this.tipWordsLen()}return!0},validateRemark:function(){var t=e.string.trim(this.remarkTADom.value).length,a=e.string.trim(this.remarkTADom.value);if(this.getScore()){if(n.isEmpty(this.remarkTADom)||0===t)return this.tip("光打分不够啊亲，无文字无真相啊"),!1;if(15>t||t>300)return this.tipWordsLen(),!1;var r=d(a);if(0==r.errno)return!0;switch(r.errno){case 1:o.alert("聪明有态度的度小游应该用文字表达自己的想法呢！火星文、大量符号什么的还是算了吧");break;case 2:o.alert("嘿，一直重复是复读机的做法了啦");break;case 3:o.alert("一直重复是复读机的做法了啦")}return!1}return this.scoreTipDom.innerHTML="<span>喂喂，还没打分哪！(☆_☆)/~~</span>",!1},tip:function(t){var t=t||"";this.tipDom.innerHTML=t},tipWordsLen:function(){var t=e.string.trim(this.remarkTADom.value).length;15>t?(e.dom.hasClass(this.remarkBtnDom,"remark-submit-unavailable")||e.dom.addClass(this.remarkBtnDom,"remark-submit-unavailable"),this.tip('<span class="light">至少还需输入</span><span class="herounit">'+(15-t)+'</span><span class="light">字</span>')):t>300?(e.dom.hasClass(this.remarkBtnDom,"remark-submit-unavailable")||e.dom.addClass(this.remarkBtnDom,"remark-submit-unavailable"),this.tip('<span class="light">已超过</span><span class="herounit">'+(t-300)+'</span><span class="light">字</span>')):(e.dom.hasClass(this.remarkBtnDom,"remark-submit-unavailable")&&e.dom.removeClass(this.remarkBtnDom,"remark-submit-unavailable"),this.tip('<span class="light">还可以输入</span><span class="loseunit">'+(300-t)+'</span><span class="light">字</span>'))},saveRemark:function(t){if(t){var a=this;if(a.opts.isNotEditing){var r=this.URL.AddRemark;"user"==a.opts.module&&(t+="&from=4")}else var r=this.URL.UpdateRemark;"0"==a.opts.sid&&(r=r.split("=")[0]+"=99&otr=1");var i=function(t,i){e.ajax.request(r,{data:t,onsuccess:function(t,r){if(i)return void window.location.reload();if(r){var s=e.json.parse(r);if(4==s.errno&&o.alert("对不起，您的帐号因发表灌水/广告或其他恶意内容被锁定，无权限提交当前内容，请联系版主Du行天使"),9==s.errno&&(o.alert("你速度也太快了，稍微歇歇再发吧"),e.dom.removeClass(a.remarkBtnDom,"remark-submit-unavailable")),0===s.errno)if(s.data.remark.result_fail)var n=o.content('<div class="remark-frequence-tip">嗷！你已经点评过这里啦！去看看其他地方吧！</div>',{titleText:"",classPrefix:"flat-dialog",classWrapper:"remark-frequence-dialog",width:300,modal:!0,autoDispose:!0,buttons:{accept:{content:'<button class="confirm-btn">确定</button>',onclick:function(){n.dispatchEvent("onaccept")&&n.close()}}}});else e.dom.removeClass(a.editorDom,"remark-editor-editing"),e.dom.removeClass(a.remarkBtnDom,"remark-submit-unavailable"),a.opts.onRemarkSaved(s.data.remark),a.opts.callback(s.data.remark,a.opts.isNotEditing),"pop"===a.opts.ugcScorePromptType?m.init("pop",{rurl:"addremark",dom:a.editorDom}):"window"===a.opts.ugcScorePromptType&&m.init("window",{rurl:"addremark",words:s.data.remark.sname+"的点评发布成功！感谢给大家提供的参考信息，奖励小道消息奖金："})}},method:"POST",noCache:!0})},n=function(r,e){if(r&&e){var o=e.bdstoken;t+="&bdstoken="+o,i(t,!0)}else t+="&bdstoken="+a.bdstoken,i(t)};p.is_login?n():s.check(function(t){n(!0,t)},{noAutoReload:!0})}},selfDestruct:function(){this.init()}}),h=0,k=function(t){if(t.containerDom){var a={sid:t.sid,nid:t.nid,ptid:t.ptid,pdid:t.pdid,psid:t.psid,remarkData:t.remarkData,containerDom:t.containerDom,instanceCount:h,uploadAction:"/user/remarkupload/photoupload",uploadCallback:"remark_upload_callback"+h,uploadFormName:"remark-upload-form",uploadIframeName:"remark-upload-iframe"+h,uploadInputName:"upload_file",submitTxt:t.submitTxt||"发布",maxImgCount:5,module:t.module||"",isMultiUpload:!0,isNotEditing:void 0===t.isNotEditing?!0:t.isNotEditing,callback:void 0===t.callback?function(){}:t.callback,isWithoutPicUploading:void 0===t.isWithoutPicUploading?!1:t.isWithoutPicUploading,onRemarkSaved:t.onRemarkSaved||function(){},ugcScorePromptType:t.ugcScorePromptType||"none",entry:t.entry};return h++,new l(a)}};r.exports=k});
;define("common:widget/ui/remark-batch/remark-batch.js",function(e,i,t){var r=e("common:widget/ui/nslog/nslog.js"),n=e("common:widget/lib/tangram/base/base.js"),a=e("common:widget/ui/lite/lite.js"),s=e("common:widget/ui/dialog/dialog.js"),o=e("common:widget/ui/ugc-score/ugc-score.js"),d=e("common:widget/ui/remark-editor/remark-editor.js"),l=e("common:widget/ui/rank/rank.js"),m=e("user"),c=n.lang.createClass(function(){this.pn=0,this.rn=10,this.editorboxCount=0,this.rbTopbarDom=null,this.rbMainDom=null,this.htmlOriginalStyle="",this.bodyOriginalStyle="",this.hasRemarked=!1,this.isInited=!1}).extend({URL:{GetSuggestedScenes:"/user/ajax/remark/getbatchremarkrecommend",GetUserGeneral:"/user/ajax/remark/getuserremarkgeneral"},rbTopbarTpl:['<div class="rb-topbar-wrapper">','<div class="rb-topbar-title">点评你走过的地方...</div>','<button type="button" class="rb-topbar-done">退出</button>',"</div>"].join(""),rbMainTpl:['<div class="rb-main-left"><div class="rb-main-wrapper">',"#{rb-main-scenelist}",'</div></div><div class="rb-main-right"><div class="ranker"><div class="userpartb"></div><div class="listpartb"></div><div class="feedpartb"></div></div></div>'].join(""),rbEditorContainerTpl:['<a href="/#{surl}/remark/" target="_blank" class="rb-editor-pic">','<img src="#{src}" alt="#{sname}" width="150"/>',"</a>",'<div class="rb-editor-main">','<a href="/#{surl}/remark/" target="_blank" class="rb-editor-title">#{sname}</a>','<div class="rb-editor-lead">','<div class="rb-lead-rating"></div>','<span class="rb-lead-tip">点击星星打分</span>',"</div>",'<div class="rb-editor"></div>','<div class="rb-editor-preview"></div>',"</div>"].join(""),rbEditorPreviewTpl:['<div class="rb-preview-rating">','<div class="rb-preview-score rb-preview-score-#{score}"></div>',"</div>",'<div class="rb-preview-content">#{content}</div>','<div class="rb-preview-imgs clearfix">#{imgs}</div>','<div class="rb-preview-doneicon"></div>'].join(""),imgTpl:['<div class="rb-img">','<img class="rb-img-el" src="#{src}" width="118" />',"</div>"].join(""),init:function(e){this.sid=e.sid,this.nid=e.nid,this.uid=e.uid,this.sname=e.sname,this.entry=e.entry,this.isWithoutMore=e.isWithoutMore,this.type=e.type,"boolean"==typeof e.isInited&&(this.isInited=e.isInited,this.pn=0,this.rn=10,this.editorboxCount=0,this.rbTopbarDom=null,this.rbMainDom=null,this.htmlOriginalStyle="",this.bodyOriginalStyle="",this.hasRemarked=!1),this.module=e.module,this.callback=e.callback,this.closeCallback=e.closeCallback||function(){},e.remarkSceneList&&(this.remarkSceneList=e.remarkSceneList),this.type=e.type||1,this.show(),this.isInited||(e.GetSuggestedURL&&(this.URL.GetSuggestedScenes=e.GetSuggestedURL),e.initialScenelist?(this.pn+=e.initialScenelist.length,this.renderEditors(e.initialScenelist)):this.getSugScenelist())},show:function(){this.rbTopbarDom&&this.rbMainDom||this.render();var e=this,i=document.documentElement,t=document.body,a={height:n.page.getViewHeight()+"px",overflow:"hidden"};window.scrollTo(0,0),this.htmlOriginalStyle=n.dom.getAttr(i,"style"),this.bodyOriginalStyle=n.dom.getAttr(t,"style"),n.dom.setStyles(i,a),n.dom.setStyles(t,a),this.rbTopbarDom.style.display="block",this.rbMainDom.style.display="block",this.rbSizeFitter(),n.on(window,"resize",function(){e.rbSizeFitter.call(e)});var s=n.g("J-topani");s&&(s.style.display="none"),r.nslog(location.href,511,{pos:"remark_batch_pv"})},hide:function(){var e=this,i=document.documentElement,t=document.body;n.dom.setAttr(i,"style",this.htmlOriginalStyle),n.dom.setAttr(t,"style",this.bodyOriginalStyle),this.rbTopbarDom.style.display="none",this.rbMainDom.style.display="none",n.un(window,"resize",function(){e.rbSizeFitter.call(e)}),this.hasRemarked&&n.ajax.get(this.URL.GetUserGeneral+"?t="+(new Date).getTime(),function(e,i){if(i){var t=n.json.parse(i);if(0==t.errno&&0!=t.data.rank&&!t.data.is_first_remark)var r=m.uid,a=t.data.area_count,o=t.data.rank,d=['<div class="remark-encourage-info">你已经点评了<span>'+a+"</span>个地方，超过了<span>"+o+"%</span>的旅行者</div>",'<div class="remark-encourage-lead">再接再厉哟！查看<a href="/user/remark/'+r+'" target="_blank">我的所有点评 >></a></div>'].join(""),l=s.content(d,{titleText:"点评成功",classPrefix:"flat-dialog",classWrapper:"remark-encourage-dialog",width:550,modal:!0,autoDispose:!0,buttons:{accept:{content:'<button class="confirm-btn">知道啦</button>',onclick:function(){l.dispatchEvent("onaccept")&&l.close()}}}})}});var r=n.g("J-topani");r&&(r.style.display="block"),e.closeCallback()},render:function(){var e=this;this.rbTopbarDom=n.dom.create("div",{className:"rb-topbar"}),this.rbMainDom=n.dom.create("div",{className:"rb-main"}),this.rbTopbarDom.innerHTML=this.rbTopbarTpl;var i="";this.remarkSceneList&&(i+='<div class="rb-main-remarklist"></div>'),i+='<div class="rb-main-tip">这些地方，你是不是也去过？</div><div class="rb-main-scenelist"></div>',this.remarkSceneList&&0!=this.remarkSceneList.length||(i+='<button class="rb-main-more" type="button">点击查看更多景点</button>'),i+='<button class="rb-main-done" type="button">退出</button>',this.rbMainDom.innerHTML=n.string.format(this.rbMainTpl,{"rb-main-scenelist":i}),document.body.appendChild(this.rbTopbarDom),document.body.appendChild(this.rbMainDom),this.editorlistDom=n.dom.query(".rb-main-scenelist",this.rbMainDom)[0],this.editorremarklistDom=n.dom.query(".rb-main-remarklist",this.rbMainDom)[0],this.topDoneBtn=n.dom.query(".rb-topbar-done",this.rbTopbarDom)[0],this.moreBtn=n.dom.query(".rb-main-more",this.rbMainDom)[0],this.btmDoneBtn=n.dom.query(".rb-main-done",this.rbMainDom)[0],n.on(this.topDoneBtn,"click",function(){e.hide.call(e)}),n.on(this.btmDoneBtn,"click",function(){e.hide.call(e)}),this.moreBtn&&n.on(this.moreBtn,"click",function(){n.dom.hasClass(e.moreBtn,"rb-more-processing")||(e.moreBtn.innerHTML="正在加载更多景点...",n.dom.addClass(e.moreBtn,"rb-more-processing"),e.getSugScenelist())});var t=new l("/main/event/remark/ajax/getrank","remark");t.rankuser(n.dom.q("userpartb")[0]),t.render(n.dom.q("listpartb")[0]),t.rankmsg("/main/event/remark/feed?t=",n.dom.q("feedpartb")[0],32,10)},renderEditors:function(e){var i=this;this.isWithoutMore&&(i.moreBtn.style.display="none"),n.array.each(e,function(e,t){var r=n.dom.create("div",{className:"rb-editor-container clearfix"});e.img_url||(e.img_url="http://hiphotos.baidu.com/lvpics/pic/item/"+e.pic_url+".jpg"),r.innerHTML=n.string.format(i.rbEditorContainerTpl,{surl:e.surl,src:e.img_url,sname:e.sname}),i.editorlistDom.appendChild(r);var a=n.dom.query(".rb-editor-main",r)[0],s=n.dom.query(".rb-editor-lead",a)[0],l=(n.dom.query(".rb-lead-rating",a)[0],n.dom.query(".rb-editor",a)[0]),m=n.dom.query(".rb-editor-preview",a)[0],c=function(){a.removeChild(s);var t={nid:i.nid,module:i.module,sid:e.sid,containerDom:l,onRemarkSaved:function(e){i.hasRemarked=!0,i.showPreview.call(i,{data:e,editorDom:l,previewDom:m}),o.init("pop",{rurl:"addremark"})},submitTxt:"保存",callback:i.callback,entry:i.entry};e.remark_score?(t.remarkData={score:e.remark_score,content:e.remark_word},t.isNotEditing=!1):t.isNotEditing=!0,d(t),l.style.display="block"};if(c(),i.isInited||0!==t){var b=n.dom.query(".rb-main-scenelist .remark-editor",i.rbMainDom)[i.editorboxCount],h=n.dom.query(".remark-rating-container",b)[0],u=document.createElement("a");u.innerHTML="不写了",u.className="remark-pause",u.href="javascript:;",b.appendChild(u);var p=b.childNodes;n.each(p,function(e){"IFRAME"!=e.nodeName&&(e.style.display="none")}),h.style.display="block",n.on(u,"click",function(){n.each(p,function(e){"IFRAME"!=e.nodeName&&(e.style.display="none")}),h.style.display="block"}),n.on(h,"click",function(){n.each(p,function(e){"IFRAME"!=e.nodeName&&(e.style.display="block")})})}else i.isInited=!0;i.editorboxCount++}),this.remarkSceneList&&n.array.each(this.remarkSceneList,function(e,t){var r=n.dom.create("div",{className:"rb-editor-container clearfix"});r.innerHTML=n.string.format(i.rbEditorContainerTpl,{surl:e.surl,src:e.img_url,sname:e.sname}),i.editorremarklistDom.appendChild(r);var a=n.dom.query(".rb-editor-main",r)[0],s=n.dom.query(".rb-editor-lead",a)[0],l=(n.dom.query(".rb-lead-rating",a)[0],n.dom.query(".rb-editor",a)[0]),m=n.dom.query(".rb-editor-preview",a)[0],c=function(){a.removeChild(s);var t={nid:i.nid,module:i.module,sid:e.sid,containerDom:l,onRemarkSaved:function(e){i.hasRemarked=!0,i.showPreview.call(i,{data:e,editorDom:l,previewDom:m}),o.init("pop",{rurl:"addremark"})},submitTxt:"保存",callback:i.callback,entry:i.entry};e.remark_score?(t.remarkData={score:e.remark_score,content:e.remark_word},t.isNotEditing=!1):t.isNotEditing=!0,d(t),l.style.display="block"};if(c(),i.isInited||0!==t){var b=n.dom.query(".rb-main-wrapper .remark-editor")[i.editorboxCount],h=n.dom.query(".remark-rating-container",b)[0],u=document.createElement("a");u.innerHTML="不写了",u.className="remark-pause",u.href="javascript:;",b.appendChild(u);var p=b.childNodes;n.each(p,function(e){"IFRAME"!=e.nodeName&&(e.style.display="none")}),h.style.display="block",n.on(u,"click",function(){n.each(p,function(e){"IFRAME"!=e.nodeName&&(e.style.display="none")}),h.style.display="block"}),n.on(h,"click",function(){n.each(p,function(e){"IFRAME"!=e.nodeName&&(e.style.display="block")})})}else i.isInited=!0;i.editorboxCount++})},showPreview:function(e){if(e.data){var i=this,t=this.getImgs(e.data.pics);e.editorDom.style.display="none",e.previewDom.style.display="block",e.previewDom.innerHTML=n.string.format(this.rbEditorPreviewTpl,{score:e.data.score,content:$.string.encodeHTML(e.data.content),imgs:t}),n.un(e.previewDom,"click"),n.on(e.previewDom,"click",function(){e.previewDom.style.display="none",e.editorDom.style.display="block",d({remarkData:e.data,containerDom:e.editorDom,onRemarkSaved:function(t){i.showPreview.call(i,{data:t,editorDom:e.editorDom,previewDom:e.previewDom})},isNotEditing:!1,submitTxt:"保存",entry:i.entry})})}},getImgs:function(e){var i=this,t="";return e&&n.array.each(e,function(e){t+=n.string.format(i.imgTpl,{src:a.getImg(e.pic_url)})}),t},rbSizeFitter:function(){var e=n.page.getViewHeight();n.dom.setStyle(this.rbMainDom,"height",e+"px");var i=document.documentElement,t=document.body;i.style.height=e+"px",t.style.height=e+"px"},getSugScenelist:function(){var e=this,i={pn:this.pn,rn:this.rn,type:this.type};this.sid&&(i.xid=this.sid),this.nid&&(i.nid=this.nid),this.type&&(i.uid=this.uid,i.type=this.type,i.sid=this.sid);var t=n.url.jsonToQuery(i),r=this.URL.GetSuggestedScenes+"?"+t+"&t="+(new Date).getTime();n.ajax.get(r,function(i,t){if(t){var r="object"==typeof t?t:n.json.parse(t);if(0===r.errno){var a=r.data.list||r.data.remark_list;0===a.length||a.length<e.rn?(e.moreBtn.innerHTML="已经没有更多景点了",n.un(e.moreBtn,"click")):(e.moreBtn.innerHTML="点击查看更多景点",n.dom.removeClass(e.moreBtn,"rb-more-processing")),e.pn+=a.length,e.renderEditors(a)}}})}}),b=new c,h=function(e){return b.init(e),b};t.exports=h,t.exports.RemarkBatch=c});
;define("common:widget/ui/remark-content/remark-content.js",function(e,t,a){var i=e("common:widget/lib/tangram/base/base.js"),r=e("common:widget/lib/tangram/fx/fadeOut/fadeOut.js"),n=e("common:widget/ui/lite/lite.js"),o=e("common:widget/ui/login/login.js"),s=e("common:widget/ui/dialog/dialog.js"),m=e("common:widget/ui/ugc-score/ugc-score.js"),l=e("common:widget/ui/remark-editor/remark-editor.js"),d=e("user"),c=e("person"),u={moveCaretToEnd:function(e){if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if("undefined"!=typeof e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}}},v=i.lang.createClass(function(e){this.remarkFullData=e.remarkFullData,this.onChange=e.onChange||function(){},this.isMine=e.isMine,this.remarkItemDom=null,this.commentBoxDom=null}).extend({bdstoken:d.bdstoken||0,URL:{getComment:"/user/ajax/remark/getcomment",addComment:"/user/ajax/remark/addcomment",delComment:"/user/ajax/remark/delcomment",Dig:"/user/recommend/save",Del:"/user/ajax/remark/delremark"},remarkFullTpl:['<div class="ri-avatar-wrap">','<a target="_blank" href="/user/#{uid}" class="ri-avatar">','<img width="50" height="50" alt="#{uname}" src="#{avatar}" />','<span class="ri-avatar-mask"></span>',"</a>",'<a href="/user/#{uid}" class="ri-uname" title="#{uname}">#{uname_cut}</a>',"</div>",'<div class="ri-main">','<div class="ri-header">','<div class="ri-rating">','<div class="ri-star ri-star-#{star}"></div>',"</div>","#{fromCellphone}",'<div class="ri-time">#{time}</div>',"#{is_quality}","</div>",'<div class="ri-body">','<div class="ri-remarktxt">#{remarktxt}</div>','<div class="ri-imgs clearfix">#{imgs}</div>',"#{from}","</div>",'<div class="ri-footer clearfix">','<a class="ri-dig #{isRecommendedClass}" href="###"><i></i><span>#{digCounts}</span></a>','<a class="ri-comment" href="###"><i></i><span>#{commentCounts}</span></a>',"#{del}","#{revise}","</div>","</div>"].join(""),remarkMineTpl:['<div class="ri-main">','<div class="ri-header">','<div class="ri-rating">','<div class="ri-star ri-star-#{star}"></div>',"</div>","#{fromCellphone}",'<div class="ri-time">#{time}</div>',"#{is_quality}","</div>",'<div class="ri-body">','<div class="ri-remarktxt">#{remarktxt}</div>','<div class="ri-imgs clearfix">#{imgs}</div>',"#{from}","</div>",'<div class="ri-footer clearfix">',"#{revise}","#{del}",'<a class="ri-dig #{isRecommendedClass}" href="###"><i></i><span>#{digCounts}</span></a>','<a class="ri-comment" href="###"><i></i><span>#{commentCounts}</span></a>',"</div>","</div>"].join(""),imgTpl:['<div class="ri-img ri-img-el" data-src="#{src}" data-width="#{width}" data-height="#{height}">#{imgHTML}</div>'].join(""),commentContainerTpl:['<div class="ri-comment-list"></div>','<div class="ri-comment-editor clearfix">','<img width="20" height="20" class="ri-own-avatar" src="#{avatar}" />','<textarea class="ri-comment-box" rows="1"></textarea>','<a href="###" class="ri-comment-btn">发布</a>',"</div>",'<div class="arr"></div>'].join(""),commentTpl:['<div class="ri-comment-item">','<img width="20" height="20" class="ri-comment-avatar" src="#{avatar}" />','<div class="ri-comment-content">','<a href="/user/#{uid}" target="_blank" class="ri-comment-uname">#{uname}：</a>','<span class="ri-commenttxt">#{commenttxt}</span>','<span class="ri-comment-time">#{time}</span>',"</div>","#{del}",'<a href="###" data-uname="#{uname}" data-replyid="#{reply_id}" data-replyuid="#{reply_uid}" class="ri-reply">回复</a>',"</div>"].join(""),render:function(){var e=this.remarkFullData;if(e){var t=parseInt(e.score,10),a=e.from.is_from_cellphone?'<i title="来自手机">来自手机</i>':"",r=e.is_quality?'<i class="is-quality">靠谱</i>':"",o=this.getDate(e.create_time),s=this.getImgs(e.pics),m=this.getFromHTML(e.from),l="",c="";if(e.is_own&&(l='<a href="###" class="ri-revise">修改</a>'),(e.is_own||d.is_admin)&&(c='<a href="###" class="ri-del">删除</a>'),e.is_recommend)var u="";else var u="ri-dig-available";var v={star:t,fromCellphone:a,is_quality:r,time:o,remarktxt:i.string.encodeHTML(e.content),imgs:s,from:m,revise:l,del:c,isRecommendedClass:u,commentCounts:e.comment_count,digCounts:e.recommend_count};return v.commentCounts=v.commentCounts>0?"回复("+v.commentCounts+")":"回复",v.digCounts=v.digCounts>0?"有用("+v.digCounts+")":"有用",e.user&&(v.avatar=n.getUserAbHead(e.user.avatar_small,e.user.avatar_source),v.uname=e.user.nickname,v.uname_cut=i.string.subByte(e.user.nickname,10),v.uid=e.user.uid,v.level_format=n.getUserLevel(e.user.score),v.title_format=n.getUserTitle(e.user.score)),this.remarkItemDom=i.dom.create("div",{className:"remark-item clearfix"}),this.remarkItemDom.innerHTML=this.isMine?i.string.format(this.remarkMineTpl,v):i.string.format(this.remarkFullTpl,v),this.bind(),this.remarkItemDom}},bind:function(){if(this.remarkItemDom){var e=this;i.on(this.remarkItemDom,"click",function(t){var a=i.event.getTarget(t);if(i.dom.hasClass(a,"ri-comment")||i.dom.hasClass(a.parentNode,"ri-comment"))e.toggleCommentlist();else if(i.dom.hasClass(a,"ri-dig-available")||i.dom.hasClass(a.parentNode,"ri-dig-available"))o.check(function(){e.dig()});else if(i.dom.hasClass(a,"ri-del"))e.del();else if(i.dom.hasClass(a,"ri-revise"))e.revise();else if(i.dom.hasClass(a,"ri-img-el")||(a=i.dom.getAncestorByClass(a,"ri-img-el")),a){var r=i.dom.getAttr(a,"data-src"),n=parseInt(i.dom.getAttr(a,"data-width"),10),m=parseInt(i.dom.getAttr(a,"data-height"),10),l="";n&&m&&(l=900*(m/n));{s.content('<div class="ri-img-preview-dialog"><img width="900" height="'+l+'" src="'+r+'" /></div>',{titleText:"",classPrefix:"flat-dialog",classWrapper:"ri-preview-dialog",width:960,modal:!0,autoDispose:!0})}}})}},toggleCommentlist:function(){var e=i.dom.query(".ri-comment",this.remarkItemDom)[0];i.dom.hasClass(e,"ri-comment-on")?(i.dom.removeClass(e,"ri-comment-on"),this.commentContainerDom?this.commentContainerDom.style.display="none":null):(i.dom.addClass(e,"ri-comment-on"),this.commentContainerDom?(this.commentContainerDom.style.display="block",u.moveCaretToEnd(this.commentBoxDom)):this.renderComment())},renderComment:function(){var e=i.string.format(this.commentContainerTpl,{avatar:n.getUserAbHead(d.avatar_small,d.avatar_source)});this.commentContainerDom=i.dom.create("div",{className:"ri-comment-container"}),this.commentContainerDom.innerHTML=e;var t=i.dom.query(".ri-main",this.remarkItemDom)[0];t.appendChild(this.commentContainerDom),this.commentBoxDom=i.dom.query(".ri-comment-box",this.commentContainerDom)[0],u.moveCaretToEnd(this.commentBoxDom),this.bindComment(),i.dom.show(this.commentContainerDom),this.renderCommentlist()},renderCommentlist:function(){var e=this,t={pn:0,rn:100,remark_id:this.remarkFullData.remark_id,format:"ajax"},a=i.url.jsonToQuery(t),r=this.URL.getComment+"?"+a+"&t="+(new Date).getTime();i.ajax.get(r,function(t,a){if(a){var r=i.json.parse(a);if(0==r.errno&&r.data.list){var o="";i.array.each(r.data.list,function(t){var a="";(t.is_own||d.is_admin)&&(a='<a href="###" data-replyid="'+t.reply_id+'" class="ri-comment-del">删除</a>');var r={uname:t.user_nickname,uid:t.uid,avatar:n.getUserAbHead(t.avatar_small,t.avatar_source),commenttxt:i.string.encodeHTML(t.content),time:e.getDate(t.create_time),del:a,reply_id:t.reply_id,reply_uid:t.uid};o+=i.string.format(e.commentTpl,r)});var s=i.dom.query(".ri-comment-list",e.commentContainerDom)[0];s.innerHTML=o;var m=r.data.list.length,l="回复";m>0&&(l="回复("+m+")"),i.dom.query(".ri-comment span",e.remarkItemDom)[0].innerHTML=l}}})},bindComment:function(){var e=this,t=this.commentBoxDom;i.on(this.commentContainerDom,"click",function(a){var r=i.event.getTarget(a);if(i.dom.hasClass(r,"ri-comment-btn")){if(i.dom.hasClass(r,"ri-comment-btn-unavailable"))return;o.check(function(){var a=i.dom.getAttr(t,"data-replyid"),n=i.dom.getAttr(t,"data-replyuid"),o=i.string.trim(t.value);if(o&&""!==o){i.dom.addClass(r,"ri-comment-btn-unavailable");var l={remark_id:e.remarkFullData.remark_id,content:o,bdstoken:e.bdstoken};a&&""!==a&&n&&(l.reply_id=a,l.reply_uid=n);var d=i.url.jsonToQuery(l);i.ajax.post(e.URL.addComment,d,function(a,n){if(n){var o=i.json.parse(n);if(886===o.errno){var l=["<span style='font-family:Microsoft Yahei'>亲,你对","<a href='#'>",c.uname,"</a>的仰慕之情已经溢于言表了，把你的爱分给其他人一点儿吧~</span>"].join("");s.alert(l)}if(887===o.errno){var l=["<span style='font-family:Microsoft Yahei'>给","<a href='#'>",c.uname,"</a>这么多赞，TA会被宠坏的，快去给其他小伙伴一点关爱吧</span>"].join("");s.alert(l)}if(888===o.errno){var l=["<span style='font-family:Microsoft Yahei'>亲，刚才这些话真的都说到你的心坎里了吗？三思而后赞啊！！！</span>"].join("");s.alert(l)}if(4==o.errno&&s.alert("对不起，您的帐号因发表灌水/广告或其他恶意内容被锁定，无权限提交当前内容，请联系版主Du行天使"),9==o.errno&&s.alert("你速度也太快了，稍微歇歇再发吧"),0==o.errno){t.value="",i.dom.setAttr(t,"data-replyid",""),i.dom.setAttr(t,"data-replyuid",""),i.dom.removeClass(r,"ri-comment-btn-unavailable"),m.init("pop",{rurl:"remark_reply",dom:r});var d=function(){e.renderCommentlist()};setTimeout(d,300)}}})}})}else if(i.dom.hasClass(r,"ri-reply"))o.check(function(){var e=i.dom.getAttr(r,"data-replyid"),a=i.dom.getAttr(r,"data-replyuid"),n=i.dom.getAttr(r,"data-uname");i.dom.setAttr(t,"data-replyid",e),i.dom.setAttr(t,"data-replyuid",a),t.value="回复"+n+"：",u.moveCaretToEnd(t)});else if(i.dom.hasClass(r,"ri-comment-del"))var n=i.dom.getAttr(r,"data-replyid"),l={remark_id:e.remarkFullData.remark_id,reply_id:n,bdstoken:e.bdstoken},d=i.url.jsonToQuery(l),v=function(){i.ajax.post(e.URL.delComment,d,function(t,a){if(a){var r=i.json.parse(a);if(0==r.errno){var n=function(){e.renderCommentlist()};setTimeout(n,300)}}})},f=s.content('<div class="ri-del-tip">您确定要删除这条评论吗？</div>',{titleText:"确定删除",classPrefix:"flat-dialog",classWrapper:"ri-del-dialog",width:300,modal:!0,autoDispose:!0,buttons:{accept:{content:'<button class="confirm-btn">确定</button>',onclick:function(){v(),f.dispatchEvent("onaccept")&&f.close()}},cancel:{content:'<button class="cancel-btn">取消</button>',onclick:function(){f.dispatchEvent("oncancel")&&f.close()}}}})})},dig:function(){var e=this,t=i.dom.query(".ri-dig-available",this.remarkItemDom)[0];i.dom.removeClass(t,"ri-dig-available"),t.innerHTML="<i></i>有用(<span>"+(this.remarkFullData.recommend_count+1)+")</span>";var a={xid:this.remarkFullData.remark_id,type:12,bdstoken:this.bdstoken},r=i.url.jsonToQuery(a);i.ajax.post(this.URL.Dig,r,function(a,r){if(r){var n=i.json.parse(r);if(886===n.errno){var o=["<span style='font-family:Microsoft Yahei'>亲,你对","<a href='#'>",c.uname||"这个用户","</a>的仰慕之情已经溢于言表了，把你的爱分给其他人一点儿吧~</span>"].join("");s.alert(o)}if(887===n.errno){var o=["<span style='font-family:Microsoft Yahei'>给","<a href='#'>",c.uname||"这个用户","</a>这么多赞，TA会被宠坏的，快去给其他小伙伴一点关爱吧</span>"].join("");s.alert(o)}if(888===n.errno){var o=["<span style='font-family:Microsoft Yahei'>亲，刚才这些话真的都说到你的心坎里了吗？三思而后赞啊！！！</span>"].join("");s.alert(o)}return 0!=n.errno?(i.dom.addClass(t,"ri-dig-available"),void(t.innerHTML="<i></i>有用(<span>"+e.remarkFullData.recommend_count+")</span>")):void m.init("pop",{rurl:"remark_recommend",dom:t})}})},del:function(){var e=this,t={remark_id:this.remarkFullData.remark_id,bdstoken:this.bdstoken},a=i.url.jsonToQuery(t),n=function(){i.ajax.post(e.URL.Del,a,function(t,a){if(a){var n=i.json.parse(a);if(4==n.errno&&s.alert("对不起，您的帐号因发表灌水/广告或其他恶意内容被锁定，无权限提交当前内容，请联系版主Du行天使"),9==n.errno&&s.alert("你速度也太快了，稍微歇歇再发吧"),0==n.errno){var o=function(){r(e.remarkItemDom,{onafterfinish:function(){e.remarkItemDom.style.display="none",$(e.remarkItemDom).parents("li").hide()},duration:300})};setTimeout(o,300)}}})},o=s.content('<div class="ri-del-tip">您确定要删除这条点评吗？<br>如果删掉的话，当年的奖金会被要回来的T_T</div>',{titleText:"确定删除",classPrefix:"flat-dialog",classWrapper:"ri-del-dialog",width:300,modal:!0,autoDispose:!0,buttons:{accept:{content:'<button class="confirm-btn">确定</button>',onclick:function(){n(),o.dispatchEvent("onaccept")&&o.close()}},cancel:{content:'<button class="cancel-btn">取消</button>',onclick:function(){o.dispatchEvent("oncancel")&&o.close()}}}})},revise:function(){var e=this,t=s.content('<div class="ri-revise-editor"></div>',{titleText:"修改我的点评",classPrefix:"flat-dialog",classWrapper:"ri-revise-dialog",width:445,height:470,modal:!0,onopen:function(){var a=i.dom.query(".ri-revise-editor")[0];l({containerDom:a,remarkData:e.remarkFullData,isNotEditing:!1,onRemarkSaved:function(a){e.remarkData=a;var r=!0,n=new v({remarkFullData:a,isMine:r,onChange:function(){var t=function(){e.getPage(!0)};setTimeout(t,300)}}),o=i.dom.query(".remark-list")[0];o||(o=e.remarkItemDom.parentNode);var s=(i.dom.query(".remark-list .remark-item")[0],n.render());i.dom.insertBefore(s,e.remarkItemDom),i.dom.remove(e.remarkItemDom),t.close()}})},autoDispose:!0})},getDate:function(e){var t=parseInt(1e3*e,10),a=new Date,i=a.getFullYear(),r=a.getMonth(),n=a.getDate(),o=new Date(t),s=o.getFullYear(),m=o.getMonth(),l=o.getDate(),d="";d=i===s&&r===m&&n===l&&n===l?"今天":i===s&&r===m&&n===l&&n-1==l?"昨天":s+"-"+(m+1)+"-"+l;var c=o.getHours(),u=o.getMinutes();10>u&&(u="0"+u);var v=c+":"+u;return d+" "+v},getImgs:function(e){var t=this,a="";return i.array.each(e,function(e){a+=i.string.format(t.imgTpl,{imgHTML:n.createImage("###",e.full_url,e.ext.width,e.ext.height,118,80,!1,!0,!1,4),src:n.getImg(e.pic_url),width:e.ext.width,height:e.ext.height})}),a},getFromHTML:function(e){var t="";return e.is_from_note?t='<div class="ri-from">来自游记《<a target="_blank" href="/notes/'+e.nid+'">'+e.title+"</a>》</div>":e.is_from_pictravel&&(t='<div class="ri-from">来自画册《<a target="_blank" href="/pictravel/'+e.ptid+'">'+e.title+"</a>》</div>"),t}});a.exports=v});
;define("common:widget/ui/share-webchat/share-webchat.js",function(i,o,r){var d=i("common:widget/ui/jquery-qrcode/jquery-qrcode.js"),e={is_init:0,init:function(i,o){var r=this,e=i||"微信扫二维码打开分享";this.showBoard=d("<div id='Qrboardbg'><div id='Qrboard'><p>"+e+"</p><div id='qrcode_area'></div><div class='close' id='qrclose'>&times;</div></div></div>"),this.showBoard.find("#Qrboard").css({position:"fixed",top:"100px",left:d(window).width()/2-150+"px",background:"#fff"}),d(".share-webchat").on("click",function(){r.showQr(o)})},showQr:function(i){if(this.is_init)d("#Qrboardbg").show();else{d("body").append(this.showBoard),d("#Qrboardbg").on("click",function(){d("#Qrboardbg").fadeOut()});var o=i||location.href;-1!=o.indexOf("#")&&(o=o.split("#")[0]),o+=-1!=o.indexOf("?")?"&isshare=1&sharefr=pc":"?isshare=1&sharefr=pc",d("#qrcode_area").qrcode({width:100,height:100,color:"#3a3",text:o}),d("#qrcode_area").show(),this.is_init=1}}};r.exports=e});
;define("common:widget/ui/sortable/draggable.js",function(e,t,n){var o,a=e("common:widget/lib/tangram/base/base.js");!function(){function e(e){a.extend(l,e)}function t(){clearInterval(v),l.capture&&l.handler.releaseCapture?l.handler.releaseCapture():l.capture&&window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),document.body.style.MozUserSelect=c,a.event.un(document,"selectstart",r),l.autoStop&&a.event.un(l.handler,"mouseup",t),l.autoStop&&a.event.un(window,"mouseup",t),y(l.ondragend)&&l.ondragend(s,l)}function n(){var e=l.range,t=a.page.getMousePosition(),n=p+t.x-u,o=i+t.y-d;"object"==typeof e&&e&&4==e.length&&(n=Math.max(e[3],n),n=Math.min(e[1]-s.offsetWidth,n),o=Math.max(e[0],o),o=Math.min(e[2]-s.offsetHeight,o)),s.style.top=o+"px",s.style.left=n+"px",g===n&&f===o||null===g&&null===f||y(l.ondrag)&&l.ondrag(s,l),g=n,f=o}function r(e){return a.event.preventDefault(e,!1)}var s,l,u,d,i,p,c,g,f,v,m,h,y=a.lang.isFunction;o=function(o,S){if(f=g=null,!(s=a.dom.g(o)))return!1;if(l=a.object.extend({autoStop:!0,capture:!0,interval:16,handler:s},S),m=a.dom.getPosition(s.offsetParent),h=a.dom.getPosition(s),"absolute"==a.getStyle(s,"position")?(i=h.top-(s.offsetParent==document.body?0:m.top),p=h.left-(s.offsetParent==document.body?0:m.left)):(i=parseFloat(a.getStyle(s,"top"))||-parseFloat(a.getStyle(s,"bottom"))||0,p=parseFloat(a.getStyle(s,"left"))||-parseFloat(a.getStyle(s,"right"))||0),l.mouseEvent)u=a.page.getScrollLeft()+l.mouseEvent.clientX,d=a.page.getScrollTop()+l.mouseEvent.clientY;else{var E=a.page.getMousePosition();u=E.x,d=E.y}return l.autoStop&&a.event.on(l.handler,"mouseup",t),l.autoStop&&a.event.on(window,"mouseup",t),a.event.on(document,"selectstart",r),l.capture&&l.handler.setCapture?l.handler.setCapture():l.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),c=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",y(l.ondragstart)&&l.ondragstart(s,l),v=setInterval(n,l.interval),{stop:t,update:e}}}();var r=function(e,t){function n(n){var r=t.mouseEvent=window.event||n;r.button>1||a.lang.isFunction(t.toggle)&&!t.toggle()||("static"==a.dom.getStyle(e,"position")&&a.dom.setStyle(e,"position","relative"),a.lang.isFunction(t.onbeforedragstart)&&t.onbeforedragstart(e),l=o(e,t),i.stop=l.stop,i.update=l.update,a.event.preventDefault(r))}t=a.object.extend({toggle:function(){return!0}},t||{}),t.autoStop=!0,e=a.dom.g(e),t.handler=t.handler||e;var r,s,l,u=["ondragstart","ondrag","ondragend"],d=u.length-1,i={dispose:function(){l&&l.stop(),a.event.un(t.handler,"onmousedown",n),a.lang.Class.prototype.dispose.call(i)}},p=this;if(r=a.dom.ddManager)for(;d>=0;d--)s=u[d],t[s]=function(n){var o=t[n];return function(){a.lang.isFunction(o)&&o.apply(p,arguments),r.dispatchEvent(n,{DOM:e})}}(s);return e&&a.event.on(t.handler,"onmousedown",n),{cancel:function(){i.dispose()}}};n.exports=r});
;define("common:widget/ui/sortable/sortable.js",function(e,t,n){function i(e,t){var n=r.dom.getStyle(e,t),i=t.split("");return i[0]=i[0].toUpperCase(),t=i.join(""),isNaN(n)?e["offset"+t]:n}var r=e("common:widget/lib/tangram/base/base.js"),a=e("common:widget/ui/sortable/draggable.js"),s={FORWARD:0,BACKWARD:1},l={ON_DRAG:"ondrag",ON_ELECHANGE:"onelechange"},o=r.lang.createClass(function(e){this.container,this._currentEle,6===r.browser.ie||7===r.browser.ie?(this._blankEle=r.dom.create("span",{style:"visibility: hidden;display:inline-block;",className:"scene-unit"}),this._blankEle.innerHTML='<span class="scene-item style-solid"></span>'):(this._blankEle=r.dom.create("li",{style:"visibility: hidden;display:inline-block;",className:"scene-unit"}),this._blankEle.innerHTML='<div class="scene-item style-solid"></div>'),this._dropEle,this._elems,this.list,this.vertical=!0,r.extend(this,e),this.addEventListener(l.ON_ELECHANGE,this.refresh)}).extend({events:l,add:function(){this.refresh()},enableDrag:function(e){var t=this,n={onbeforedragstart:function(){t._currentEle=e,r.dom.setStyle(t._currentEle,"width",i(t._currentEle,"width")),r.dom.setStyle(t._currentEle,"z-index",3),e.style.position="absolute",r.dom.setStyle(t._blankEle,"height",i(t._currentEle,"height")),r.dom.setStyle(t._blankEle,"width",i(t._currentEle,"width")),r.dom.insertAfter(t._blankEle,t._currentEle),t._blankEle.style.display="inline-block"},ondragstart:function(){t.ondragstart&&t.ondragstart(t._currentEle)},ondrag:function(){r.array.each(t._elems,function(e){if(t._currentEle&&t._currentEle!=e&&r.dom.intersect(e,t._currentEle)){t._dropEle=e;var n=r.dom.getPosition(t._currentEle),a=r.dom.getPosition(e),l=function(r,l){var o=parseInt(i(t._currentEle,l)),d=parseInt(i(e,l)),c=n[r]+o/2,h=a[r]+d/2;t.insert(c>h?s.BACKWARD:s.FORWARD)};t.vertical?l("top","height"):l("left","width")}}),t.ondrag&&t.ondrag(t._currentEle)},ondragend:function(){t.replaceBlank(),t.ondragend&&t.ondragend(t.preDragEle)}};if(t.handler){var l=r.dom.query(t.handler,e)[0];n.handler=l}a(e,n),e.draggable=!0},init:function(){this.refresh()},refresh:function(){var e=this;this._elems=r.dom.query(this.list,e.container),r.array.each(this._elems,function(t,n){t.setAttribute("data-index",n),t.draggable||e.enableDrag(t)})},insert:function(e){var t=this._dropEle;e==s.BACKWARD?(r.dom.insertAfter(this._blankEle,t),this._blankEle.setAttribute("data-index",parseInt(t.getAttribute("data-index")))):(r.dom.insertBefore(this._blankEle,t),this._blankEle.setAttribute("data-index",parseInt(t.getAttribute("data-index"))))},replaceBlank:function(){var e=this,t={container:this.container,from:this._currentEle.getAttribute("data-index"),to:this._blankEle.getAttribute("data-index")};this._currentEle.parentNode.insertBefore(this._currentEle,this._blankEle),this.dispatchEvent(l.ON_DRAG,t);var n=r.dom.query(this.list,e.container);r.array.each(n,function(e,t){e.setAttribute("data-index",t)}),this._blankEle.removeAttribute("data-index"),r.dom.hide(e._blankEle),r.dom.setStyles(e._currentEle,{position:"static",left:"auto",top:"auto"}),e.preDragEle=e._currentEle,e._currentEle=null}}),d=function(e){var t=new o(e);return t.init(),t};n.exports=d});
;define("common:widget/ui/tokenCheck/tokenCheck.js",function(e,n,t){var o=e("common:widget/lib/tangram/base/base.js"),i=e("common:widget/ui/errno/errno.js"),r=o.lang.createClass(function(e){this.container=e.container,this.tokenInput=o.dom.q("vcode-number",this.container)[0],this.tokenNumber=o.dom.q("token-number",this.container)[0],this.tokenImg=o.dom.q("token-img",this.container)[0],this.tokenRefresh=o.dom.q("token-refresh",this.container)[0],this.tokenWrongMsg=o.dom.q("code-wrong-msg",this.container)[0],o.extend(this,e),this.init()}).extend({init:function(){var e=this;this.tokenRefresh&&o.on(e.tokenRefresh,"click",function(n){e.refreshToken(),o.event.stop(n)}),e.tokenInput&&o.event.once(e.tokenInput,"focus",function(){e.refreshToken();var n=o.dom.q("token-tips",this.container)[0];o.dom.hide(n),o.dom.show(e.tokenRefresh)})},refreshToken:function(){function e(e){var t=new Date;t=t.getTime(),n.tokenNumber.value=e.vcode_str,n.tokenImg.src=e.imgurl+"&timer="+t}var n=this;if(n.tokenNumber){var t=new Date;t=t.getTime(),o.ajax.get("/notes/gettoken?format=ajax&timer="+t,function(n){var t=o.json.parse(n.responseText);if(0===t.errno){var r=t.data.token;e(r)}else i.check(t)})}},_showVcodeValid:function(e){var n=o.dom.getParent(this.tokenWrongMsg);o.dom.show(n),this.tokenWrongMsg.innerHTML=e},_hideVcodeValid:function(){var e=o.dom.getParent(this.tokenWrongMsg);o.dom.hide(e)},checkVcode:function(){var e=this,n={};if(e.tokenInput){var t=e.tokenInput.value;if(t=o.string.trim(e.tokenInput.value),e.tokenInput.value=t,0===t.length)return e._showVcodeValid("请填写验证码"),!1;if(4!=t.length)return e._showVcodeValid("请输入四位验证码"),!1;if(t.length!=o.string.getByteLength(t))return e._showVcodeValid("请输入半角字符"),!1;e._hideVcodeValid()}return n={vcode:e.tokenInput.value,token:e.tokenNumber.value}}});t.exports=r});
;define("common:widget/ui/user-card/user-card.js",function(t,e,o){var r=t("common:widget/ui/jquery/jquery.js"),i=t("common:widget/ui/eJS/eJS.js"),s=t("common:widget/ui/lite/lite.js"),a=t("common:widget/ui/login/login.js"),n=function(t){this.anchorSetector=".J_user-card",this.template={url:"/static/common/widget/ui/user-card/template.ejs"},this.dataType={ajax:"/user/ajax/getexpert?format=ajax&uid="},this.hasFollow=0,this.user={},this.isDaren=!1,this.extraData={},r.extend(this,t),this.init()};r.extend(n.prototype,{init:function(){this.create(),this.bindEvn()},create:function(){var t=this;this._card=r("<div>").addClass("usercard-wrapper"),document.body.appendChild(t._card[0])},getData:function(t){var e=this;if(this.dataType&&this.dataType.ajax){var o=r(t).attr("data-uid");r.get(this.dataType.ajax+o,function(o){var a=r.extend(o.data,{$:r,lite:s},e.extraData),n="",c="";1==a.is_terminal?(n="daren-terminal",c="终极达人"):1==a.is_notes&&1==a.is_dianping&&1==a.is_pictravel?(n="daren-all",c="点评、游记、画册达人"):1==a.is_notes&&1==a.is_dianping?(n="daren-notes-remark",c="点评、游记达人"):1==a.is_notes&&1==a.is_pictravel?(n="daren-notes-pictravel",c="游记、画册达人"):1==a.is_dianping&&1==a.is_pictravel?(n="daren-remark-pictravel",c="点评、画册达人"):1==a.is_dianping?(n="daren-remark",c="点评达人"):1==a.is_notes?(n="daren-notes",c="游记达人"):1==a.is_pictravel&&(n="daren-pictravel",c="画册达人"),a.darentype=n,a.darentitle=c,e._card.html(new i(e.template).render(a)),1==e.hasFollow&&e.followAction(),e.getPosition(t),e._card.fadeIn(200)},"json")}},bindEvn:function(){var t=this;r(this.anchorSetector).mouseenter(function(e){t.show(e)}),r(this.anchorSetector).mouseleave(function(e){t.hide(e)}),this._card.mouseenter(function(){t.timer&&clearTimeout(t.timer)}),this._card.mouseleave(function(){t._card.fadeOut(200)})},getPosition:function(t){var e=this,o=r(t).offset().top-r(window).scrollTop(),i=r(t).offset().left-r(window).scrollLeft(),s=r(window).height(),a=r(window).width();e.isDaren?a-i>470?this.setPosition(t,"ModdelRight"):this.setPosition(t,"ModdelLeft"):s-o>380&&a-i>470?this.setPosition(t,"TopLeft"):s-o>380?this.setPosition(t,"TopRight"):a-i>470?this.setPosition(t,"BottomLeft"):this.setPosition(t,"BottomRight")},setPosition:function(t,e){var o=r(t).offset().top,i=r(t).offset().left,s=this._card.width(),a=this._card.height(),n=this;switch(e){case"TopRight":n._card.css({top:o-10,left:i-s-50}),n._card[0].className="usercard-wrapper top-right";break;case"BottomLeft":n._card.css({top:o-a-50,left:i-10}),n._card[0].className="usercard-wrapper bottom-left";break;case"BottomRight":n._card.css({top:o-a+50,left:i-s-20}),n._card[0].className="usercard-wrapper bottom-right";break;case"ModdelLeft":o-r(window).scrollTop()<320?(n._card.css({top:r(window).scrollTop(),left:i-s-50}),r(".usercard-arr").css({top:o-r(window).scrollTop()+20,right:"-6px"})):r(window).scrollTop()+r(window).height()-o<320?(n._card.css({top:r(window).scrollTop()+r(window).height()-320,left:i-s-50}),r(".usercard-arr").css({top:320-(r(window).scrollTop()+r(window).height()-o),right:"-6px"})):(n._card.css({top:o-160,left:i-s-50}),r(".usercard-arr").css({top:160,right:"-6px"})),r(".usercard-arr").addClass("right-arr"),n._card[0].className="usercard-wrapper daren-bottom-right";break;case"ModdelRight":console.log(o-r(window).scrollTop()),o-r(window).scrollTop()<320?(n._card.css({top:r(window).scrollTop(),left:i+90}),r(".usercard-arr").css({top:o-r(window).scrollTop()+10,left:"-3px"})):r(window).scrollTop()+r(window).height()-o<320?(n._card.css({top:r(window).scrollTop()+r(window).height()-320,left:i+90}),r(".usercard-arr").css({top:320-(r(window).scrollTop()+r(window).height()-o),left:"-3px"})):(n._card.css({top:o-160,left:i+90}),r(".usercard-arr").css({top:160,left:"-3px"})),n._card[0].className="usercard-wrapper daren-bottom-right";break;default:n._card.css({top:o-10,left:i+90}),n._card[0].className="usercard-wrapper top-left"}},show:function(t){var e=this;this.timer=setTimeout(function(){e.getData(t.currentTarget)},100)},hide:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t._card.fadeOut("fast")},100)},followAction:function(){var t=this;r(".usercard-wrapper .user-follow-btn").click(function(){var e={uid:r(this).attr("data-uid"),bdstoken:t.user.bdstoken||0},o="follow"==r(this).attr("data-type")?1:0;a.check(function(){1==o?r.post("/user/follow/save?format=ajax",e,function(o){0==o.errno&&t.showFollow(1,e)},"json"):0==o&&r.post("/user/follow/cancel?format=ajax",e,function(o){0==o.errno&&t.showFollow(0,e)},"json")})})},showFollow:function(t,e){var o=this;if(1==t){var i=[];i=['<div class="user-is-follow" >','<a href="###">已关注 |</a>','<a href="###" class="user-follow-btn J-cancel-follow"  data-type="unfollow" data-uid="'+e.uid+'">取消</a></div>'].join(""),r(".usercard-wrapper .J-person-relation").html(i)}else 0==t&&(i=[' <div class="user-follow-btn user-follow" data-uid="'+e.uid+'" data-type="follow">关注</div>'].join(""),r(".usercard-wrapper .J-person-relation").html(i));o.followAction()}}),o.exports=n});
;define("common:widget/ui/usercard/usercard.js",function(e,t,n){var o=e("common:widget/lib/tangram/base/base.js"),a=e("common:widget/ui/dialog/dialog.js"),s=e("common:widget/ui/nslog/nslog.js"),i=e("common:widget/ui/lite/lite.js"),c=e("common:widget/ui/follow/follow.js"),r=e("common:widget/ui/score/score.js"),l=e("common:widget/lib/tangram/fx/opacity/opacity.js"),d=e("common:widget/ui/login/login.js"),u={},p=o.ui.createUI(function(){var e=this;e.items={},e.fx=null,e.openTimer=0,e.closeTimer=0}).extend({uiType:"usercard",classPrefix:"lv-usercard",zIndex:999,contentText:"",position:{left:0,top:0},direction:"bottom",showDelay:500,hideDelay:500,tplBody:"<div id='#{id}' class='#{class}' style='position:relative;'></div>",isShown:function(){return"show"==u[this.guid]},onload:function(){},onopen:function(){},onclose:function(){},_getString:function(){var e=this;return o.format(e.tplBody,{id:e.getId(),"class":e.getClass("wrapper")})},_clearTimeAll:function(){var e=this;clearTimeout(e.openTimer),clearTimeout(e.closeTimer)},render:function(){var e,t=this;if(!t.getMain())return e=t.renderMain(),e.innerHTML=t._getString(),o.dom.setStyles(t.getMain(),{position:"absolute",zIndex:t.zIndex,left:"-10000px",top:0,opacity:0}),o.event.on(e,"mouseover",function(){t._clearTimeAll()}),o.event.on(e,"mouseout",function(){t.close()}),t.dispatchEvent("onload"),e},update:function(e){var t=this,n=t.getMain();o.object.extend(t,e),t.getBody().innerHTML=t.contentText,"left"==t.direction?t.position.left-=n.offsetWidth:"top"==t.direction&&(t.position.top-=n.offsetHeight),o.dom.setStyles(n,{left:t.position.left,top:t.position.top}),t.dispatchEvent("onupdate")},open:function(e){var t=this,n=t.getMain();return o.object.extend(t,e),t._clearTimeAll(),t.isShown()?void t.update(e):void(t.openTimer=setTimeout(function(){t.update(e),t.fx=l(n,{from:0,to:1,duration:250}),u[t.guid]="show",t.dispatchEvent("onopen")},t.showDelay))},close:function(){var e=this;e._clearTimeAll(),e.isShown()&&(e.closeTimer=setTimeout(function(){e.fx&&e.fx.cancel(),o.dom.setStyles(e.getMain(),{opacity:0,left:"-10000px",top:0}),u[e.guid]="hide",e.dispatchEvent("onclose")},e.hideDelay))}}),f=function(){var t=0,n=0,l=new Date,u={zIndex:20,showDelay:100,onload:function(){var e=o.dom.q("lv-usercard-main")[0];o.event.on(e,"click",function(t){t=t||window.event;for(var n=o.event.getTarget(t);n!==e;){if("a"==n.nodeName.toLocaleLowerCase()){var a=parseInt((new Date-l)/1e3,10),i=window.location.href;s.nslog(i,1001,{cmd:"timecount",pos:"usercard-clicktime",count:a});break}n=n.parentNode}})},onopen:function(){var n=o.dom.query(".lv-usercard-main .usercard-follow"),s=n.length>0?o.dom.getAttr(n[0],"data-action"):0,i=t;"follow"==s?(n=n[0],n.onclick=function(){return f.close(),d.check(function(){var t="/user/follow/save?format=ajax",s="uid="+i+"&bdstoken="+(e("user").bdstoken||0);o.ajax.post(t,s,function(e,t){var s=o.json.parse(t);0==s.errno?(a.splash("关注成功"+r.notice.toHTML({score:1})),ugcScore.init("pop",{dom:n,rurl:"follow"}),f.items[i].relation="1",c.update(i,"follow"),f.close()):a.splash(!1)})}),!1}):"follow-cancel"==s&&(n=n[0],n.onclick=function(){return f.close(),a.confirm("您确认要取消关注吗？",{titleText:"取消关注",iconStyle:"alert",onaccept:function(){d.check(function(){var t="/user/follow/cancel?format=ajax",n="uid="+i+"&bdstoken="+(e("user").bdstoken||0);o.ajax.post(t,n,function(e,t){var n=o.json.parse(t);0==n.errno?(f.items[i].relation="0",f.close(),c.update(i,"unfollow")):a.splash(!1)})})}}),!1})},onclose:function(){var e=parseInt((new Date-l)/1e3,10),t=window.location.href;s.nslog(t,1001,{cmd:"timecount",pos:"usercard-showtime",count:e});var n=o.dom.query(".lv-usercard-main .usercard-follow");n.length>0&&(n[0].onclick=null)}},f=new p(u),m=function(e,t){var n=e;n.arr_type=0,"left"==t?n.arr_type=1:"top"==t?n.arr_type=2:"right"==t&&(n.arr_type=3),n.nickname=o.string.encodeHTML(n.nickname),n.location=o.string.encodeHTML(n.location||""),n.avatar_format=i.getUserHead(n.avatar_small,n.avatar_source),n.level_format=i.getUserLevel(n.score),n.title_format=i.getUserTitle(n.score),n.self_introduction_cut=o.string.encodeHTML(i.cut(n.self_introduction,80)||""),n.preferences_cut=o.string.encodeHTML(i.cut(n.preferences.join("、"),40)),n.is_famous=n.is_famous||0;var a='class="nslog nickname"';1==n.is_daren?a='class="nslog ico user-daren nickname" title="旅游达人"':1==n.is_famous&&(a='class="nslog ico user-daren nickname" title="旅游名人"');var s='<div class="usercard-arrow ur-arrow-#{arr_type}"></div>',c=""!==n.self_introduction_cut?'<p><span class="uc-info-tit">简介：</span><span class="uc-info-con">#{self_introduction_cut}</span></p>':"",r=n.preferences.length>0?'<p><span class="uc-info-tit">爱好：</span> <span class="uc-info-con">#{preferences_cut}</span></p>':"",l="",d=n.notes;if(d.length>0){var u=n.notes_count>3?'<a class="fr nslog" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-notes-more"}\' href="/user/notes/#{uid}" target="_blank">更多</a>':"";l+='<div class="uc-note"><p>'+u+'<span class="uc-note-tit">精彩游记：</span></p><ul class="uc-note-list nslog-area" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-notes-area"}\'>';for(var p=0,f=d.length;f>p;p++)l+='<li><p class="uc-note-atc">',d[p].is_good=d[p].is_good||0,d[p].is_praised?l+='<span class="icon icon-praise" title="精华"></span>':d[p].is_good&&(l+='<span class="icon icon-good" title="优质"></span>'),l+='<a href="/notes/'+d[p].nid+'" target="_blank" title="'+o.string.encodeHTML(d[p].title)+'">'+o.string.encodeHTML(i.cut(d[p].title,36))+'</a></p><span class="uc-note-date">'+i.date("Y-m-d",d[p].update_time)+"</span></li>";l+="</ul></div>"}var m=""!=n.location?'<span class="mr10">'+n.location+"</span>":"",g='<div class="usercard-content"><div class="uc-data"><div class="uc-base"><div class="uc-base-l"><a class="avatar nslog" href="/user/#{uid}" title="#{nickname}" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-avatar"}\'><img width="50" height="50" src="#{avatar_format}" alt="#{nickname}的头像" /></a></div><div class="uc-base-r"><p><span><a '+a+' data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-nickname"}\' href="/user/#{uid}" target="_blank">#{nickname}</a></span><a target="_blank" href="/user/achieve/#{uid}/" class="user-level i-level-#{level_format} nslog" data-nslog=\'{"type":502,"page":"user-achieve","cmd":"click","pos":"achieve-other-level-click"}\'></a></p><p>'+m+'</p><p><span class="mr15"><a class="nslog" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-follow"}\' href="/user/follow/#{uid}" target="_blank">关注 <span class="num">#{follow_count}</span></a></span><span class="mr15"><a class="nslog" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-fans"}\' href="/user/fans/#{uid}" target="_blank">粉丝 <span class="num">#{fans_count}</span></a></span><span><a class="nslog" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-notes"}\' href="/user/notes/#{uid}" target="_blank">游记 <span class="num">#{notes_count}</span></a></span></p></div></div><div class="uc-info">'+c+r+"</div></div>"+l+"</div>",v="";0==n.is_myself&&(v='<div class="usercard-menu"><p class="fr">',v+=0==n.relation?'<a href="###" class="btn nslog usercard-follow" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-btn-follow"}\' data-action="follow"><em><span class="icon icon-follow">关注</span></em></a>':'<span class="btn-already"><span class="icon icon-fans">已关注 <span class="line-sp">|</span> <a class="nslog usercard-follow" data-nslog=\'{"type":1001,"cmd":"click","pos":"usercard-btn-follow-cancel"}\' href="###" data-action="follow-cancel">取消</a></span></span>',v+="</p></div>");var h=v+s+g;return o.string.format(h,n)},g=function(e){var t=o.dom.getAttr(e,"data-usercard");if("#href#"===t){var n=e.href;if(!n)return null;var a=n.lastIndexOf("/");t=n.substring(a+1)}return t},v=function(e){var n=e;if(f.render(),f.items[n.uid])return n.contentText=m(f.items[n.uid],n.direction),void f.open(n);var a=Date.parse(new Date);o.ajax.get("/user/usercard?t="+a+"&format=ajax&uid="+n.uid,function(e,a){var s=o.json.parse(a);0==s.errno&&t===n.uid&&(f.items[n.uid]=s.data,n.contentText=m(s.data,n.direction),f.open(n))})},h=function(e,t){l=new Date;var n=o.dom.getPosition(e),a="bottom",s=o.page.getViewWidth(),i=o.page.getViewHeight(),c=o.page.getScrollTop(),r={left:n.left-15,top:n.top+e.offsetHeight+5};n.top-c+250>i&&n.top-c>i/2&&(r.top=n.top,a="top"),n.left>s/2+230&&(r.left=n.left-5,r.top=n.top+parseInt(e.offsetHeight/2,10)-45,a="left");var d=g(e),u={position:r,uid:d,direction:a};o.object.extend(u,t),v(u)},w=function(){f.close()};return function(e,a){0!=e.length&&(o.each(e,function(e){""!==e.title&&(e.title=""),o.each(o.dom.children(e),function(e){""!==e.title&&(e.title="")}),o.browser.ie&&("img"==e.nodeName.toLocaleLowerCase()&&""!==e.alt&&(e.alt=""),o.each(o.dom.query("img",e),function(e){e.alt=""}));var s=g(e);null!=s&&(o.event.on(e,"mouseover",function(){clearTimeout(n),t=s,n=setTimeout(function(){h(e,a)},200)}),o.event.on(e,"mouseout",function(){clearTimeout(n),w(e)}))}),o.lang.eventCenter.addEventListener("followUpdate",function(e){var t=e.uid,n=e.relation;f.items[t]&&(f.items[t].relation=n)}))}}();n.exports={create:f}});
;define("common:widget/ui/visit-time/visit-time.js",function(e,t,i){var s=(e("common:widget/lib/tangram/base/base.js"),e("common:widget/ui/subcookie/subcookie.js"));i.exports.init=function(e){var t=function(e){var t=new Date;return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),"year"==e&&(t.setDate(1),t.setMonth(0),t.setFullYear(t.getFullYear()+1)),"month"==e&&(t.setDate(1),t.setMonth(t.getMonth()+1)),"day"==e&&t.setDate(t.getDate()+1),t},i={year:s.get("BDLVYEAR","VISITTIME",{domain:e}),month:s.get("BDLVYEAR","VISITTIME",{domain:e}),day:s.get("BDLVYEAR","VISITTIME",{domain:e})},a=new Date,n=a.getTime(),o=t("year"),I=t("month"),T=t("day");if(!i.year||!i.month||!i.day)return s.set("BDLVYEAR","VISITTIME",n,{domain:e,expires:o}),s.set("BDLVMONTH","VISITTIME",n,{domain:e,expires:I}),void s.set("BDLVDAY","VISITTIME",n,{domain:e,expires:T});var m=new Date,r=new Date,D=new Date;m.setTime(i.year),r.setTime(i.month),D.setTime(i.day),m.getFullYear()!==a.getFullYear()?(s.set("BDLVYEAR","VISITTIME",n,{domain:e,expires:o}),s.set("BDLVMONTH","VISITTIME",n,{domain:e,expires:I}),s.set("BDLVDAY","VISITTIME",n,{domain:e,expires:T})):r.getMonth()!==a.getMonth()?(s.set("BDLVMONTH","VISITTIME",n,{domain:e,expires:I}),s.set("BDLVDAY","VISITTIME",n,{domain:e,expires:T})):D.getDate()!==a.getDate()&&s.set("BDLVDAY","VISITTIME",n,{domain:e,expires:T})}});
;define("common:widget/header/ipad-top/ipad-top.js",function(o,e,s){var d=o("common:widget/lib/tangram/base/base.js"),i=o("common:widget/ui/subcookie/subcookie.js"),a=o("common:widget/ui/nslog/nslog.js"),n=function(){var o=document.body,e=d.g("J_ipad-top"),s=d.g("J_ipad-top-close"),n=d.g("J_go-web"),t=(d.g("openApp"),"BDLVWEEK"),c="LV_APP_IPAD_BANNER",m=new Date;if(m.setDate(m.getDate()+7),!i.get(t,c)){if(!d.browser.safari){var p=d.dom.create("div");p.className="no-sf",p.innerHTML='<div class="no-sf"><a class="no-sf-download nslog" id="noSf-download" href="https://itunes.apple.com/cn/app/bai-du-lu-youhd/id621986255?mt=8"></a><a class="no-sf-close nslog" id="close_no-sf"></a></div>',d.dom.insertBefore(p,o),d.dom.setAttr("noSf-download","data-nslog",'{"type":105,"cmd":"click","pos":"ipad-top-click"}'),d.dom.setAttr("close_no-sf","data-nslog",'{"type":105,"cmd":"click","pos":"ipad-top-close-click"}'),d.dom.addClass(o,"theme-ipad-top");var l=d.g("close_no-sf");d.on(l,"click",function(){i.set(t,c,1),d.dom.remove(p),d.dom.hasClass(o,"theme-ipad-top")&&d.dom.removeClass(o,"theme-ipad-top")})}if(-1==document.referrer.indexOf("lvyou.baidu.com")){d.dom.insertBefore(e,o);var r=d.dom.create("div");r.className="ipad-black-bg",d.dom.insertBefore(r,e),d.show(e);var f=window.location.href;a.nslog(f,105,{type:105,cmd:"show",pos:"ipad-top-show"});var g=function(){d.dom.remove(e),d.dom.remove(r),i.set(t,c,1,{expires:m})};d.on(s,"click",g),d.on(n,"click",g),d.on(openApp,"click",function(){var o=d.dom.create("iframe");o.src="sinaweibosso.3772466956://Editor",o.style.display="none",document.body.appendChild(o),window.setTimeout(function(){document.body.removeChild(o)},3e3)})}}};s.exports=n});
;define("common:widget/header/nav-channel/nav-channel.js",function(n,e,o){var a=n("common:widget/lib/tangram/base/base.js"),m=function(){var n=a.dom.g("J_nav-channel"),e=a.dom.query(".new-mix-nav",n);e.length>0&&a.each(e,function(n){a.event.on(n,"mouseover",function(){a.dom.addClass(n,"new-mix-nav-hover")}),a.event.on(n,"mouseout",function(){a.dom.removeClass(n,"new-mix-nav-hover")})})};o.exports=m});
;define("common:widget/header/search-box/search-box.js",function(e,t,a){var o=e("common:widget/lib/tangram/base/base.js"),n=e("common:widget/ui/nslog/nslog.js"),i=e("common:widget/ui/suggestion/suggestion.js");e("common:widget/lib/tangram/ui/Suggestion/Suggestion_data/Suggestion_data.js"),e("common:widget/lib/tangram/ui/Suggestion/Suggestion_coverable/Suggestion_coverable.js"),e("common:widget/lib/tangram/ui/Suggestion/Suggestion_fixWidth/Suggestion_fixWidth.js"),e("common:widget/lib/tangram/ui/Suggestion/Suggestion_input/Suggestion_input.js");var s={};s.init=function(){var t,a=function(){var e=o.dom.query(".search-form")[0];e&&e.reset();var t=0;return function(e,a,n){if(e){t&&clearTimeout(t),o.event.on(e,"focus",function(){o.dom.removeClass(e,n);var t=e.value;o.string.trim(t)===a&&(e.value="")}),o.event.on(e,"blur",function(){var i=e.value;""===o.string.trim(i)?(t=setTimeout(function(){e.value=a},100),o.dom.hasClass(e,n)||o.dom.addClass(e,n)):o.dom.removeClass(e,n)});var i=document.activeElement?document.activeElement===e:!1;""===o.string.trim(e.value)&&i===!1&&(e.value=a,o.dom.hasClass(e,n)||o.dom.addClass(e,n))}}}();return function(){var s=o.dom.query("input.search-word")[0];if(s){var d=new i({ele:s,index:parseInt(1e3*Math.random(),10)});d.init({onconfirm:function(e){var a=top.location.href,i=(new Date).getTime();n.nslog(a,103,{cmd:"click",pos:"search-suggestion",index:e.data.index,count:i-t});var s=(e.data.index,e.data.item),d="";if(s?(d=s.value,n.nslog(a,103,{cmd:"click",pos:"search-suggestion-pick"})):(n.nslog(a,103,{cmd:"click",pos:"search-suggestion-nopick"}),d=e.data.item&&e.data.item.value?e.data.item.value:e.data),s&&s.surl)return void setTimeout(function(){var e=s.surl;window.location.href="/"+e+"/"},100);if(""!=o.string.trim(d)){var r=o.dom.create("form",{action:"/search",method:"GET"});document.body.appendChild(r);var c=o.dom.create("input",{type:"hidden",value:d,name:"word"}),m=o.dom.create("input",{type:"hidden",value:"1",name:"form"});r.appendChild(c),r.appendChild(m),r.style.display="none",setTimeout(function(){r.submit(),r=null},200)}},view:function(e){return e.width=240,e.top=e.top+2,e.left=e.left-5,e}})}var r=["",""],c=["目的地|游记","找人"],m=o.dom.query(".search-word");a(m[0],r[0],"search-word-empty"),a(m[1],r[1],"search-word-empty");var u=o.dom.q("search-form")[0];o.event.on(u,"submit",function(e){var t=0,a=m[0];if(o.array.each(m,function(e,o){""==e.disabled&&(t=o,a=e)}),a.value==r[t]||""==o.string.trim(a.value))return void o.event.stop(e);var i=top.location.href;n.nslog(i,100,{cmd:"click",pos:"search-query-submit",test:"new"})});var l=o.g("J-switchQueryBtn"),g=o.dom.g("J_search-type"),v=0,h=o.dom.query("#J_search-type li");o.on(l,"click",function(){var e=o.dom.getAttr(l,"data-index"),t=g.getElementsByTagName("li");o.array.each(t,function(e){o.show(e)}),o.dom.hasClass(g,"hide")?(o.dom.removeClass(g,"hide"),o.hide(t[e])):o.dom.addClass(g,"hide")});var f=["/search","/search/user"];if(e("search")&&1==e("search").search_type){u.action=f[1];var p=m[1],b=m[0];o.dom.show(p),p.disabled="",o.dom.hide(b),b.disabled="disabled",l.innerHTML=c[1],o.dom.setAttr(l,"data-index",1)}o.on(g,"click",function(e){var t=o.event.getTarget(e);if("li"==t.tagName.toLocaleLowerCase()){var a=o.dom.getAttr(t,"data-index"),n=a,i=v,s=m[n],d=m[i];o.dom.removeClass(h[i],"search-type-selectd"),o.dom.addClass(t,"search-type-selectd");var g=d.value==r[i]?"":d.value;s.value=g?g:r[n],u.action=f[n],o.dom.show(s),s.disabled="",s.focus(),o.dom.hide(d),d.disabled="disabled",l.innerHTML=c[n],o.dom.setAttr(l,"data-index",n),v=a}}),o.on(document.body,"click",function(e){var t=o.event.getTarget(e);t!=l&&g&&!o.dom.hasClass(g,"hide")&&o.dom.addClass(g,"hide")});var w=o.dom.query(".search-btn")[0],y="search-btn-click",C="search-btn-hover",x=function(){var e=y+" "+C;o.dom.removeClass(w,e)};o.on(w,"mousedown",function(){x(),o.dom.addClass(w,y)}),o.on(w,"mouseover",function(){x(),o.dom.addClass(w,C)}),o.on(w,"mouseout",function(){x()})}}(),a.exports=s});
;define("common:widget/header/top-ad/top-ad.js",function(t,i,e){var s=t("common:widget/lib/tangram/base/base.js"),a=t("common:widget/ui/nslog/nslog.js"),h=50,n=50,o=s.lang.createClass(function(){this.aContainer=null,this.userbar=null,this.runing=!1,this.opened=!1,this.timer=null,this.outWidth=0,this.blockWidth=[110,110,110,190,210,230,250],this.hasblock=!1,this.isout=!0,this.aniClass=["ani00","ani01","ani02","ani03","ani04","ani05","ani06"],this.activeIndex=0,this.activeClass=this.aniClass[this.activeIndex],this.activeWidth=this.blockWidth[this.activeIndex],this.maxlen=this.aniClass.length,this.maxWidth=window.screen.availWidth>1024?1020:980}).extend({init:function(){this.aContainer=s.dom.g("J-topani"),this.userbar=s.dom.g("J_user-bar"),this.bluecontainer=s.dom.q("theme-blue")[0],this.bluecontainer&&(this.blueuserbar=s.dom.g("J_user-bar",this.bluecontainer)),this.gif=s.dom.g("J-new-year");var t=this;if(a.nslog(location.href,150,{cmd:"show",pos:"page-top"}),6==s.browser.ie){s.dom.removeClass(this.aContainer,"ani00"),s.dom.addClass(this.aContainer,"ani06");var i=s.page.getViewWidth();this.outWidth=0;var e=s.g("J_user-bar"),h=s.dom.getPosition(e).left+e.offsetWidth,n=this,o=setInterval(function(){h>0?(clearInterval(o),rightWidth=i-h,rightWidth>260?n.hasblock=!1:(n.outWidth=rightWidth,n.hasblock=!0)):h=s.dom.getPosition(e).left+e.offsetWidth},100);this.activeIndex=4,this.activeWidth=this.blockWidth[this.activeIndex];var d=this.activeWidth-this.outWidth;d=d>0?d:0,this.bluecontainer&&(s.dom.setStyle(this.blueuserbar,"padding-right",d),s.dom.setStyle(this.blueuserbar,"width",this.maxWidth-d))}else this.loadRsources(function(){t.resize(),s.dom.show(t.aContainer),s.on(t.aContainer,"mouseover",function(){t.toggle.call(t),t.isout=!1}),s.on(t.aContainer,"mouseout",function(){t.opened&&t.toggle.call(t),t.isout=!0}),s.on(window,"resize",function(){t.resize.call(t)})})},resize:function(){var t=s.page.getViewWidth(),i=s.g("J_user-bar"),e=s.dom.getPosition(i).left+i.offsetWidth,a=0,h=this,n=setInterval(function(){if(e>0)if(clearInterval(n),a=t-e,a>260)h.hasblock=!1;else{h.outWidth=a,h.hasblock=!0;var o=h.activeWidth-h.outWidth;o=o>0?o:0,h.bluecontainer&&(s.dom.setStyle(h.blueuserbar,"padding-right",o),s.dom.setStyle(h.blueuserbar,"width",h.maxWidth-o))}else e=s.dom.getPosition(i).left+i.offsetWidth},100)},loadRsources:function(t){var i="http://lvyou1.bdimg.com/static/common/widget/header/top-ad/img/ani/flashall_24a845c.png",e=new Image;e.onload=e.onerror=function(){t()},e.src=i},toggle:function(){if(!this.runing){this.runing=!0;var t=this;this.timer=this.opened?setInterval(function(){t._toHide.call(t)},n):setInterval(function(){t._toShow.call(t)},h)}},_toShow:function(){if(this.activeIndex<this.maxlen){if(s.dom.removeClass(this.aContainer,this.activeClass),this.activeClass=this.aniClass[this.activeIndex],this.activeWidth=this.blockWidth[this.activeIndex],this.hasblock){var t=this.activeWidth-this.outWidth;t=t>0?t:0,this.bluecontainer&&(s.dom.setStyle(this.blueuserbar,"padding-right",t),s.dom.setStyle(this.blueuserbar,"width",this.maxWidth-t))}else this.bluecontainer&&(s.dom.setStyle(this.blueuserbar,"padding-right",0),s.dom.setStyle(this.blueuserbar,"width",this.maxWidth));this.activeIndex++,s.dom.addClass(this.aContainer,this.activeClass)}else clearInterval(this.timer),this.runing=!1,this.opened=!0,this.activeIndex=this.maxlen-1,this.activeClass=this.aniClass[this.activeIndex],this.activeWidth=this.blockWidth[this.activeIndex]},_toHide:function(){if(this.activeIndex>-1){if(s.dom.removeClass(this.aContainer,this.activeClass),this.activeClass=this.aniClass[this.activeIndex],this.activeWidth=this.blockWidth[this.activeIndex],this.hasblock){var t=this.activeWidth-this.outWidth;t=t>0?t:0,this.bluecontainer&&(s.dom.setStyle(this.blueuserbar,"padding-right",t),s.dom.setStyle(this.blueuserbar,"width",this.maxWidth-t))}else this.bluecontainer&&(s.dom.setStyle(this.blueuserbar,"padding-right",0),s.dom.setStyle(this.blueuserbar,"width",this.maxWidth));this.activeIndex--,s.dom.addClass(this.aContainer,this.activeClass)}else clearInterval(this.timer),this.runing=!1,this.opened=!1,this.activeIndex=0,this.activeClass=this.aniClass[this.activeIndex],this.activeWidth=this.blockWidth[this.activeIndex]}});e.exports=o});
;define("common:widget/header/top-bar/top-bar.js",function(e,o,t){var n=e("common:widget/lib/tangram/base/base.js"),i=e("common:widget/ui/url/url.js"),s=e("common:widget/ui/login/login.js"),m=(e("common:widget/ui/dialog/dialog.js"),e("common:widget/ui/fillinusername/fillinusername.js")),l=e("common:widget/ui/subcookie/subcookie.js"),u=function(){var o=e("user"),t=n.dom.g("J_user-bar");if(n.event.on(t,"click",function(e){var o=n.event.getTarget(e),t=o.getAttribute("data-url");t&&(o.href=t+"&bdstoken="+i.getJumpbackQuery())}),0==o.is_login){var u=n.dom.g("J_login-link");n.event.on(u,"click",function(e){s.check(),n.event.stop(e)})}var a=n.g("J_edit-nousername");if(a&&n.on(a,"click",function(){m(window.location)}),n.browser.ie&&6==n.browser.ie){var c=n.dom.g("J_nav-channel-user-center"),r=n.dom.g("J_nav-channel-user-center-drop-menu"),d=0;c&&r&&(n.on(c,"mouseenter",function(){d&&(clearTimeout(d),d=0),n.dom.setStyle(r,"display","block"),n.dom.setStyle(r,"height",229)}),n.on(r,"mouseover",function(){d&&(clearTimeout(d),d=0),n.dom.setStyle(r,"display","block"),n.dom.setStyle(r,"height",229)}),n.on(r,"mouseout",function(){d=setTimeout(function(){n.dom.setStyle(r,"display","none"),n.dom.setStyle(r,"height",20)},400)}));var g=n.dom.g("J_nav-channel-msg-center"),h=n.dom.g("J_nav-channel-user-msg-drop-menu"),y=0;g&&h&&(n.on(g,"mouseenter",function(){y&&(clearTimeout(y),y=0),n.dom.setStyle(h,"filter","alpha(opacity=100)"),n.dom.setStyle(h,"display","block"),n.dom.setStyle(h,"height",229)}),n.on(h,"mouseover",function(){y&&(clearTimeout(y),y=0),n.dom.setStyle(h,"display","block"),n.dom.setStyle(h,"height",229)}),n.on(h,"mouseout",function(){y=setTimeout(function(){n.dom.setStyle(h,"display","none"),n.dom.setStyle(h,"height",20)},400)}))}var f="BDLVDAY",v="LV_NOUSERNAME_LOGIN",b=parseInt(l.get(f,v),10);o.is_login&&!o.has_uname&&b&&m()};t.exports={init:u}});